{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Here\u2019s BIGTREETECH! For Makers, by makers! \u00b6 We appreciate all of your support to BIGTREETECH! To offer an excellent experience of creation to every makers,We\u2019re devoted to design and produce high-quality and durable accessories! How to contact \u00b6 If you have any technical issue,please don\u2019t hesitate contact us: BIGTREETECH: service004@biqu3d.com Follow us on social media to get more news \u00b6 Facebook: https://www.facebook.com/BIGTREETECH/ Twitter: https://twitter.com/BigTreeTech Instagram: https://www.instagram.com/bigtreetech_official/ Official Site: https://bigtree-tech.com/","title":"Welcome"},{"location":"index.html#heres-bigtreetech-for-makers-by-makers","text":"We appreciate all of your support to BIGTREETECH! To offer an excellent experience of creation to every makers,We\u2019re devoted to design and produce high-quality and durable accessories!","title":"Here\u2019s BIGTREETECH! For Makers, by makers!"},{"location":"index.html#how-to-contact","text":"If you have any technical issue,please don\u2019t hesitate contact us: BIGTREETECH: service004@biqu3d.com","title":"How to contact"},{"location":"index.html#follow-us-on-social-media-to-get-more-news","text":"Facebook: https://www.facebook.com/BIGTREETECH/ Twitter: https://twitter.com/BigTreeTech Instagram: https://www.instagram.com/bigtreetech_official/ Official Site: https://bigtree-tech.com/","title":"Follow us on social media to get more news"},{"location":"CB1.html","text":"CB1 \u00b6 Introduction \u00b6 The BIGTREETECH CB1 is launched to provide a great solution to the insane shortage of Raspberry Pi CM4. It outputs signals to the motherboard via the fast and convenient two 100 pins micro BTB connection header. Moreover, it is onboard 2.4G WiFi. Main Features \u00b6 CPU: ALLWINNER H616, Quad-core Cortex-A53 @1.5GHz GPU: Mali G31 MP2, Support OpenGL3.2 RAM: 512MB/1GB DDR3L SDRAM Display: Compatible with HDMI2.0A Interface, Support 4K Displays Compatible with USB2.0 Interface Support 100M Ethernet + 100M WiFi Having the same BTB header as the Raspberry Pi CM4. Basic Parameters \u00b6 Product Size: 40mm x 55mm Mounting Size: 33mm x 48mm Input Voltage: 5V\u00b15%/2A Output Voltage: 3.3V\u00b12%/100mA Output Voltage: 1.8V\u00b12%/100mA WiFi: 2.4G/802.11 b/g/n Dimensions \u00b6 Schematic \u00b6 BIGTREETECH_CB1_V22_220812_SCH PinOut \u00b6 40 pin GPIO \u00b6 The 40 pin GPIO on the motherboard when CB1 is used with motherboard like Manta M4P, M5P, M8P, PI4B_Adapter, etc. Pin Signal Description Pin Signal Description 1 3.3V 2 5V 3 NC 4 5V 5 NC 6 GND 7 PC7 GPIO71 8 PH0 GPIO224, UART0_TX 9 GND 10 PH1 GPIO225, UART0_RX 11 PC14 GPIO78 12 PC13 GPIO77 13 PC12 GPIO76 14 GND 15 PC10 GPIO74 16 PC11 GPIO75 17 3.3V 18 PC9 GPIO73 19 PH7 GPIO231, SPI1_MOSI 20 GND 21 PH8 GPIO232, SPI1_MISO 22 NC 23 PH6 GPIO230, SPI1_CLK 24 NC 25 GND 26 PG8 GPIO200 27 NC 28 PG7 GPIO199 29 NC 30 GND 31 PG6 GPIO198 32 PG9 GPIO201 33 NC 34 GND 35 PC6 GPIO70 36 NC 37 PC15 GPIO79 38 PH10 GPIO234, IR_RX 39 GND 40 PC8 GPIO72 2 * 100 pins \u00b6 A Pin Signal Description A Pin Signal Description 1 GND 2 GND 3 NC 4 EPHY-TXP Ethernet TX Positive 5 NC 6 EPHY-TXN Ethernet TX Negative 7 GND 8 GND 9 NC 10 EPHY-RXP Ethernet RX Positive 11 NC 12 EPHY-RXN Ethernet RX Negative 13 GND 14 GND 15 LINK_LED Ethernet LED 16 NC 17 SPD_LED Ethernet LED 18 NC 19 NC 20 NC 21 PH5 System LED(ACT) 22 GND 23 GND 24 PC15 25 PC8 26 PC6 27 PH10 28 NC 29 NC 30 PG6 31 PG9 32 GND 33 GND 34 NC 35 PG7 36 NC 37 PG8 38 PH6 39 NC 40 PH8 41 NC 42 GND 43 GND 44 PH7 45 PC9 46 PC10 47 PC11 48 PC12 49 PC13 50 PC14 51 SoC_RX DEBUG UART 52 GND 53 GND 54 PC7 55 SoC_TX DEBUG UART 56 NC 57 SDC0-CLK MicroSD Card 58 NC 59 GND 60 GND 61 SDC0-D3 MicroSD Card 62 SDC0-CMD MicroSD Card 63 SDC0-D0 MicroSD Card 64 PG11 65 GND 66 GND 67 SDC0-D1 MicroSD Card 68 PG12 69 SDC0-D2 MicroSD Card 70 PG13 71 GND 72 PG14 73 PG16 74 GND 75 NC 76 PI16 MicroSD Card detect 77 5V 78 NC 79 5V In 2A 80 NC 81 5V In 2A 82 NC 83 5V In 2A 84 3.3V Out 200mA 85 5V In 2A 86 3.3V Out 200mA 87 5V In 2A 88 1.8V Out 100mA 89 NC 90 1.8V Out 100mA 91 NC 92 PWRON 93 FEL 94 NC 95 NC 96 NC 97 NC 98 GND 99 Recovery 100 Reset B Pin Signal Description B Pin Signal Description 101 NC 102 NC 103 USB1-DM Host USB1 104 LineOut L 105 USB1-DP Host USB1 106 LineOut R 107 GND 108 GND 109 NC 110 NC 111 TV_OUT CVBS OUT 112 NC 113 GND 114 GND 115 NC 116 NC 117 NC 118 NC 119 GND 120 GND 121 NC 122 NC 123 NC 124 NC 125 GND 126 GND 127 NC 128 USB3-DM Host USB3 129 NC 130 USB3-DP Host USB3 131 GND 132 GND 133 NC 134 USB2-DM Host USB2 135 NC 136 USB2-DP Host USB3 137 GND 138 GND 139 NC 140 USB0-DM OTG USB 141 NC 142 USB0-DP OTG USB 143 NC 144 GND 145 NC 146 NC 147 NC 148 NC 149 NC 150 GND 151 HCEC HDMI CEC 152 NC 153 HHPD HDMI HotPlug 154 NC 155 GND 156 GND 157 NC 158 NC 159 NC 160 NC 161 GND 162 GND 163 NC 164 NC 165 NC 166 NC 167 GND 168 GND 169 NC 170 HTX2P HDMI TX2 Positive 171 NC 172 HTX2N HDMI TX2 Negative 173 GND 174 GND 175 NC 176 HTX1P HDMI TX1 Positive 177 NC 178 HTX1N HDMI TX1 Negative 179 GND 180 GND 181 NC 182 HTX0P HDMI TX0 Positive 183 NC 184 HTX0N HDMI TX0 Negative 185 GND 186 GND 187 NC 188 HTXCP HDMI CLK Positive 189 NC 190 HTXCN HDMI CLK Negative 191 GND 192 GND 193 NC 194 NC 195 NC 196 NC 197 GND 198 GND 199 HSDA HDMI I2C 200 HSCL HDMI I2C Software Configuration \u00b6 Network Settings \u00b6 Ethernet \u00b6 Plug-and-play with an Ethernet cable, no additional setup required. WiFi Settings \u00b6 After the OS writes to the SD card, there is a FAT32 partition named BOOT , open system.cfg file with Notpad , Notpad++ or VSCode . Set WIFI_SSID as your actual wifi name and WIFI_PASSWD as your actual wifi password, The space character can be parsed normally without additional escape character. For example: WIFI_SSID=\"CB1 Tester\" Overlays Settings \u00b6 After the OS writes to the SD card, there is a FAT32 partition named BOOT , open BoardEnv.txt file with Notpad , Notpad++ or VSCode . Set as required as shown in the figure below. The default value is console=display , This means that the UART0 of CB1 is used as the debugging port by default. We can use MobaXterm to connect to CB1 by UART0 and debug. If klipper wants to use UART0 to control the motherboard, we need to set it to console=serial , now klippe can use UART0 as /dev/ttyS0 . CB1 will automatically identify the HDMI resolution, but if your HDMI screen cannot report the resolution through the EDID normally, we can forcibly specify the resolution of CB1 output by uncomment extraargs=video and set the actual resolution. For example: BTT-HDMI7 resolution = 1024x600: extraargs=video=HDMI-A-1:1024x600-24@60 BTT-HDMI5 resolution = 800x480: extraargs=video=HDMI-A-1:800x480-24@60 Uncomment overlays=tft35_spi to enable TFT35 SPI screen. Uncomment overlays=mcp2515 to enable MCP2515 spi to canbus module. Uncomment overlays=tft35_spi mcp2515 If you want to use both TFT35 SPI screen and MCP2515 spi to canbus module uncomment the following overlays and parameters to release 'spidev1.1' to user space, And 'spidev1.1' cannot be used together with TFT35_SPI and MCP2515. overlays=spi-spidev param_spidev_spi_bus=1 param_spidev_spi_cs=1 param_spidev_max_freq=1000000 NOTE: TFT35 SPI and MCP2515 multiplex a group of SPI1 SPI1_CLK=PH6 SPI1_MISO=PH8 SPI1_MOSI=PH7 TFT35_SPI_CS=PC7 MCP2515_CS=PC11 MCP2515_IRQ=PC9 SSH Connection \u00b6 Install the ssh application Mobaxterm: https://mobaxterm.mobatek.net/download-home-edition.html Insert the Micro SD card (installed OS) to motherboard, wait for system to load after power on, aprox. 1-2min. the ACT LED on the motherboard will flash continuously after startup successfully. The device will automatically be assigned a IP address after successfully connected to the network Find the device IP address in your router page Or use the https://angryip.org/ tool\uff0cscan all IP address in the current network organize by names, find the IP named Hurakan, BTT-CB1 like shown below Open Mobaxtermand click \u201cSession\u201d, and click \u201cSSH\u201d\uff0cinset the device IP into Remote host and click \u201cOK\u201d (note: your computer and the device needs to be in the same network) Input the login name and password to enter the SSH terminal interface login as: biqu password: biqu Software Installation \u00b6 Download the OS Image \u200b Please download and install the OS image we provided: https://github.com/bigtreetech/CB1/releases Download and Install Writing Software \u200b The official Raspberry Pi Imager: https://www.raspberrypi.com/software/ \u200b balenaEtcher: https://www.balena.io/etcher/ \u200b Both of the above software can be used, just choose one to download and install Format SD card \u200b Normally, you can format the SD card with the tools provided by the computer system. Completely format the SD card with professional SD card format software. https://www.sdcard.org/downloads/formatter/ Write OS Raspberry Pi Imager \u200b Insert a MicroSD into your computer. \u200b Choose OS. Select \"Use custom\", then select the image that you downloaded. Select the MicroSD card and click \"WRITE\" (WRITE the image will format the MicroSD card. Be careful not to select the wrong storage device, otherwise the data will be formatted.) Wait for the writing to finish. balenaEtcher \u200b Insert a MicroSD card to your computer through a card reader. \u200b Select the image that you downloaded. \u200b Select the MicroSD card and click \"WRITE\" (WRITE the image will format the MicroSD card. Be careful not to select the wrong storage device, otherwise the data will be formatted.) \u200b Wait for the writing to finish.","title":"CB1"},{"location":"CB1.html#cb1","text":"","title":"CB1"},{"location":"CB1.html#introduction","text":"The BIGTREETECH CB1 is launched to provide a great solution to the insane shortage of Raspberry Pi CM4. It outputs signals to the motherboard via the fast and convenient two 100 pins micro BTB connection header. Moreover, it is onboard 2.4G WiFi.","title":"Introduction"},{"location":"CB1.html#main-features","text":"CPU: ALLWINNER H616, Quad-core Cortex-A53 @1.5GHz GPU: Mali G31 MP2, Support OpenGL3.2 RAM: 512MB/1GB DDR3L SDRAM Display: Compatible with HDMI2.0A Interface, Support 4K Displays Compatible with USB2.0 Interface Support 100M Ethernet + 100M WiFi Having the same BTB header as the Raspberry Pi CM4.","title":"Main Features"},{"location":"CB1.html#basic-parameters","text":"Product Size: 40mm x 55mm Mounting Size: 33mm x 48mm Input Voltage: 5V\u00b15%/2A Output Voltage: 3.3V\u00b12%/100mA Output Voltage: 1.8V\u00b12%/100mA WiFi: 2.4G/802.11 b/g/n","title":"Basic Parameters"},{"location":"CB1.html#dimensions","text":"","title":"Dimensions"},{"location":"CB1.html#schematic","text":"BIGTREETECH_CB1_V22_220812_SCH","title":"Schematic"},{"location":"CB1.html#pinout","text":"","title":"PinOut"},{"location":"CB1.html#40-pin-gpio","text":"The 40 pin GPIO on the motherboard when CB1 is used with motherboard like Manta M4P, M5P, M8P, PI4B_Adapter, etc. Pin Signal Description Pin Signal Description 1 3.3V 2 5V 3 NC 4 5V 5 NC 6 GND 7 PC7 GPIO71 8 PH0 GPIO224, UART0_TX 9 GND 10 PH1 GPIO225, UART0_RX 11 PC14 GPIO78 12 PC13 GPIO77 13 PC12 GPIO76 14 GND 15 PC10 GPIO74 16 PC11 GPIO75 17 3.3V 18 PC9 GPIO73 19 PH7 GPIO231, SPI1_MOSI 20 GND 21 PH8 GPIO232, SPI1_MISO 22 NC 23 PH6 GPIO230, SPI1_CLK 24 NC 25 GND 26 PG8 GPIO200 27 NC 28 PG7 GPIO199 29 NC 30 GND 31 PG6 GPIO198 32 PG9 GPIO201 33 NC 34 GND 35 PC6 GPIO70 36 NC 37 PC15 GPIO79 38 PH10 GPIO234, IR_RX 39 GND 40 PC8 GPIO72","title":"40 pin GPIO"},{"location":"CB1.html#2-100-pins","text":"A Pin Signal Description A Pin Signal Description 1 GND 2 GND 3 NC 4 EPHY-TXP Ethernet TX Positive 5 NC 6 EPHY-TXN Ethernet TX Negative 7 GND 8 GND 9 NC 10 EPHY-RXP Ethernet RX Positive 11 NC 12 EPHY-RXN Ethernet RX Negative 13 GND 14 GND 15 LINK_LED Ethernet LED 16 NC 17 SPD_LED Ethernet LED 18 NC 19 NC 20 NC 21 PH5 System LED(ACT) 22 GND 23 GND 24 PC15 25 PC8 26 PC6 27 PH10 28 NC 29 NC 30 PG6 31 PG9 32 GND 33 GND 34 NC 35 PG7 36 NC 37 PG8 38 PH6 39 NC 40 PH8 41 NC 42 GND 43 GND 44 PH7 45 PC9 46 PC10 47 PC11 48 PC12 49 PC13 50 PC14 51 SoC_RX DEBUG UART 52 GND 53 GND 54 PC7 55 SoC_TX DEBUG UART 56 NC 57 SDC0-CLK MicroSD Card 58 NC 59 GND 60 GND 61 SDC0-D3 MicroSD Card 62 SDC0-CMD MicroSD Card 63 SDC0-D0 MicroSD Card 64 PG11 65 GND 66 GND 67 SDC0-D1 MicroSD Card 68 PG12 69 SDC0-D2 MicroSD Card 70 PG13 71 GND 72 PG14 73 PG16 74 GND 75 NC 76 PI16 MicroSD Card detect 77 5V 78 NC 79 5V In 2A 80 NC 81 5V In 2A 82 NC 83 5V In 2A 84 3.3V Out 200mA 85 5V In 2A 86 3.3V Out 200mA 87 5V In 2A 88 1.8V Out 100mA 89 NC 90 1.8V Out 100mA 91 NC 92 PWRON 93 FEL 94 NC 95 NC 96 NC 97 NC 98 GND 99 Recovery 100 Reset B Pin Signal Description B Pin Signal Description 101 NC 102 NC 103 USB1-DM Host USB1 104 LineOut L 105 USB1-DP Host USB1 106 LineOut R 107 GND 108 GND 109 NC 110 NC 111 TV_OUT CVBS OUT 112 NC 113 GND 114 GND 115 NC 116 NC 117 NC 118 NC 119 GND 120 GND 121 NC 122 NC 123 NC 124 NC 125 GND 126 GND 127 NC 128 USB3-DM Host USB3 129 NC 130 USB3-DP Host USB3 131 GND 132 GND 133 NC 134 USB2-DM Host USB2 135 NC 136 USB2-DP Host USB3 137 GND 138 GND 139 NC 140 USB0-DM OTG USB 141 NC 142 USB0-DP OTG USB 143 NC 144 GND 145 NC 146 NC 147 NC 148 NC 149 NC 150 GND 151 HCEC HDMI CEC 152 NC 153 HHPD HDMI HotPlug 154 NC 155 GND 156 GND 157 NC 158 NC 159 NC 160 NC 161 GND 162 GND 163 NC 164 NC 165 NC 166 NC 167 GND 168 GND 169 NC 170 HTX2P HDMI TX2 Positive 171 NC 172 HTX2N HDMI TX2 Negative 173 GND 174 GND 175 NC 176 HTX1P HDMI TX1 Positive 177 NC 178 HTX1N HDMI TX1 Negative 179 GND 180 GND 181 NC 182 HTX0P HDMI TX0 Positive 183 NC 184 HTX0N HDMI TX0 Negative 185 GND 186 GND 187 NC 188 HTXCP HDMI CLK Positive 189 NC 190 HTXCN HDMI CLK Negative 191 GND 192 GND 193 NC 194 NC 195 NC 196 NC 197 GND 198 GND 199 HSDA HDMI I2C 200 HSCL HDMI I2C","title":"2 * 100 pins"},{"location":"CB1.html#software-configuration","text":"","title":"Software Configuration"},{"location":"CB1.html#network-settings","text":"","title":"Network Settings"},{"location":"CB1.html#ethernet","text":"Plug-and-play with an Ethernet cable, no additional setup required.","title":"Ethernet"},{"location":"CB1.html#wifi-settings","text":"After the OS writes to the SD card, there is a FAT32 partition named BOOT , open system.cfg file with Notpad , Notpad++ or VSCode . Set WIFI_SSID as your actual wifi name and WIFI_PASSWD as your actual wifi password, The space character can be parsed normally without additional escape character. For example: WIFI_SSID=\"CB1 Tester\"","title":"WiFi Settings"},{"location":"CB1.html#overlays-settings","text":"After the OS writes to the SD card, there is a FAT32 partition named BOOT , open BoardEnv.txt file with Notpad , Notpad++ or VSCode . Set as required as shown in the figure below. The default value is console=display , This means that the UART0 of CB1 is used as the debugging port by default. We can use MobaXterm to connect to CB1 by UART0 and debug. If klipper wants to use UART0 to control the motherboard, we need to set it to console=serial , now klippe can use UART0 as /dev/ttyS0 . CB1 will automatically identify the HDMI resolution, but if your HDMI screen cannot report the resolution through the EDID normally, we can forcibly specify the resolution of CB1 output by uncomment extraargs=video and set the actual resolution. For example: BTT-HDMI7 resolution = 1024x600: extraargs=video=HDMI-A-1:1024x600-24@60 BTT-HDMI5 resolution = 800x480: extraargs=video=HDMI-A-1:800x480-24@60 Uncomment overlays=tft35_spi to enable TFT35 SPI screen. Uncomment overlays=mcp2515 to enable MCP2515 spi to canbus module. Uncomment overlays=tft35_spi mcp2515 If you want to use both TFT35 SPI screen and MCP2515 spi to canbus module uncomment the following overlays and parameters to release 'spidev1.1' to user space, And 'spidev1.1' cannot be used together with TFT35_SPI and MCP2515. overlays=spi-spidev param_spidev_spi_bus=1 param_spidev_spi_cs=1 param_spidev_max_freq=1000000 NOTE: TFT35 SPI and MCP2515 multiplex a group of SPI1 SPI1_CLK=PH6 SPI1_MISO=PH8 SPI1_MOSI=PH7 TFT35_SPI_CS=PC7 MCP2515_CS=PC11 MCP2515_IRQ=PC9","title":"Overlays Settings"},{"location":"CB1.html#ssh-connection","text":"Install the ssh application Mobaxterm: https://mobaxterm.mobatek.net/download-home-edition.html Insert the Micro SD card (installed OS) to motherboard, wait for system to load after power on, aprox. 1-2min. the ACT LED on the motherboard will flash continuously after startup successfully. The device will automatically be assigned a IP address after successfully connected to the network Find the device IP address in your router page Or use the https://angryip.org/ tool\uff0cscan all IP address in the current network organize by names, find the IP named Hurakan, BTT-CB1 like shown below Open Mobaxtermand click \u201cSession\u201d, and click \u201cSSH\u201d\uff0cinset the device IP into Remote host and click \u201cOK\u201d (note: your computer and the device needs to be in the same network) Input the login name and password to enter the SSH terminal interface login as: biqu password: biqu","title":"SSH Connection"},{"location":"CB1.html#software-installation","text":"Download the OS Image \u200b Please download and install the OS image we provided: https://github.com/bigtreetech/CB1/releases Download and Install Writing Software \u200b The official Raspberry Pi Imager: https://www.raspberrypi.com/software/ \u200b balenaEtcher: https://www.balena.io/etcher/ \u200b Both of the above software can be used, just choose one to download and install Format SD card \u200b Normally, you can format the SD card with the tools provided by the computer system. Completely format the SD card with professional SD card format software. https://www.sdcard.org/downloads/formatter/ Write OS Raspberry Pi Imager \u200b Insert a MicroSD into your computer. \u200b Choose OS. Select \"Use custom\", then select the image that you downloaded. Select the MicroSD card and click \"WRITE\" (WRITE the image will format the MicroSD card. Be careful not to select the wrong storage device, otherwise the data will be formatted.) Wait for the writing to finish. balenaEtcher \u200b Insert a MicroSD card to your computer through a card reader. \u200b Select the image that you downloaded. \u200b Select the MicroSD card and click \"WRITE\" (WRITE the image will format the MicroSD card. Be careful not to select the wrong storage device, otherwise the data will be formatted.) \u200b Wait for the writing to finish.","title":"Software Installation"},{"location":"EBB%202240%202209%20CAN.html","text":"EBB 2240/2209 CAN \u00b6 It's empty now","title":"EBB 2240/2209 CAN"},{"location":"EBB%202240%202209%20CAN.html#ebb-22402209-can","text":"It's empty now","title":"EBB 2240/2209 CAN"},{"location":"EBB%2036%20CAN.html","text":"EBB 36 CAN \u00b6 Introduction \u00b6 BIGTREETECH EBB36 CAN V1.0/V1.1 is a nozzle adapter board specially designed for the 36 extruder stepper motor, which is launched by the 3D printing team Shenzhen Big Tree Technology Co., Ltd. It can communicate via USB port, or CAN BUS, greatly simplifying wirings. Main Features \u00b6 With BOOT and RESET buttons reserved, users can update the firmware via DFU mode by USB. Added protection circuit on the thermistor avoids burning the main control chip caused by leakage current from the heating rod. User can select the thermistor\u2019s pull-up resistors values through jumper wire, so as to support PT1000 (2.2K pull-up resistors), which makes it convenient for DIY. Connect the USB with a jumper cap to get it power on, which effectively isolates the main control board DC-DC from USB 5V. Reserved I2C interface allows for filament broke and clogged detection, andsupports other DIY functions. Added anti-flyback diodes on the heating rod and fans\u2019 ports effectively protect the MOS tube from being burned due to reverse voltage. Anti-reverse connection protection on the power interface prevents users from burning the motherboard when mistakenly connecting the reverse power line during DIY. Onboard MAX31865 supports selecting 2-wire or 4-wire of PT100/ PT1000. Supports communication via CAN or USB. The terminal resistor 120R of CAN can be selected through the jumper cap, and it reserves CAN expansion interfaces. Equipped ESD protection chip on the USB port prevents the main control board from being broken down by the static electricity of the USB port. The adaptor board is equipped with terminals, female reeds, double-way studs and screws, which are required for DIY, greatly meeting the DIY needs of customers. Basic Parameters \u00b6 External Dimensions: 51.5mm x 37mm. For further details please read: BIGTREETECH EBB36 CAN V1.0-SIZE.pdf / BIGTREETECH EBB36 CAN V1.0-SIZE.pdf Installation Dimensions: hole spacing 43.85mm, M3 screw hole x 2 Microprocessor:(Version:V1.0) ARM Cortex-M0 STM32F072C8T6 48MHz Microprocessor:(Version:V1.1) ARM Cortex-M0+ STM32G0B1CBT6 64MHz Input Voltage: DC12V-DC24V 6A Logic Voltage: DC 3.3V Heating Interface: Heating rod (E0), maximum output current: 5A Onboard Sensor: ADXL345 Fan Interfaces: two CNC fans (FAN0, FAN1) Maximum Output Current of Fan Interface: 1A, Peak Value 1.5A Expansion Interfaces: EndStop, I2C, Probe, RGB, PT100/PT1000, USB interface, CAN Interface Motor Drive: Onboard TMC2209 Driver Working Mode: UART Stepper Motor Interface: EM Temperature Sensor Interface Optional: 1 Channel 100K NTC or PT1000(TH0), 1 Channel PT100/PT1000 USB Communication Interface: USB-Type-C DC 5V Maximum Output Current: 1A Note: BTT EEB36 CAN V1.0/V1.1 only supports Klipper at the present. Dimensions \u00b6 Version:V1.0 Version:V1.1 PinOut \u00b6 Version:V1.0 Version:V1.1 Hardware Configuration \u00b6 USB Power Supply \u00b6 Version:V1.0 D1 RGB light will be on when the control board powers on, which shows supplying normal power. VUSB in the middle of the board is the selection terminal for power. Only when USB supplies power to the board, or the board supplies power through USB, users need to short circuit the VUSB by jump cap. Version:V1.1 After the motherboard is powered on, the yellow-green LED1 lights will light up, indicating a normal power supply. The VUSB on the right side of the board is the power selection terminal. Only when using USB to supply power to the motherboard or need to supply power through USB, do you need to use the jumper cap to connect VUSB. Hardware Installation \u00b6 100K NTC or PT1000 Settings \u00b6 Version without 31865: No need to plug a jumper cap when using a 100K NTC thermistor, and TH0's pull-up resistor value is 4.7K. When using PT1000, you need to use the jumper cap to short the two pins, as shown below picture. At this time, TH0's pull-up resistor value is 2.2K (Notice: the temperature accuracy that's read out this way will be less accurate than that of MAX31865). Version:V1.0 Version:V1.1 Version with 31865: Select PT100/PT1000 by DIP switch, two-line or four-wire: 1 2 3 4 Sensor Model 0N 0N 0N OFF Two Lines PT100 0N 0N OFF OFF Two Lines PT1000 OFF OFF 0N OFF Four Lines PT100 OFF OFF OFF 0N Four Lines PT1000 Version:V1.0 Version:V1.1 BL-Touch Wiring \u00b6 Version:V1.0 Version:V1.1 Filament Broke Detection \u00b6 Version:V1.0 Version:V1.1 RGB \u00b6 Version:V1.0 Version:V1.1 Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/EBB%20Series.html","title":"EBB 36 CAN"},{"location":"EBB%2036%20CAN.html#ebb-36-can","text":"","title":"EBB 36 CAN"},{"location":"EBB%2036%20CAN.html#introduction","text":"BIGTREETECH EBB36 CAN V1.0/V1.1 is a nozzle adapter board specially designed for the 36 extruder stepper motor, which is launched by the 3D printing team Shenzhen Big Tree Technology Co., Ltd. It can communicate via USB port, or CAN BUS, greatly simplifying wirings.","title":"Introduction"},{"location":"EBB%2036%20CAN.html#main-features","text":"With BOOT and RESET buttons reserved, users can update the firmware via DFU mode by USB. Added protection circuit on the thermistor avoids burning the main control chip caused by leakage current from the heating rod. User can select the thermistor\u2019s pull-up resistors values through jumper wire, so as to support PT1000 (2.2K pull-up resistors), which makes it convenient for DIY. Connect the USB with a jumper cap to get it power on, which effectively isolates the main control board DC-DC from USB 5V. Reserved I2C interface allows for filament broke and clogged detection, andsupports other DIY functions. Added anti-flyback diodes on the heating rod and fans\u2019 ports effectively protect the MOS tube from being burned due to reverse voltage. Anti-reverse connection protection on the power interface prevents users from burning the motherboard when mistakenly connecting the reverse power line during DIY. Onboard MAX31865 supports selecting 2-wire or 4-wire of PT100/ PT1000. Supports communication via CAN or USB. The terminal resistor 120R of CAN can be selected through the jumper cap, and it reserves CAN expansion interfaces. Equipped ESD protection chip on the USB port prevents the main control board from being broken down by the static electricity of the USB port. The adaptor board is equipped with terminals, female reeds, double-way studs and screws, which are required for DIY, greatly meeting the DIY needs of customers.","title":"Main Features"},{"location":"EBB%2036%20CAN.html#basic-parameters","text":"External Dimensions: 51.5mm x 37mm. For further details please read: BIGTREETECH EBB36 CAN V1.0-SIZE.pdf / BIGTREETECH EBB36 CAN V1.0-SIZE.pdf Installation Dimensions: hole spacing 43.85mm, M3 screw hole x 2 Microprocessor:(Version:V1.0) ARM Cortex-M0 STM32F072C8T6 48MHz Microprocessor:(Version:V1.1) ARM Cortex-M0+ STM32G0B1CBT6 64MHz Input Voltage: DC12V-DC24V 6A Logic Voltage: DC 3.3V Heating Interface: Heating rod (E0), maximum output current: 5A Onboard Sensor: ADXL345 Fan Interfaces: two CNC fans (FAN0, FAN1) Maximum Output Current of Fan Interface: 1A, Peak Value 1.5A Expansion Interfaces: EndStop, I2C, Probe, RGB, PT100/PT1000, USB interface, CAN Interface Motor Drive: Onboard TMC2209 Driver Working Mode: UART Stepper Motor Interface: EM Temperature Sensor Interface Optional: 1 Channel 100K NTC or PT1000(TH0), 1 Channel PT100/PT1000 USB Communication Interface: USB-Type-C DC 5V Maximum Output Current: 1A Note: BTT EEB36 CAN V1.0/V1.1 only supports Klipper at the present.","title":"Basic Parameters"},{"location":"EBB%2036%20CAN.html#dimensions","text":"Version:V1.0 Version:V1.1","title":"Dimensions"},{"location":"EBB%2036%20CAN.html#pinout","text":"Version:V1.0 Version:V1.1","title":"PinOut"},{"location":"EBB%2036%20CAN.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"EBB%2036%20CAN.html#usb-power-supply","text":"Version:V1.0 D1 RGB light will be on when the control board powers on, which shows supplying normal power. VUSB in the middle of the board is the selection terminal for power. Only when USB supplies power to the board, or the board supplies power through USB, users need to short circuit the VUSB by jump cap. Version:V1.1 After the motherboard is powered on, the yellow-green LED1 lights will light up, indicating a normal power supply. The VUSB on the right side of the board is the power selection terminal. Only when using USB to supply power to the motherboard or need to supply power through USB, do you need to use the jumper cap to connect VUSB.","title":"USB Power Supply"},{"location":"EBB%2036%20CAN.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"EBB%2036%20CAN.html#100k-ntc-or-pt1000-settings","text":"Version without 31865: No need to plug a jumper cap when using a 100K NTC thermistor, and TH0's pull-up resistor value is 4.7K. When using PT1000, you need to use the jumper cap to short the two pins, as shown below picture. At this time, TH0's pull-up resistor value is 2.2K (Notice: the temperature accuracy that's read out this way will be less accurate than that of MAX31865). Version:V1.0 Version:V1.1 Version with 31865: Select PT100/PT1000 by DIP switch, two-line or four-wire: 1 2 3 4 Sensor Model 0N 0N 0N OFF Two Lines PT100 0N 0N OFF OFF Two Lines PT1000 OFF OFF 0N OFF Four Lines PT100 OFF OFF OFF 0N Four Lines PT1000 Version:V1.0 Version:V1.1","title":"100K NTC or PT1000 Settings"},{"location":"EBB%2036%20CAN.html#bl-touch-wiring","text":"Version:V1.0 Version:V1.1","title":"BL-Touch Wiring"},{"location":"EBB%2036%20CAN.html#filament-broke-detection","text":"Version:V1.0 Version:V1.1","title":"Filament Broke Detection"},{"location":"EBB%2036%20CAN.html#rgb","text":"Version:V1.0 Version:V1.1","title":"RGB"},{"location":"EBB%2036%20CAN.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/EBB%20Series.html","title":"Software Configuration"},{"location":"EBB%2042%20CAN.html","text":"EBB 42 CAN \u00b6 Introduction \u00b6 BIGTREETECH EBB42 CAN V1.0/V1.1 is a nozzle adapter board specially designed for the 42 extruder stepper motor, which is launched by the 3D printing team Shenzhen Big Tree Technology Co., Ltd. It can communicate via USB port, or CAN BUS, greatly simplifying wirings. Main Features \u00b6 With BOOT and RESET buttons reserved, users can update the firmware via DFU mode by USB. Added protection circuit on the thermistor avoids burning the main control chip caused by leakage current from the heating rod. User can select the thermistor's pull-up resistors values through jumper wire, so as to support PT1000 (2.2K pull-up resistors), which makes it convenient for DIY. Connect the USB with a jumper cap to get it power on, which effectively isolates the main control board DC-DC from USB 5V. Reserved I2C interface allows for filament broke and clogged detection, and supports other DIY functions. Added anti-flyback diodes on the heating rod and fans' ports effectively protect the MOS tube from being burned due to reverse voltage. Anti-reverse connection protection on the power interface prevents users from burning the motherboard when mistakenly connecting the reverse power line during DIY. Onboard MAX31865 supports selecting 2-wire or 4-wire of PT100/ PT1000. Supports communication via CAN or USB. The terminal resistor 120R of CAN can be selected through the jumper cap, and it reserves CAN expansion interfaces. Equipped ESD protection chip on the USB port prevents the main control board from being broken down by the static electricity of the USB port. The adaptor board is equipped with terminals, female reeds, double-way studs and screws, which are required accessories for DIY, greatly meeting the DIY needs of customers. Basic Parameters \u00b6 External Dimensions: 40mm x 40mm. For further details please read: BIGTREETECH EBB42 CAN V1.0-SIZE.pdf/BIGTREETECH EBB42 CAN V1.0-SIZE.pdf Installation Dimensions: Hole spacing 31mm x 31mm, M3 screw hole x 4 Microprocessor: ARM Cortex-M0 STM32F072C8T6 48MHz Input Voltage: DC12V-DC24V 9A Logic Voltage: DC 3.3V Heating Interface: Heating Rod (E0), maximum output current: 5A Onboard Sensor: ADXL345 Fan Interfaces: Two CNC Fans (FAN0, FAN1) Maximum Output Current of Fan Interface: 1A, peak value 1.5A Expansion Interfaces: EndStop, I2C, Probe, RGB, PT100/PT1000, USB Interface, CAN Interface Motor Drive: Onboard TMC2209 Driver Working Mode: UART Stepper Motor Interface: EM Temperature Sensor Interface(Optional): 1 channel 100K NTC or PT1000 (TH0),1 channel PT100/PT1000 USB Communication Interface: USB-Type-C DCDC 5V Maximum Output Current: 1A Note: BTT EEB42 CAN V1.0/V1.1 only supports Klipper at the present. Dimensions \u00b6 Version:V1.0 Version:V1.1 PinOut \u00b6 Version:V1.0 Version:V1.1 Hardware Configuration \u00b6 USB Power Supply \u00b6 Version:V1.0 D1 RGB light will be on when the control board is powers on, which shows supplying normal power. VUSB in the middle of the board is the selection terminal for power. Only when USB supplies power to the board, or the board supplies power through USB, users need to short circuit the VUSB by jump cap. Version:V1.1 After the motherboard is powered on, the yellow-green LED1 lights will light up, indicating a normal power supply. The VUSB in the middle of the board is the power selection part. Only when using USB to supply power to the motherboard or need to supply power through USB, do you need to use the jumper cap to connect VUSB. Hardware Installation \u00b6 100K NTC or PT1000 Settings \u00b6 1.Version without 31865: No need to insert a jumper cap when using a 100K NTC thermistor, and TH0's pull-up resistor value is 4.7K. When using PT1000, you need to use the jumper cap to short the two pins circled in red as shown below. At this time, TH0's pull-up resistor value is 2.2K (Notice: the temperature accuracy that's read out this way will be less accurate than that of MAX31865). Version:V1.0 Version:V1.1 2.Version with 31865: Select PT100/PT1000 by DIP switch, two-line or four-wire. 1 2 3 4 Sensor Model 0N 0N 0N OFF Two Lines PT100 0N 0N OFF OFF Two Lines PT1000 OFF OFF 0N OFF Four Lines PT100 OFF OFF OFF 0N Four Lines PT1000 Version:V1.0 Version:V1.1 BL-Touch \u00b6 Version:V1.0 Version:V1.1 Filament Broke Detection \u00b6 Version:V1.0 Version:V1.1 RGB \u00b6 Version:V1.0 Version:V1.1 Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/EBB%20Series.html","title":"EBB 42 CAN"},{"location":"EBB%2042%20CAN.html#ebb-42-can","text":"","title":"EBB 42 CAN"},{"location":"EBB%2042%20CAN.html#introduction","text":"BIGTREETECH EBB42 CAN V1.0/V1.1 is a nozzle adapter board specially designed for the 42 extruder stepper motor, which is launched by the 3D printing team Shenzhen Big Tree Technology Co., Ltd. It can communicate via USB port, or CAN BUS, greatly simplifying wirings.","title":"Introduction"},{"location":"EBB%2042%20CAN.html#main-features","text":"With BOOT and RESET buttons reserved, users can update the firmware via DFU mode by USB. Added protection circuit on the thermistor avoids burning the main control chip caused by leakage current from the heating rod. User can select the thermistor's pull-up resistors values through jumper wire, so as to support PT1000 (2.2K pull-up resistors), which makes it convenient for DIY. Connect the USB with a jumper cap to get it power on, which effectively isolates the main control board DC-DC from USB 5V. Reserved I2C interface allows for filament broke and clogged detection, and supports other DIY functions. Added anti-flyback diodes on the heating rod and fans' ports effectively protect the MOS tube from being burned due to reverse voltage. Anti-reverse connection protection on the power interface prevents users from burning the motherboard when mistakenly connecting the reverse power line during DIY. Onboard MAX31865 supports selecting 2-wire or 4-wire of PT100/ PT1000. Supports communication via CAN or USB. The terminal resistor 120R of CAN can be selected through the jumper cap, and it reserves CAN expansion interfaces. Equipped ESD protection chip on the USB port prevents the main control board from being broken down by the static electricity of the USB port. The adaptor board is equipped with terminals, female reeds, double-way studs and screws, which are required accessories for DIY, greatly meeting the DIY needs of customers.","title":"Main Features"},{"location":"EBB%2042%20CAN.html#basic-parameters","text":"External Dimensions: 40mm x 40mm. For further details please read: BIGTREETECH EBB42 CAN V1.0-SIZE.pdf/BIGTREETECH EBB42 CAN V1.0-SIZE.pdf Installation Dimensions: Hole spacing 31mm x 31mm, M3 screw hole x 4 Microprocessor: ARM Cortex-M0 STM32F072C8T6 48MHz Input Voltage: DC12V-DC24V 9A Logic Voltage: DC 3.3V Heating Interface: Heating Rod (E0), maximum output current: 5A Onboard Sensor: ADXL345 Fan Interfaces: Two CNC Fans (FAN0, FAN1) Maximum Output Current of Fan Interface: 1A, peak value 1.5A Expansion Interfaces: EndStop, I2C, Probe, RGB, PT100/PT1000, USB Interface, CAN Interface Motor Drive: Onboard TMC2209 Driver Working Mode: UART Stepper Motor Interface: EM Temperature Sensor Interface(Optional): 1 channel 100K NTC or PT1000 (TH0),1 channel PT100/PT1000 USB Communication Interface: USB-Type-C DCDC 5V Maximum Output Current: 1A Note: BTT EEB42 CAN V1.0/V1.1 only supports Klipper at the present.","title":"Basic Parameters"},{"location":"EBB%2042%20CAN.html#dimensions","text":"Version:V1.0 Version:V1.1","title":"Dimensions"},{"location":"EBB%2042%20CAN.html#pinout","text":"Version:V1.0 Version:V1.1","title":"PinOut"},{"location":"EBB%2042%20CAN.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"EBB%2042%20CAN.html#usb-power-supply","text":"Version:V1.0 D1 RGB light will be on when the control board is powers on, which shows supplying normal power. VUSB in the middle of the board is the selection terminal for power. Only when USB supplies power to the board, or the board supplies power through USB, users need to short circuit the VUSB by jump cap. Version:V1.1 After the motherboard is powered on, the yellow-green LED1 lights will light up, indicating a normal power supply. The VUSB in the middle of the board is the power selection part. Only when using USB to supply power to the motherboard or need to supply power through USB, do you need to use the jumper cap to connect VUSB.","title":"USB Power Supply"},{"location":"EBB%2042%20CAN.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"EBB%2042%20CAN.html#100k-ntc-or-pt1000-settings","text":"1.Version without 31865: No need to insert a jumper cap when using a 100K NTC thermistor, and TH0's pull-up resistor value is 4.7K. When using PT1000, you need to use the jumper cap to short the two pins circled in red as shown below. At this time, TH0's pull-up resistor value is 2.2K (Notice: the temperature accuracy that's read out this way will be less accurate than that of MAX31865). Version:V1.0 Version:V1.1 2.Version with 31865: Select PT100/PT1000 by DIP switch, two-line or four-wire. 1 2 3 4 Sensor Model 0N 0N 0N OFF Two Lines PT100 0N 0N OFF OFF Two Lines PT1000 OFF OFF 0N OFF Four Lines PT100 OFF OFF OFF 0N Four Lines PT1000 Version:V1.0 Version:V1.1","title":"100K NTC or PT1000 Settings"},{"location":"EBB%2042%20CAN.html#bl-touch","text":"Version:V1.0 Version:V1.1","title":"BL-Touch"},{"location":"EBB%2042%20CAN.html#filament-broke-detection","text":"Version:V1.0 Version:V1.1","title":"Filament Broke Detection"},{"location":"EBB%2042%20CAN.html#rgb","text":"Version:V1.0 Version:V1.1","title":"RGB"},{"location":"EBB%2042%20CAN.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/EBB%20Series.html","title":"Software Configuration"},{"location":"EBB%20Series.html","text":"EBB Series \u00b6 Compile Firmware \u00b6 1.After connecting to the Raspberry Pi via ssh, type the below sentences at the command line: cd ~/klipper/ make menuconfig Compile the firmware with the following configuration (if the following options are not available, please update the Klipper firmware source to the latest version). NOTE: EBB36/EBB42 VersionV1.0 [*] Enable extra low-level configuration options Micro-controller Architecture (STMicroelectronics STM32) ---> Processor model (STM32F072) ---> Bootloader offset (No bootloader) ---> Clock Reference (8 MHz crystal) ---> If using USB communication over Type-C Communication interface (USB (on PA11/PA12)) ---> If using CANBus communication Communication interface (CAN bus (on PB8/PB9)) ---> (250000) CAN bus speed NOTE: NOTE: EBB36/EBB42 VersionV1.1 [*] Enable extra low-level configuration options Micro-controller Architecture (STMicroelectronics STM32) ---> Processor model (STM32G0B1) ---> Bootloader offset (No bootloader) ---> Clock Reference (8 MHz crystal) ---> If using USB communication over Type-C Communication interface (USB (on PA11/PA12)) ---> If using CANBus communication Communication interface (CAN bus (on PB0/PB1)) ---> (250000) CAN bus speed ***Note: Only after https://github.com/Klipper3d/klipper/pull/5488 is merged into the main branch of Klipper, will the official firmware support the CAN bus function of STM32G0B1. If you use CANBus communication, you can use the firmware_canbus.bin compiled by us on our GitHub, or use our source code to compile it yourself: https://github.com/bigtreetech/klipper/tree/stm32g0b1-canbus*** 2.When the configuration is completed, type 'q' to exit the configuration interface. Select \"Yes\" when asked whether to save the configuration 3.Enter make to compile the firmware. The 'klipper.bin' firmware that we need will be generated on the home/pi/klipper/out folder of the Raspberry Pi when completed. The firmware is on the left side of SSH software, users can download it directly to the computer. Update Firmware \u00b6 NOTE: EBB36/EBB42 VersionV1.0 \u00b6 Update firmware via Raspberry Pi (You can also update via STM32CubeProgrammer software after the board is plugged into the computer and entering DFU mode). 1.Press on the Boot button, then click on the Reset button to enter DFU mode. Verison:EBB36 V1.0 Verison:EBB42 V1.0 2.Type lsusb in the ssh terminal command line to query the ID of the DFU device. 3.Type make flash FLASH_DEVICE=0483:df11 to download the firmware (Notice: Replace 0483:df11 with the actual ID of the DFU device queried in the previous step). 4.Type ls /dev/serial/by-id/ to query about the serial ID of the device when finished downloading the firmware (The serial ID will only exist when communicating via USB. Ignore this step when communicating via CAN Bus). 5.After downloading the firmware for the first time, there's no need to press on Boot and Reset button again to enter DFU mode when updating the firmware again. User can type make flash FLASH_DEVICE= /dev/serial/by-id/usb-Klipper_stm32f072xb_28002D001557434338313020-if00 to download the firmware(Notice: Replace /dev/serial/by-id/xxx with actual ID queried in the previous step) NOTE: EBB36/EBB42 VersionV1.1 \u00b6 Warning\uff1aSTM32G0B1CB needs to jump to the System memory area to runbootloader (written by STMicroelectronics) when using DFU to update firmware through the Type-C port. Referring to the description in manual AN2606 ( https://www.st.com/content/ccc/resource/technical/document/application_note/b9/9b/16/3a/12/1e/40/0c/CD00167594.pdf/files/CD00167594.pdf/jcr:content/translations/en.CD00167594.pdf ), The initialization process of this bootloader is shown in the following figure: The IO of USART will be configured before going to the USB DFU mode. After going to DFU mode, PA2 will be configured to output high level by bootloader in System memory area refer to the datasheet of STM32G0B1CB ( https://www.st.com/resource/en/datasheet/stm32g0b1cb.pdf ) PA2 is used for the hotend MOSFET in EBB36 CAN V1.1 and EBB42 CAN V1.1 ,The high level in the DFU mode change the hotend into heating state. Therefore, please pay attention to disconnect the main power VIN of the hotend when using the DFU of Type-C port to update the firmware, or ensure that the firmware update is completed soon and goto the normal working mode. Never keep MCU in DFU mode for a long time when the main power supply and hotend are connected . Upgrade with STM32CubeProgrammer 1.Open the installed STM32CubeProgrammer and select the firmware to download (klipper.bin). 2.Press and hold the Boot button, then click the RST button to enter DFU mode. Verison:EBB36 V1.1 Verison:EBB42 V1.1 3.Click the \"Refresh\" button in the STM32CubeProgrammer until the Port changes from \"No DFU d...\" to \"USB1\", then click \"Connect\" to connect the chip. 4.After the connection is successful, \"Connect\" will change into \"Disconnect\", and then click \"Download\", after the download is completed, a pop-up window of \"File download complete\" will appear, indicating that the burning is successful. CANBus Configuration \u00b6 Use with BIGTREETECH U2C Module \u00b6 1.Type the following command sudo nano /etc/network/interfaces.d/can0 in the ssh terminal and execute auto can0 iface can0 can static bitrate 250000 up ifconfig $IFACE txqueuelen 1024 Set the speed for CANBus at 250K (which must be the same as the speed set in the firmware (250000) CAN bus speed), Save (Ctrl + S) after modification and exit (Ctrl + X). Type command sudo reboot to reboot Raspberry Pi. 2.Every device on CANBus will generate a canbus_uuid based on MCU's ID. If users want to find the ID for every microcontroller, please make sure the hardware is powered on and wired correctly, then run the following command: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 3.If detected an uninitialized CAN device, the above command will report the device's canbus_uuid: Found canbus_uuid=0e0d81e4210c 4.If Klipper operates normally and is connected to the device, then it won\u2019t report canbus_uuid, which is also normal. Use with BIGTREETECH RPI-CAN HAT Module \u00b6 1.Type and run the following command sudo nano /boot/config.txt , and added below contents on file config.txt. dtparam=spi=on dtoverlay=mcp2515- can0,oscillator=12000000,interrupt=25,spimaxfrequency=1000000 After modification, save (Ctrl + S) and exist (Ctrl + X) , type sudo reboot to reboot Raspberry Pi. 2.Type and run commands dmesg | grep -i '\\(can\\|spi\\)' to test if RPI-CAN HAT module is normally connected. The normal response should be as below\uff1a [ 8.680446] CAN device driver interface [ 8.697558] mcp251x spi0.0 can0: MCP2515 successfully initialized. [ 9.482332] IPv6: ADDRCONF(NETDEV_CHANGE): can0: link becomes ready 3.Type sudo nano /etc/network/interfaces.d/can0 on the ssh terminal and runthe command. auto can0 iface can0 can static bitrate 250000 up ifconfig $IFACE txqueuelen 1024 Set the speed for CANBus at 250K(which must be the same as the speed set in the firmware (250000) CAN bus speed) . Save (Ctrl + S) after modification and exit (Ctrl + X) .Type command sudo reboot to reboot Raspberry Pi. 4.Every device on CANBus will generate a canbus_uuid base on MCU's ID. If users want to find ID for every microcontroller, please make sure the hardware is powered on and wired correctly, then run the following command: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 5.If detected an uninitialized CAN device, the above command will report the device's canbus_uuid: Found canbus_uuid=0e0d81e4210c 6.If Klipper operates well and is connected to the device, then it won't report the canbus_uuid, which is normal. Klipper Configuration \u00b6 1.Enter the IP access of Raspberry Pi in the browser of the computer, and download the reference configuration of the motherboard from the file path shown in the figure below. If you cannot find this file, please update the Klipper firmware source code to the latest version, or download it from GitHub: https://github.com/bigtreetech/EBB 2.Upload the motherboard's configuration files to the Configuration Files. 3.Add the motherboard's configuration to the file \"printer.cfg\". [include sample-bigtreetech-ebb-canbus-v1.1.cfg] 4.Revise the ID number of the configuration files as the actual ID of the motherboard (USB serial or CANBus). 5.Configure the specific functions of the module as instructed below: https://www.klipper3d.org/Overview.html PRECAUTIONS \u00b6 When the TH0 interface doesn't work with PT1000, you can't plug a jump cap on it, otherwise 100K NTC won't work. When using CAN communication, you need to see whether it is used as a terminal. If it is, you must plug a jumper cap on the 120R position. When DIY crimping, wire according to the silkscreen, and DIY according to the Pin and Schematic diagrams so as to avoid the power line from being reversely connected or connected to the CAN signal, which will get the module burned. If there's no external power supply during programming via USB port, you need to short the VUSB by jumper cap so as to supply the module with working voltage. The load current of the heater cartridge and the fan interfaces shall not exceed the maximum withstand current to prevent the MOS tube from being burned out. Please pay attention to the precautions in 4.2 Firmware Update to avoid keeping MCU in DFU mode for a long time when the main power supply and hotend are connected. FAQ \u00b6 Q: What's the maximum current for the heater cartridge and fan interface? A: The maximum output current of the heater cartridge interface: 5A. The maximum output current of the fan interface: 1A. The total current for the heater cartridge, driver and fan needs to be less than 9A. Q: Cannot update firmware via USB port? A: You need to make sure that the jump cap is plugged on VUSB, and the indicator light on the board is on.","title":"EBB Series"},{"location":"EBB%20Series.html#ebb-series","text":"","title":"EBB Series"},{"location":"EBB%20Series.html#compile-firmware","text":"1.After connecting to the Raspberry Pi via ssh, type the below sentences at the command line: cd ~/klipper/ make menuconfig Compile the firmware with the following configuration (if the following options are not available, please update the Klipper firmware source to the latest version). NOTE: EBB36/EBB42 VersionV1.0 [*] Enable extra low-level configuration options Micro-controller Architecture (STMicroelectronics STM32) ---> Processor model (STM32F072) ---> Bootloader offset (No bootloader) ---> Clock Reference (8 MHz crystal) ---> If using USB communication over Type-C Communication interface (USB (on PA11/PA12)) ---> If using CANBus communication Communication interface (CAN bus (on PB8/PB9)) ---> (250000) CAN bus speed NOTE: NOTE: EBB36/EBB42 VersionV1.1 [*] Enable extra low-level configuration options Micro-controller Architecture (STMicroelectronics STM32) ---> Processor model (STM32G0B1) ---> Bootloader offset (No bootloader) ---> Clock Reference (8 MHz crystal) ---> If using USB communication over Type-C Communication interface (USB (on PA11/PA12)) ---> If using CANBus communication Communication interface (CAN bus (on PB0/PB1)) ---> (250000) CAN bus speed ***Note: Only after https://github.com/Klipper3d/klipper/pull/5488 is merged into the main branch of Klipper, will the official firmware support the CAN bus function of STM32G0B1. If you use CANBus communication, you can use the firmware_canbus.bin compiled by us on our GitHub, or use our source code to compile it yourself: https://github.com/bigtreetech/klipper/tree/stm32g0b1-canbus*** 2.When the configuration is completed, type 'q' to exit the configuration interface. Select \"Yes\" when asked whether to save the configuration 3.Enter make to compile the firmware. The 'klipper.bin' firmware that we need will be generated on the home/pi/klipper/out folder of the Raspberry Pi when completed. The firmware is on the left side of SSH software, users can download it directly to the computer.","title":"Compile Firmware"},{"location":"EBB%20Series.html#update-firmware","text":"","title":"Update Firmware"},{"location":"EBB%20Series.html#note-ebb36ebb42-versionv10","text":"Update firmware via Raspberry Pi (You can also update via STM32CubeProgrammer software after the board is plugged into the computer and entering DFU mode). 1.Press on the Boot button, then click on the Reset button to enter DFU mode. Verison:EBB36 V1.0 Verison:EBB42 V1.0 2.Type lsusb in the ssh terminal command line to query the ID of the DFU device. 3.Type make flash FLASH_DEVICE=0483:df11 to download the firmware (Notice: Replace 0483:df11 with the actual ID of the DFU device queried in the previous step). 4.Type ls /dev/serial/by-id/ to query about the serial ID of the device when finished downloading the firmware (The serial ID will only exist when communicating via USB. Ignore this step when communicating via CAN Bus). 5.After downloading the firmware for the first time, there's no need to press on Boot and Reset button again to enter DFU mode when updating the firmware again. User can type make flash FLASH_DEVICE= /dev/serial/by-id/usb-Klipper_stm32f072xb_28002D001557434338313020-if00 to download the firmware(Notice: Replace /dev/serial/by-id/xxx with actual ID queried in the previous step)","title":"NOTE: EBB36/EBB42 VersionV1.0"},{"location":"EBB%20Series.html#note-ebb36ebb42-versionv11","text":"Warning\uff1aSTM32G0B1CB needs to jump to the System memory area to runbootloader (written by STMicroelectronics) when using DFU to update firmware through the Type-C port. Referring to the description in manual AN2606 ( https://www.st.com/content/ccc/resource/technical/document/application_note/b9/9b/16/3a/12/1e/40/0c/CD00167594.pdf/files/CD00167594.pdf/jcr:content/translations/en.CD00167594.pdf ), The initialization process of this bootloader is shown in the following figure: The IO of USART will be configured before going to the USB DFU mode. After going to DFU mode, PA2 will be configured to output high level by bootloader in System memory area refer to the datasheet of STM32G0B1CB ( https://www.st.com/resource/en/datasheet/stm32g0b1cb.pdf ) PA2 is used for the hotend MOSFET in EBB36 CAN V1.1 and EBB42 CAN V1.1 ,The high level in the DFU mode change the hotend into heating state. Therefore, please pay attention to disconnect the main power VIN of the hotend when using the DFU of Type-C port to update the firmware, or ensure that the firmware update is completed soon and goto the normal working mode. Never keep MCU in DFU mode for a long time when the main power supply and hotend are connected . Upgrade with STM32CubeProgrammer 1.Open the installed STM32CubeProgrammer and select the firmware to download (klipper.bin). 2.Press and hold the Boot button, then click the RST button to enter DFU mode. Verison:EBB36 V1.1 Verison:EBB42 V1.1 3.Click the \"Refresh\" button in the STM32CubeProgrammer until the Port changes from \"No DFU d...\" to \"USB1\", then click \"Connect\" to connect the chip. 4.After the connection is successful, \"Connect\" will change into \"Disconnect\", and then click \"Download\", after the download is completed, a pop-up window of \"File download complete\" will appear, indicating that the burning is successful.","title":"NOTE: EBB36/EBB42 VersionV1.1"},{"location":"EBB%20Series.html#canbus-configuration","text":"","title":"CANBus Configuration"},{"location":"EBB%20Series.html#use-with-bigtreetech-u2c-module","text":"1.Type the following command sudo nano /etc/network/interfaces.d/can0 in the ssh terminal and execute auto can0 iface can0 can static bitrate 250000 up ifconfig $IFACE txqueuelen 1024 Set the speed for CANBus at 250K (which must be the same as the speed set in the firmware (250000) CAN bus speed), Save (Ctrl + S) after modification and exit (Ctrl + X). Type command sudo reboot to reboot Raspberry Pi. 2.Every device on CANBus will generate a canbus_uuid based on MCU's ID. If users want to find the ID for every microcontroller, please make sure the hardware is powered on and wired correctly, then run the following command: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 3.If detected an uninitialized CAN device, the above command will report the device's canbus_uuid: Found canbus_uuid=0e0d81e4210c 4.If Klipper operates normally and is connected to the device, then it won\u2019t report canbus_uuid, which is also normal.","title":"Use with BIGTREETECH U2C Module"},{"location":"EBB%20Series.html#use-with-bigtreetech-rpi-can-hat-module","text":"1.Type and run the following command sudo nano /boot/config.txt , and added below contents on file config.txt. dtparam=spi=on dtoverlay=mcp2515- can0,oscillator=12000000,interrupt=25,spimaxfrequency=1000000 After modification, save (Ctrl + S) and exist (Ctrl + X) , type sudo reboot to reboot Raspberry Pi. 2.Type and run commands dmesg | grep -i '\\(can\\|spi\\)' to test if RPI-CAN HAT module is normally connected. The normal response should be as below\uff1a [ 8.680446] CAN device driver interface [ 8.697558] mcp251x spi0.0 can0: MCP2515 successfully initialized. [ 9.482332] IPv6: ADDRCONF(NETDEV_CHANGE): can0: link becomes ready 3.Type sudo nano /etc/network/interfaces.d/can0 on the ssh terminal and runthe command. auto can0 iface can0 can static bitrate 250000 up ifconfig $IFACE txqueuelen 1024 Set the speed for CANBus at 250K(which must be the same as the speed set in the firmware (250000) CAN bus speed) . Save (Ctrl + S) after modification and exit (Ctrl + X) .Type command sudo reboot to reboot Raspberry Pi. 4.Every device on CANBus will generate a canbus_uuid base on MCU's ID. If users want to find ID for every microcontroller, please make sure the hardware is powered on and wired correctly, then run the following command: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 5.If detected an uninitialized CAN device, the above command will report the device's canbus_uuid: Found canbus_uuid=0e0d81e4210c 6.If Klipper operates well and is connected to the device, then it won't report the canbus_uuid, which is normal.","title":"Use with BIGTREETECH RPI-CAN HAT Module"},{"location":"EBB%20Series.html#klipper-configuration","text":"1.Enter the IP access of Raspberry Pi in the browser of the computer, and download the reference configuration of the motherboard from the file path shown in the figure below. If you cannot find this file, please update the Klipper firmware source code to the latest version, or download it from GitHub: https://github.com/bigtreetech/EBB 2.Upload the motherboard's configuration files to the Configuration Files. 3.Add the motherboard's configuration to the file \"printer.cfg\". [include sample-bigtreetech-ebb-canbus-v1.1.cfg] 4.Revise the ID number of the configuration files as the actual ID of the motherboard (USB serial or CANBus). 5.Configure the specific functions of the module as instructed below: https://www.klipper3d.org/Overview.html","title":"Klipper Configuration"},{"location":"EBB%20Series.html#precautions","text":"When the TH0 interface doesn't work with PT1000, you can't plug a jump cap on it, otherwise 100K NTC won't work. When using CAN communication, you need to see whether it is used as a terminal. If it is, you must plug a jumper cap on the 120R position. When DIY crimping, wire according to the silkscreen, and DIY according to the Pin and Schematic diagrams so as to avoid the power line from being reversely connected or connected to the CAN signal, which will get the module burned. If there's no external power supply during programming via USB port, you need to short the VUSB by jumper cap so as to supply the module with working voltage. The load current of the heater cartridge and the fan interfaces shall not exceed the maximum withstand current to prevent the MOS tube from being burned out. Please pay attention to the precautions in 4.2 Firmware Update to avoid keeping MCU in DFU mode for a long time when the main power supply and hotend are connected.","title":"PRECAUTIONS"},{"location":"EBB%20Series.html#faq","text":"Q: What's the maximum current for the heater cartridge and fan interface? A: The maximum output current of the heater cartridge interface: 5A. The maximum output current of the fan interface: 1A. The total current for the heater cartridge, driver and fan needs to be less than 9A. Q: Cannot update firmware via USB port? A: You need to make sure that the jump cap is plugged on VUSB, and the indicator light on the board is on.","title":"FAQ"},{"location":"EZ2130.html","text":"EZ2130 \u00b6 It's empty now","title":"EZ2130"},{"location":"EZ2130.html#ez2130","text":"It's empty now","title":"EZ2130"},{"location":"EZ2208.html","text":"EZ2208 \u00b6 It's empty now","title":"EZ2208"},{"location":"EZ2208.html#ez2208","text":"It's empty now","title":"EZ2208"},{"location":"EZ2209.html","text":"EZ2209 \u00b6 It's empty now","title":"EZ2209"},{"location":"EZ2209.html#ez2209","text":"It's empty now","title":"EZ2209"},{"location":"EZ2225.html","text":"EZ2225 \u00b6 It's empty now","title":"EZ2225"},{"location":"EZ2225.html#ez2225","text":"It's empty now","title":"EZ2225"},{"location":"EZ2226.html","text":"EZ2226 \u00b6 It's empty now","title":"EZ2226"},{"location":"EZ2226.html#ez2226","text":"It's empty now","title":"EZ2226"},{"location":"EZ2240.html","text":"EZ2240 \u00b6","title":"EZ2240"},{"location":"EZ2240.html#ez2240","text":"","title":"EZ2240"},{"location":"EZ31865.html","text":"EZ31865 \u00b6 It's empty now","title":"EZ31865"},{"location":"EZ31865.html#ez31865","text":"It's empty now","title":"EZ31865"},{"location":"EZ5160%20Pro.html","text":"EZ5160 Pro \u00b6 It's empty now","title":"EZ5160 Pro"},{"location":"EZ5160%20Pro.html#ez5160-pro","text":"It's empty now","title":"EZ5160 Pro"},{"location":"EZDriver%20Connector.html","text":"EZDriver Connector \u00b6 It's empty now","title":"EZDriver Connector"},{"location":"EZDriver%20Connector.html#ezdriver-connector","text":"It's empty now","title":"EZDriver Connector"},{"location":"HDMI5.html","text":"HDMI5 \u00b6 Introduction \u00b6 BIGTREETECH HDMI5 V1.0 is a universal 5-inch HDMI display screen developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. Main Features \u00b6 HDMI input, can work with Raspberry Pi. Connect to a PC, it can be used as a PC monitor. The LCD adopts a 5-inch IPS capacitive touch screen with a resolution of 800x480. Support 5-point touch. Built-in audio decoding circuit, support 3.5mm headphone jack audio output. Support brightness and display direction adjustment. Basic Parameters \u00b6 Product Dimension: 121 x 76mm Mounting Size: 121 x 76mm, you can read more details here: BTT HDMI5_V1.0_SIZE Power Input: DC 5V Logic Voltage: DC 3.3V Screen Size: 5-inch IPS Display Screen Resolution: 800x480 Screen Viewing Angle: 160\u00b0 Dimensions \u00b6 You can read more details here: *BTT HDMI5_V1.0_SIZE* * Interface Diagram \u00b6 Hardware Configuration \u00b6 Connecting to the Display Output Device \u00b6 1. Use the Type C data cable to connect the HDMI5 to the display output device (compatible with Raspberry Pi/PC/other devices that support HDMI display output). When connecting to the PC, the PC will automatically load the driver under normal circumstances. After the driver is loaded, the touch device can be recognized. 2. Use the HDMI cable to connect HDMI5 to the display output device. Usually, after connecting the HDMI cable, the LCD can be displayed normally within 5 seconds. Audio Out \u00b6 Plug the 3.5mm earphone/speaker into the AUDIO interface to realize audio output. Screen Brightness Adjustment \u00b6 BIGTREETECH HDMI5 V1.0 supports brightness adjustment, you can increase the brightness via the Ks1 button, and decrease the brightness via the Ks3 button. Display Direction Adjustment \u00b6 BIGTREETECH HDMI5 V1.0 supports horizontal display direction adjustment via the Ks2 button. Indicator Light \u00b6 When the motherboard is powered on: The power indicator, D11(Power) red light, lights up, indicating that the power supply is functioning normally. The working status indicator, D12(Status) green light, flashes, indicating that the screen is working normally. Software Configuration \u00b6 Working with Raspberry Pi \u00b6 HDMI Display Output \u00b6 1.Download at Raspberry Pi official website: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.Write the image to the TF card, then modify the following configuration in config.txt: # uncomment to force a specific HDMI mode (this will force VGA) hdmi_group=2 hdmi_mode=87 hdmi_cvt 800 480 60 6 0 0 0 # uncomment to force a HDMI mode rather than DVI. This can make audio work in # DMT (computer monitor) modes hdmi_drive=1 HDMI Audio Output \u00b6 1.Raspberry Pi system version: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.After entering the system desktop, right-click the audio source icon in the upper right corner, and select HDMI.","title":"HDMI5"},{"location":"HDMI5.html#hdmi5","text":"","title":"HDMI5"},{"location":"HDMI5.html#introduction","text":"BIGTREETECH HDMI5 V1.0 is a universal 5-inch HDMI display screen developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd.","title":"Introduction"},{"location":"HDMI5.html#main-features","text":"HDMI input, can work with Raspberry Pi. Connect to a PC, it can be used as a PC monitor. The LCD adopts a 5-inch IPS capacitive touch screen with a resolution of 800x480. Support 5-point touch. Built-in audio decoding circuit, support 3.5mm headphone jack audio output. Support brightness and display direction adjustment.","title":"Main Features"},{"location":"HDMI5.html#basic-parameters","text":"Product Dimension: 121 x 76mm Mounting Size: 121 x 76mm, you can read more details here: BTT HDMI5_V1.0_SIZE Power Input: DC 5V Logic Voltage: DC 3.3V Screen Size: 5-inch IPS Display Screen Resolution: 800x480 Screen Viewing Angle: 160\u00b0","title":"Basic Parameters"},{"location":"HDMI5.html#dimensions","text":"You can read more details here: *BTT HDMI5_V1.0_SIZE* *","title":"Dimensions"},{"location":"HDMI5.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"HDMI5.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"HDMI5.html#connecting-to-the-display-output-device","text":"1. Use the Type C data cable to connect the HDMI5 to the display output device (compatible with Raspberry Pi/PC/other devices that support HDMI display output). When connecting to the PC, the PC will automatically load the driver under normal circumstances. After the driver is loaded, the touch device can be recognized. 2. Use the HDMI cable to connect HDMI5 to the display output device. Usually, after connecting the HDMI cable, the LCD can be displayed normally within 5 seconds.","title":"Connecting to the Display Output Device"},{"location":"HDMI5.html#audio-out","text":"Plug the 3.5mm earphone/speaker into the AUDIO interface to realize audio output.","title":"Audio Out"},{"location":"HDMI5.html#screen-brightness-adjustment","text":"BIGTREETECH HDMI5 V1.0 supports brightness adjustment, you can increase the brightness via the Ks1 button, and decrease the brightness via the Ks3 button.","title":"Screen Brightness Adjustment"},{"location":"HDMI5.html#display-direction-adjustment","text":"BIGTREETECH HDMI5 V1.0 supports horizontal display direction adjustment via the Ks2 button.","title":"Display Direction Adjustment"},{"location":"HDMI5.html#indicator-light","text":"When the motherboard is powered on: The power indicator, D11(Power) red light, lights up, indicating that the power supply is functioning normally. The working status indicator, D12(Status) green light, flashes, indicating that the screen is working normally.","title":"Indicator Light"},{"location":"HDMI5.html#software-configuration","text":"","title":"Software Configuration"},{"location":"HDMI5.html#working-with-raspberry-pi","text":"","title":"Working with Raspberry Pi"},{"location":"HDMI5.html#hdmi-display-output","text":"1.Download at Raspberry Pi official website: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.Write the image to the TF card, then modify the following configuration in config.txt: # uncomment to force a specific HDMI mode (this will force VGA) hdmi_group=2 hdmi_mode=87 hdmi_cvt 800 480 60 6 0 0 0 # uncomment to force a HDMI mode rather than DVI. This can make audio work in # DMT (computer monitor) modes hdmi_drive=1","title":"HDMI Display Output"},{"location":"HDMI5.html#hdmi-audio-output","text":"1.Raspberry Pi system version: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.After entering the system desktop, right-click the audio source icon in the upper right corner, and select HDMI.","title":"HDMI Audio Output"},{"location":"HDMI7.html","text":"HDMI7 \u00b6 Introduction \u00b6 BIGTREETECH HDMI7 V1.0 is a universal 7-inch HDMI display screen developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. Main Features \u00b6 HDMI input, can work with Raspberry Pi. Connect to a PC, it can be used as a PC monitor. Adopt a 7-inch IPS capacitive touch screen with a resolution of 1024x600, support 5-point touch. Built-in audio decoding circuit, support 3.5mm headphone jack audio output. Support brightness and display direction adjustment. Basic Parameters \u00b6 Product Dimension: 100 x 165mm Mounting Size: 100 x 165mm, you can read more details here: BTT HDMI7_V1.0_SIZE Power Input: DC 5V Logic Voltage: DC 3.3V Screen Size: 7-inch IPS Display Screen Resolution: 1024x600 Screen Viewing Angle: 160\u00b0 Dimensions \u00b6 You can read more details here: BTT HDMI7_V1.0_SIZE Interface Diagram \u00b6 Hardware Configuration \u00b6 Connecting to the Display Output Device \u00b6 1. Use the Type C data cable to connect the HDMI7 to the display output device (compatible with Raspberry Pi/PC/other devices that support HDMI display output). When connecting to the PC, the PC will automatically load the driver under normal circumstances. After the driver is loaded, the touch device can be recognized. 2. Use the HDMI cable to connect HDMI7 to the display output device. Usually, after connecting the HDMI cable, the LCD can be displayed normally within 5 seconds. Audio Out \u00b6 Plug the 3.5mm earphone/speaker into the AUDIO interface to realize audio output. Screen Brightness Adjustment \u00b6 BIGTREETECH HDMI7 V1.0 supports brightness adjustment, you can increase the brightness via the Ks1 button, and decrease the brightness via the Ks3 button. Display Direction Adjustment \u00b6 BIGTREETECH HDMI7 V1.0 supports horizontal display direction adjustment via the Ks2 button. Indicator Light \u00b6 When the motherboard is powered on: The power indicator, D11(Power) red light, lights up, indicating that the power supply is functioning normally. The working status indicator, D12(Status) green light, flashes, indicating that the screen is working normally. Software Configuration \u00b6 Working with Raspberry Pi \u00b6 HDMI Display Output \u00b6 1.Download at Raspberry Pi official website: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.Write the image to the TF card, then modify the following configuration in config.txt: # uncomment to force a specific HDMI mode (this will force VGA) hdmi_group=2 hdmi_mode=87 hdmi_cvt 1024 600 60 6 0 0 0 # uncomment to force a HDMI mode rather than DVI. This can make audio work in # DMT (computer monitor) modes hdmi_drive=1 HDMI Audio Output \u00b6 1.Raspberry Pi system version: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.After entering the system desktop, right-click the audio source icon in the upper right corner, and select HDMI.","title":"HDMI7"},{"location":"HDMI7.html#hdmi7","text":"","title":"HDMI7"},{"location":"HDMI7.html#introduction","text":"BIGTREETECH HDMI7 V1.0 is a universal 7-inch HDMI display screen developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd.","title":"Introduction"},{"location":"HDMI7.html#main-features","text":"HDMI input, can work with Raspberry Pi. Connect to a PC, it can be used as a PC monitor. Adopt a 7-inch IPS capacitive touch screen with a resolution of 1024x600, support 5-point touch. Built-in audio decoding circuit, support 3.5mm headphone jack audio output. Support brightness and display direction adjustment.","title":"Main Features"},{"location":"HDMI7.html#basic-parameters","text":"Product Dimension: 100 x 165mm Mounting Size: 100 x 165mm, you can read more details here: BTT HDMI7_V1.0_SIZE Power Input: DC 5V Logic Voltage: DC 3.3V Screen Size: 7-inch IPS Display Screen Resolution: 1024x600 Screen Viewing Angle: 160\u00b0","title":"Basic Parameters"},{"location":"HDMI7.html#dimensions","text":"You can read more details here: BTT HDMI7_V1.0_SIZE","title":"Dimensions"},{"location":"HDMI7.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"HDMI7.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"HDMI7.html#connecting-to-the-display-output-device","text":"1. Use the Type C data cable to connect the HDMI7 to the display output device (compatible with Raspberry Pi/PC/other devices that support HDMI display output). When connecting to the PC, the PC will automatically load the driver under normal circumstances. After the driver is loaded, the touch device can be recognized. 2. Use the HDMI cable to connect HDMI7 to the display output device. Usually, after connecting the HDMI cable, the LCD can be displayed normally within 5 seconds.","title":"Connecting to the Display Output Device"},{"location":"HDMI7.html#audio-out","text":"Plug the 3.5mm earphone/speaker into the AUDIO interface to realize audio output.","title":"Audio Out"},{"location":"HDMI7.html#screen-brightness-adjustment","text":"BIGTREETECH HDMI7 V1.0 supports brightness adjustment, you can increase the brightness via the Ks1 button, and decrease the brightness via the Ks3 button.","title":"Screen Brightness Adjustment"},{"location":"HDMI7.html#display-direction-adjustment","text":"BIGTREETECH HDMI7 V1.0 supports horizontal display direction adjustment via the Ks2 button.","title":"Display Direction Adjustment"},{"location":"HDMI7.html#indicator-light","text":"When the motherboard is powered on: The power indicator, D11(Power) red light, lights up, indicating that the power supply is functioning normally. The working status indicator, D12(Status) green light, flashes, indicating that the screen is working normally.","title":"Indicator Light"},{"location":"HDMI7.html#software-configuration","text":"","title":"Software Configuration"},{"location":"HDMI7.html#working-with-raspberry-pi","text":"","title":"Working with Raspberry Pi"},{"location":"HDMI7.html#hdmi-display-output","text":"1.Download at Raspberry Pi official website: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.Write the image to the TF card, then modify the following configuration in config.txt: # uncomment to force a specific HDMI mode (this will force VGA) hdmi_group=2 hdmi_mode=87 hdmi_cvt 1024 600 60 6 0 0 0 # uncomment to force a HDMI mode rather than DVI. This can make audio work in # DMT (computer monitor) modes hdmi_drive=1","title":"HDMI Display Output"},{"location":"HDMI7.html#hdmi-audio-output","text":"1.Raspberry Pi system version: \u200b Raspberry Pi OS with desktop \u200b Release date: April 4th 2022 \u200b System: 32-bit \u200b Kernel version: 5.15 \u200b Debian version: 11 (bullseye) 2.After entering the system desktop, right-click the audio source icon in the upper right corner, and select HDMI.","title":"HDMI Audio Output"},{"location":"M4P.html","text":"M4P \u00b6 Introduction \u00b6 BIGTREETECH CB1 is an alternative to Raspberry Pi CM4, which is currently out of stock. BIGTREETECH M4P is a 4-axis motherboard using a CM4 BTB header, which can work with CB1 or CM4 perfectly. Main Features \u00b6 DSI1, CSI1 interface (for CM4) Gigabit Ethernet interface (1000M for CM4, 100M for CB1) 3 USB 2.0 ports Equipping the ESD protection chip on the USB and Ethernet ports to prevent being broken down by the static electricity When working with Raspberry Pi CM4, its 40pin pin header has the same function as that of Raspberry Pi(Custom IO for CB1) Using a BTB board-to-board connection, which can be further reinforced with screws, perfectly compatible with CB1 or Raspberry Pi CM4 The MCU adopts STM32G0B0RE 32-bit ARM Cortex-M0+ @64MHz chip The power chip adopts TPS5450-5A, which supports DC12/24V power input, the output current of the chip is up to 5A, and the peak value can reach 6A, which perfectly supports the power supply of the core board The protection circuit of the thermistor part prevents the main control chip from burning due to leakage of the heated bed or heater cartridge In CNC fan ports: FAN0, FAN1, and FAN2, a 24V (DCIN) or 5V power supply can be selected with a jumper cap (Note: the voltage of the three CNC fans should be the same, and cannot be set to different voltages individually) MCU firmware can be upgraded through SD card, or through DFU with Klipper's make flash command On-board TMC-driven SPI and UART working modes, on-board DIAG function pins, can be used by simply plugging and unplugging the jumper cap Support filament runout detection, BLTouch, RGB lights... Adopt replaceable fuse for easy replacement Basic Parameters \u00b6 Product Size: 160 x 95mm Installation Size: 146 x 84.2mm; 97 x 84.2mm Core Board Installation Size: 33 x 48mm The maximum output current of the heated bed port: 10A The maximum output current of the heater cartridge port: 6A Fan Port: Three for CNC Fan(24V/5V Voltage Selectable), One SoC Fan(Voltage not Selectable) The maximum output current of the fan port:1A Total current for heater cartridge + driver + fan: \uff1c20A Extended Interface: BLTouch(Servos, Probe), Fil-DET, 2 * RGB Motor Driver: Support TMC5160, TMC2209, TMC2225, TMC2226, TMC2208, TMC2130, ST820, LV8729, DRV8825, A4988... Driver Working Mode Support: SPI, UART, STEP/DIR Motor Drive Interface: X, Y, Z(Dual Z-axis), E0, a total of four. Temperature Sensor Interface: 2-way 100K NTC Display Screen: RepRapDiscount EXP-1 + EXP-2 Dimensions \u00b6 Interface Diagram \u00b6 PinOut \u00b6 Hardware Configuration \u00b6 TYPE-C After the M4P is powered on, the red LED1 on the lower right side of the motherboard will light up, indicating that the power supply is normal. The J8 on the middle of the board is the power selection terminal, it needs to be short circuited only when the type-C USB is used to supply power to the motherboard or the USB is used to supply power externally. The signal of type-C is connected to the SoC, Only used when writing OS image for CM4 eMMC version. Hardware Installation \u00b6 Stepper Driver \u00b6 Normal STEP/DIR(STANDALONE) Mode \u00b6 For example, A4988, DRV8825, LV8729, ST820...use the jumper cap to short MS0-MS2 according to the driver subdivision table. Note: If using A4988or DRV8825, RST and SLP must be shorted with jumper caps for normal operation. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html UART Mode of TMC Driver \u00b6 For example, TMC2208, TMC2209, TMC2225... Use a jumper cap for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware. SPI Mode of TMC Driver \u00b6 For example, TMC2130, TMC5160, TMC5161... Use 4 jumper caps for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware. DIAG(Sensorless Homing) of TMC Driver \u00b6 As shown in the figure, plug the jumper cap when using the Sensorless Homing function, and leave it unplugged when it is not used. There is no need to cut the DIAG pin of the driver. Driver Voltage Selection \u00b6 The power supply of each driver can be set by the jumper. When the jumper is inserted into the left side, the independent MOTOR POWER port is used for driver power, and the supported voltage up to 56V. When the jumper is inserted into the right side, the main POWER port is used for driver power, and the 12/24v voltage is supported. Driver independent power supply The jumper is inserted into the left side and powered by the MOTOR POWER port. the supported voltage up to 56V. Main power supply The jumper is inserted into the right side and powered by the main POWER port. the 12/24v voltage is supported. Install the Core Board via BTB Connection \u00b6 M4P+CM4\uff1aPay attention to the direction, as shown below. M4P+CB1\uff1aPay attention to the direction, as shown below. 40 pin GPIO \u00b6 When working with CM4, the pin arrangement of 40 Pin GPIO is exactly the same as that of Raspberry Pi. When working with CB1, it is a custom IO arrangement, as shown in the figure below, the 'GPIO4' in front of '_' is the IO of CM4, and the latter 'PC7' is the IO of CB1. BLTouch Wiring \u00b6 M4P_BLTouch_Wiring EXP1+EXP2 and LCD Screen Wiring \u00b6 M4P_E1_E2_LCD RGB Wiring \u00b6 DSI/CSI Wiring \u00b6 SPI Display Wiring \u00b6 ADXL345 Accelerometer \u00b6 Refer to here: https://www.klipper3d.org/Measuring_Resonances.html, We can refer to the following wiring and configuration when connecting to the M4P motherboard [adxl345] ``` cs_pin: PD9 spi_bus: spi1 #spi_software_sclk_pin: PA5 #spi_software_mosi_pin: PA7 #spi_software_miso_pin: PA6 ``` Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html Software Installation \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html FAQs \u00b6 All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing. Pay attention to the heat dissipation of CM4 and CB1. If the running application consumes too many system resources, the CM4/CB1 will get hot quite seriously. Product Purchase Link \u00b6","title":"M4P"},{"location":"M4P.html#m4p","text":"","title":"M4P"},{"location":"M4P.html#introduction","text":"BIGTREETECH CB1 is an alternative to Raspberry Pi CM4, which is currently out of stock. BIGTREETECH M4P is a 4-axis motherboard using a CM4 BTB header, which can work with CB1 or CM4 perfectly.","title":"Introduction"},{"location":"M4P.html#main-features","text":"DSI1, CSI1 interface (for CM4) Gigabit Ethernet interface (1000M for CM4, 100M for CB1) 3 USB 2.0 ports Equipping the ESD protection chip on the USB and Ethernet ports to prevent being broken down by the static electricity When working with Raspberry Pi CM4, its 40pin pin header has the same function as that of Raspberry Pi(Custom IO for CB1) Using a BTB board-to-board connection, which can be further reinforced with screws, perfectly compatible with CB1 or Raspberry Pi CM4 The MCU adopts STM32G0B0RE 32-bit ARM Cortex-M0+ @64MHz chip The power chip adopts TPS5450-5A, which supports DC12/24V power input, the output current of the chip is up to 5A, and the peak value can reach 6A, which perfectly supports the power supply of the core board The protection circuit of the thermistor part prevents the main control chip from burning due to leakage of the heated bed or heater cartridge In CNC fan ports: FAN0, FAN1, and FAN2, a 24V (DCIN) or 5V power supply can be selected with a jumper cap (Note: the voltage of the three CNC fans should be the same, and cannot be set to different voltages individually) MCU firmware can be upgraded through SD card, or through DFU with Klipper's make flash command On-board TMC-driven SPI and UART working modes, on-board DIAG function pins, can be used by simply plugging and unplugging the jumper cap Support filament runout detection, BLTouch, RGB lights... Adopt replaceable fuse for easy replacement","title":"Main Features"},{"location":"M4P.html#basic-parameters","text":"Product Size: 160 x 95mm Installation Size: 146 x 84.2mm; 97 x 84.2mm Core Board Installation Size: 33 x 48mm The maximum output current of the heated bed port: 10A The maximum output current of the heater cartridge port: 6A Fan Port: Three for CNC Fan(24V/5V Voltage Selectable), One SoC Fan(Voltage not Selectable) The maximum output current of the fan port:1A Total current for heater cartridge + driver + fan: \uff1c20A Extended Interface: BLTouch(Servos, Probe), Fil-DET, 2 * RGB Motor Driver: Support TMC5160, TMC2209, TMC2225, TMC2226, TMC2208, TMC2130, ST820, LV8729, DRV8825, A4988... Driver Working Mode Support: SPI, UART, STEP/DIR Motor Drive Interface: X, Y, Z(Dual Z-axis), E0, a total of four. Temperature Sensor Interface: 2-way 100K NTC Display Screen: RepRapDiscount EXP-1 + EXP-2","title":"Basic Parameters"},{"location":"M4P.html#dimensions","text":"","title":"Dimensions"},{"location":"M4P.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"M4P.html#pinout","text":"","title":"PinOut"},{"location":"M4P.html#hardware-configuration","text":"TYPE-C After the M4P is powered on, the red LED1 on the lower right side of the motherboard will light up, indicating that the power supply is normal. The J8 on the middle of the board is the power selection terminal, it needs to be short circuited only when the type-C USB is used to supply power to the motherboard or the USB is used to supply power externally. The signal of type-C is connected to the SoC, Only used when writing OS image for CM4 eMMC version.","title":"Hardware Configuration"},{"location":"M4P.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"M4P.html#stepper-driver","text":"","title":"Stepper Driver"},{"location":"M4P.html#normal-stepdirstandalone-mode","text":"For example, A4988, DRV8825, LV8729, ST820...use the jumper cap to short MS0-MS2 according to the driver subdivision table. Note: If using A4988or DRV8825, RST and SLP must be shorted with jumper caps for normal operation. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html","title":"Normal STEP/DIR(STANDALONE) Mode"},{"location":"M4P.html#uart-mode-of-tmc-driver","text":"For example, TMC2208, TMC2209, TMC2225... Use a jumper cap for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware.","title":"UART Mode of TMC Driver"},{"location":"M4P.html#spi-mode-of-tmc-driver","text":"For example, TMC2130, TMC5160, TMC5161... Use 4 jumper caps for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware.","title":"SPI Mode of TMC Driver"},{"location":"M4P.html#diagsensorless-homing-of-tmc-driver","text":"As shown in the figure, plug the jumper cap when using the Sensorless Homing function, and leave it unplugged when it is not used. There is no need to cut the DIAG pin of the driver.","title":"DIAG(Sensorless Homing) of TMC Driver"},{"location":"M4P.html#driver-voltage-selection","text":"The power supply of each driver can be set by the jumper. When the jumper is inserted into the left side, the independent MOTOR POWER port is used for driver power, and the supported voltage up to 56V. When the jumper is inserted into the right side, the main POWER port is used for driver power, and the 12/24v voltage is supported. Driver independent power supply The jumper is inserted into the left side and powered by the MOTOR POWER port. the supported voltage up to 56V. Main power supply The jumper is inserted into the right side and powered by the main POWER port. the 12/24v voltage is supported.","title":"Driver Voltage Selection"},{"location":"M4P.html#install-the-core-board-via-btb-connection","text":"M4P+CM4\uff1aPay attention to the direction, as shown below. M4P+CB1\uff1aPay attention to the direction, as shown below.","title":"Install the Core Board via BTB Connection"},{"location":"M4P.html#40-pin-gpio","text":"When working with CM4, the pin arrangement of 40 Pin GPIO is exactly the same as that of Raspberry Pi. When working with CB1, it is a custom IO arrangement, as shown in the figure below, the 'GPIO4' in front of '_' is the IO of CM4, and the latter 'PC7' is the IO of CB1.","title":"40 pin GPIO"},{"location":"M4P.html#bltouch-wiring","text":"M4P_BLTouch_Wiring","title":"BLTouch Wiring"},{"location":"M4P.html#exp1exp2-and-lcd-screen-wiring","text":"M4P_E1_E2_LCD","title":"EXP1+EXP2 and LCD Screen Wiring"},{"location":"M4P.html#rgb-wiring","text":"","title":"RGB Wiring"},{"location":"M4P.html#dsicsi-wiring","text":"","title":"DSI/CSI Wiring"},{"location":"M4P.html#spi-display-wiring","text":"","title":"SPI Display Wiring"},{"location":"M4P.html#adxl345-accelerometer","text":"Refer to here: https://www.klipper3d.org/Measuring_Resonances.html, We can refer to the following wiring and configuration when connecting to the M4P motherboard [adxl345] ``` cs_pin: PD9 spi_bus: spi1 #spi_software_sclk_pin: PA5 #spi_software_mosi_pin: PA7 #spi_software_miso_pin: PA6 ```","title":"ADXL345 Accelerometer"},{"location":"M4P.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html","title":"Software Configuration"},{"location":"M4P.html#software-installation","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html","title":"Software Installation"},{"location":"M4P.html#faqs","text":"All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing. Pay attention to the heat dissipation of CM4 and CB1. If the running application consumes too many system resources, the CM4/CB1 will get hot quite seriously.","title":"FAQs"},{"location":"M4P.html#product-purchase-link","text":"","title":"Product Purchase Link"},{"location":"M5P.html","text":"M5P \u00b6 Introduction \u00b6 BIGTREETECH MANTA M5P is a 32-bit motherboard developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. for Klipper running. It can run Klipper with a core board, which greatly eliminates the mass wiring between the motherboard and Raspberry Pi, and also greatly saves space in the chassis. The BTB headers are designed on MANTA M5P, so that customers can choose to use CM4 or other solutions, thus solving the insane shortage of Raspberry Pi CM4. Main Features \u00b6 32bit 64MHz ARM Cortex-M0+ series STM32G0B1RET6 MCU. The thermistor circuit is protected to prevent MCU damage from shorted heated bed and heater cartridge connections. The CNC fan's voltage is selectable in 24V, 12V, and 5V, no more need for external stepdown thus preventing board damage from user error. Thermistor connection supports pull-up resistance value setting using jumpers, no more extra module needed for PT1000. MCU firmware can be upgraded via an SD card, or use DFU via Klipper's make flash command. BTB connectors are adopted between the motherboard and core board, allowing the choice of other core board solutions in addition to CM4. Integrated SPI and UART mode of TMC driver and DIAG pin, easily configurable with jumpers. Support filament runout sensor, BLTouch, RGB, etc. Replaceable fuse for easy maintenance. Onboard proximity switch port, support NPN and PNP type selection, (24V, 12V, 5V) voltage selection. Onboard SPI interface for connecting acceleration sensor to enable Klipper's input shaping. The new E-FUSE fuse is equipped, which can respond quickly, enhance self-protection ability, and greatly reduce the motherboard burnout caused by short circuits or ignition. Basic Parameters \u00b6 Dimensions 137.5mm x 95mm, for details please refer to BIGTREETECH MANTA M5P V1.0-SIZE-top.pdf Mounting Size Please refer to BIGTREETECH MANTA M5P V1.0-SIZE-top.pdf MCU ARM Cortex-M0+ STM32G0B1RET6 64MHz Driver Input Voltage VIN (DC12V-24V), HV (DC24V-56V) Selectable Motherboard Input Voltage VIN=DC12V or DC24V Logic Voltage DC 3.3V Heater Connection Heated Bed (HB), Heater Cartridge (HE0, HE1) HB Port Max Current 10A Continuous, 11A Instantaneous Heater Cartridge Max Current 5.5A Continuous, 6A Instantaneous Fan Port 3 x 2 pins CNC (FAN0, FAN1, Pi-FAN) (5/12/24V Selectable Voltage), 1 x Always On (FAN) Fan Port Max Current 1A Continuous, 1.1A Instantaneous Overall Current of Fan Ports) \uff1c2.5A Expansion Port CAN, Probe, RGBx2, SPI, EXP1+EXP2, MIN1-MIN4, 40Pin-GPIO Motor Driver Support TMC5160, TMC2209, TMC2225, TMC2226, TMC2208, TMC2130, ST820, LV8729, DRV8825, A4988... Driver Mode SPI, UART, STEP/DIR Motor Driver Port Motor1, Motor2, Motor3 (Dual Motors Port), Motor4, Motor5 5 Channels in Total Thermistor 3 x 100K NTC, two of which are selectable for NTC and PT1000 Display SPI Touchscreen, LCD Display, HDMI Touchscreen, DSI Touchscreen PC Connection Type-C Interface USB 2.0x2, LAN, DSI, CSI, SPI, HDMI0, HDMI1, SOC-Card, MCU-Card Supported Kinematics Cartesian, Delta, Kossel, Ultimaker, CoreXY Recommended Slicer/Console Cura, Simplify3D, Pronterface, Repetier-host, Makerware Dimensions \u00b6 Interface Diagram \u00b6 PinOut \u00b6 Hardware Configuration \u00b6 USB Power Supply After the BIGTREETECH MANTA M5P has been powered, the red light D22 on the left side of the MCU will light up, indicating power on. When using only the USB to power the board or provide power through the USB, please insert the jumper cap onto the VUSB. Hardware Installation \u00b6 Stepper Driver \u00b6 STEP/DIR (STANDALONE) Mode \u00b6 e.g.: A4988, DRV8825, LV8729, ST820, etc., connect jumpers(MS0-MS2) according to the microstep chart. Note: RST and SLP must be shorted by jumpers for A4988 or DRV8825. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html UART Mode of TMC Driver \u00b6 e.g.: TMC2208, TMC2209, TMC2225, etc., place jumpers according to the diagram below, microstep and current can be configured in firmware. SPI Mode of TMC Driver \u00b6 e.g.: TMC2130, TMC5160, TMC5161, etc., place jumpers according to the diagram below, microstep and current can be configured in firmware. DIAG(Sensorless Homing) of TMC Driver \u00b6 When using sensorless homing, place jumpers according to the diagram below, there is no need to cut the DIAG pin off when not being used. Driver Voltage Selection \u00b6 Install the Core Board via BTB Connection \u00b6 M5P+CM4: Note the direction, as shown in the figure below: M5P+CB1: Note the direction, as shown in the figure below: Voltage Selection for CNC Fans \u00b6 Through the jumper cap, you can set the output voltage to 5V, 12V, or 24V. Note: We are not responsible for fan burnout caused by incorrect voltage selection. Please confirm the voltage the fan supports before selecting the voltage. 100K NTC or PT1000 Setting \u00b6 When using 100K NTC, no jumpers need to be connected, the pull up resistance of TH0-TH3 is 4.7K 0.1%. When using PT1000, the pins indicated in the picture below need to be connected via jumpers, parallel connection of 4.12K 0.1% resistors, the pull-up resistance of TH0-TH1 is 2.2K. (This method has a much lower accuracy than the MAX31865 in reading temperature.) BLTouch Wiring \u00b6 Wiring between LCD Screen and EXP1+EXP2 \u00b6 RGB Wiring \u00b6 Filament Sensor Wiring \u00b6 40 Pins GPIO \u00b6 DSI/CSI Wiring \u00b6 Proximity Switch Wiring \u00b6 As shown in the figure below, 24V as an example, normally open (NPN type), no need for shorting through a jumper cap: As shown in the figure below, 24V as an example, normally closed (PNP type), need for shorting through a jumper cap. Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html Software Installation \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html FAQs \u00b6 All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing. Pay attention to the heat dissipation of CM4 and CB1. If the running application consumes too many system resources, the CM4/CB1 will get hot quite seriously. Product Purchase Link \u00b6","title":"M5P"},{"location":"M5P.html#m5p","text":"","title":"M5P"},{"location":"M5P.html#introduction","text":"BIGTREETECH MANTA M5P is a 32-bit motherboard developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. for Klipper running. It can run Klipper with a core board, which greatly eliminates the mass wiring between the motherboard and Raspberry Pi, and also greatly saves space in the chassis. The BTB headers are designed on MANTA M5P, so that customers can choose to use CM4 or other solutions, thus solving the insane shortage of Raspberry Pi CM4.","title":"Introduction"},{"location":"M5P.html#main-features","text":"32bit 64MHz ARM Cortex-M0+ series STM32G0B1RET6 MCU. The thermistor circuit is protected to prevent MCU damage from shorted heated bed and heater cartridge connections. The CNC fan's voltage is selectable in 24V, 12V, and 5V, no more need for external stepdown thus preventing board damage from user error. Thermistor connection supports pull-up resistance value setting using jumpers, no more extra module needed for PT1000. MCU firmware can be upgraded via an SD card, or use DFU via Klipper's make flash command. BTB connectors are adopted between the motherboard and core board, allowing the choice of other core board solutions in addition to CM4. Integrated SPI and UART mode of TMC driver and DIAG pin, easily configurable with jumpers. Support filament runout sensor, BLTouch, RGB, etc. Replaceable fuse for easy maintenance. Onboard proximity switch port, support NPN and PNP type selection, (24V, 12V, 5V) voltage selection. Onboard SPI interface for connecting acceleration sensor to enable Klipper's input shaping. The new E-FUSE fuse is equipped, which can respond quickly, enhance self-protection ability, and greatly reduce the motherboard burnout caused by short circuits or ignition.","title":"Main Features"},{"location":"M5P.html#basic-parameters","text":"Dimensions 137.5mm x 95mm, for details please refer to BIGTREETECH MANTA M5P V1.0-SIZE-top.pdf Mounting Size Please refer to BIGTREETECH MANTA M5P V1.0-SIZE-top.pdf MCU ARM Cortex-M0+ STM32G0B1RET6 64MHz Driver Input Voltage VIN (DC12V-24V), HV (DC24V-56V) Selectable Motherboard Input Voltage VIN=DC12V or DC24V Logic Voltage DC 3.3V Heater Connection Heated Bed (HB), Heater Cartridge (HE0, HE1) HB Port Max Current 10A Continuous, 11A Instantaneous Heater Cartridge Max Current 5.5A Continuous, 6A Instantaneous Fan Port 3 x 2 pins CNC (FAN0, FAN1, Pi-FAN) (5/12/24V Selectable Voltage), 1 x Always On (FAN) Fan Port Max Current 1A Continuous, 1.1A Instantaneous Overall Current of Fan Ports) \uff1c2.5A Expansion Port CAN, Probe, RGBx2, SPI, EXP1+EXP2, MIN1-MIN4, 40Pin-GPIO Motor Driver Support TMC5160, TMC2209, TMC2225, TMC2226, TMC2208, TMC2130, ST820, LV8729, DRV8825, A4988... Driver Mode SPI, UART, STEP/DIR Motor Driver Port Motor1, Motor2, Motor3 (Dual Motors Port), Motor4, Motor5 5 Channels in Total Thermistor 3 x 100K NTC, two of which are selectable for NTC and PT1000 Display SPI Touchscreen, LCD Display, HDMI Touchscreen, DSI Touchscreen PC Connection Type-C Interface USB 2.0x2, LAN, DSI, CSI, SPI, HDMI0, HDMI1, SOC-Card, MCU-Card Supported Kinematics Cartesian, Delta, Kossel, Ultimaker, CoreXY Recommended Slicer/Console Cura, Simplify3D, Pronterface, Repetier-host, Makerware","title":"Basic Parameters"},{"location":"M5P.html#dimensions","text":"","title":"Dimensions"},{"location":"M5P.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"M5P.html#pinout","text":"","title":"PinOut"},{"location":"M5P.html#hardware-configuration","text":"USB Power Supply After the BIGTREETECH MANTA M5P has been powered, the red light D22 on the left side of the MCU will light up, indicating power on. When using only the USB to power the board or provide power through the USB, please insert the jumper cap onto the VUSB.","title":"Hardware Configuration"},{"location":"M5P.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"M5P.html#stepper-driver","text":"","title":"Stepper Driver"},{"location":"M5P.html#stepdir-standalone-mode","text":"e.g.: A4988, DRV8825, LV8729, ST820, etc., connect jumpers(MS0-MS2) according to the microstep chart. Note: RST and SLP must be shorted by jumpers for A4988 or DRV8825. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html","title":"STEP/DIR (STANDALONE) Mode"},{"location":"M5P.html#uart-mode-of-tmc-driver","text":"e.g.: TMC2208, TMC2209, TMC2225, etc., place jumpers according to the diagram below, microstep and current can be configured in firmware.","title":"UART Mode of TMC Driver"},{"location":"M5P.html#spi-mode-of-tmc-driver","text":"e.g.: TMC2130, TMC5160, TMC5161, etc., place jumpers according to the diagram below, microstep and current can be configured in firmware.","title":"SPI Mode of TMC Driver"},{"location":"M5P.html#diagsensorless-homing-of-tmc-driver","text":"When using sensorless homing, place jumpers according to the diagram below, there is no need to cut the DIAG pin off when not being used.","title":"DIAG(Sensorless Homing) of TMC Driver"},{"location":"M5P.html#driver-voltage-selection","text":"","title":"Driver Voltage Selection"},{"location":"M5P.html#install-the-core-board-via-btb-connection","text":"M5P+CM4: Note the direction, as shown in the figure below: M5P+CB1: Note the direction, as shown in the figure below:","title":"Install the Core Board via BTB Connection"},{"location":"M5P.html#voltage-selection-for-cnc-fans","text":"Through the jumper cap, you can set the output voltage to 5V, 12V, or 24V. Note: We are not responsible for fan burnout caused by incorrect voltage selection. Please confirm the voltage the fan supports before selecting the voltage.","title":"Voltage Selection for CNC Fans"},{"location":"M5P.html#100k-ntc-or-pt1000-setting","text":"When using 100K NTC, no jumpers need to be connected, the pull up resistance of TH0-TH3 is 4.7K 0.1%. When using PT1000, the pins indicated in the picture below need to be connected via jumpers, parallel connection of 4.12K 0.1% resistors, the pull-up resistance of TH0-TH1 is 2.2K. (This method has a much lower accuracy than the MAX31865 in reading temperature.)","title":"100K NTC or PT1000 Setting"},{"location":"M5P.html#bltouch-wiring","text":"","title":"BLTouch Wiring"},{"location":"M5P.html#wiring-between-lcd-screen-and-exp1exp2","text":"","title":"Wiring between LCD Screen and EXP1+EXP2"},{"location":"M5P.html#rgb-wiring","text":"","title":"RGB Wiring"},{"location":"M5P.html#filament-sensor-wiring","text":"","title":"Filament Sensor Wiring"},{"location":"M5P.html#40-pins-gpio","text":"","title":"40 Pins GPIO"},{"location":"M5P.html#dsicsi-wiring","text":"","title":"DSI/CSI Wiring"},{"location":"M5P.html#proximity-switch-wiring","text":"As shown in the figure below, 24V as an example, normally open (NPN type), no need for shorting through a jumper cap: As shown in the figure below, 24V as an example, normally closed (PNP type), need for shorting through a jumper cap.","title":"Proximity Switch Wiring"},{"location":"M5P.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html","title":"Software Configuration"},{"location":"M5P.html#software-installation","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html","title":"Software Installation"},{"location":"M5P.html#faqs","text":"All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing. Pay attention to the heat dissipation of CM4 and CB1. If the running application consumes too many system resources, the CM4/CB1 will get hot quite seriously.","title":"FAQs"},{"location":"M5P.html#product-purchase-link","text":"","title":"Product Purchase Link"},{"location":"M8P.html","text":"M8P \u00b6 Introduction \u00b6 BIGTREETECH MANTA M8P is a 32-bit printer motherboard developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. for Klipper firmware. You can simply plug in the core board to run the Klipper firmware, which greatly simplifies the connection between the motherboard and the Raspberry Pi, and saves a lot of space. Moreover, the BTB connector is designed to install CM4 or other solutions to solve the current expensive problem of CM4. Main Features \u00b6 Adopt 32-bit 64MHz ARM Cortex-M0+ series STM32G0B1VET6 as the main control chip; The power chip, TPS5450-5A, supports DC12/24V power input. The output current of the chip is up to 5A, and the peak value can reach 6A, which perfectly supports the power supply of Raspberry Pi; There is a BOOT button reserved on the motherboard, users can update the bootloader through DFU; The thermistor part includes a protection circuit that protects the main control chip from the possibility of burning caused by leakage of the heated bed or heater cartridge; 24V, 12V, and 5V voltages are available for CNC fans, eliminating the need for an external transformer module, thereby reducing the chance of damage to the motherboard due to improper operation; The thermistor can select the pull-up resistor value through the jumper, in this way, it supports PT1000 without an external module, which is convenient for customers to DIY; The MCU firmware can be updated via an SD card, or through Klipper's make flash command using DFU; The motherboard and the core board use the BTB connection to allow using other solutions other than CM4; On-board TMC-driver SPI and UART working modes, on-board DIAG function pins, can be used by simply plugging and unplugging the jumper cap; Support filament runout detection, auto shutdown, BLTouch, RGB lights... High efficiency MOSFET for less heat generation; Adopt replaceable fuse for easy replacement; Three-way four-wire fan interface is reserved, and can be used to connect the water cooling device; The proximity switch interface is reserved, supports NPN and PNP types, (24V, 12V, 5V) voltage selection is available, common voltage selection with VFAN6; Provide the SPI expansion interface to allow Klipper firmware users to connect an external acceleration sensor for acceleration compensation. Basic Parameters \u00b6 Product Size: 170 x 102.7mm, you can read more details here BIGTREETECH MANTA M8P V1.0-SIZE-top.pdf Installation Size: Please read: BIGTREETECH MANTA M8P V1.0-SIZE-top.pdf Microprocessor: ARM Cortex-M0+ STM32G0B1VET6 64MHz Drive Input Voltage: VIN\uff0812V/24V\uff09 Or HV(\u226456V) Motherboard Input Voltage: VIN=DC12V or DC24V Heated Bed Input Voltage: BED IN=DC12V or DC24V Logic Voltage: DC3.3V Heating Port: Heated Bed(HB), Heater Cartridge(HE0, HE1, HE2, HE3) The maximum output current of the heated bed port: 10A, Peak Value: 12A The maximum output current of the heater cartridge port: 5.5A, Peak Value: 6A Fan Port: Two-wire CNC Fan (FAN0, FAN1, FAN2, FAN3), four-wire CNC Fan fan (FAN4, FAN5, FAN6), Always-on Fan (24V FAN x 2), among which the CNC Fan voltages are 5V, 12V, 24V optional The maximum output current of the fan port: 1A, Peak Value: 1.5A Total current for heater cartridge + driver + fan: \uff1c12A Extended Interface: BLTouch(Servos, Probe), PS-ON, Fil-DET, RGBx2, SPI Motor Driver: Support TMC5160, TMC2209, TMC2225, TMC2226, TMC2208, TMC2130, ST820, LV8729, DRV8825, A4988... Driver Working Mode Support: SPI, UART, STEP/DIR Motor Drive Interface: Motor1, Motor2, Motor3(dual motor interface), Motor4, Motor5, Motor6, Motor7, Motor8, a total of Eight Temperature Sensor Interface: 5-way 100K NTC, of which 4-way 100K NTC and PT1000 are optional Support Screen: SPI Touch Screen, LCD Screen PC Communication Interface: Type-C Functional Interface: USB 2.0 x 3, LAN, DSI, CSI, SPI, 40Pin-GPIO, HDMI0 and HDMI1, SOC-Card, MCU-Card Support Machine Structure: Cartesian, Delta, Kossel, Ultimaker, CoreXY Recommended Software: Cura, Simplify3D, Pronterface, Repetier-host, Makerware Dimensions \u00b6 PinOut \u00b6 Differences between V1.0 and V1.1 Changes in V1.1 include\uff1aM6\uff0cM7\uff0cM8\uff0cSPI\uff0cMCU-Card\uff0cRGB1&RGB2\uff0cFAN4\uff0cCAN\uff0cPi-FAN Interface Diagram \u00b6 V1.1 added functions CAN interface\uff082Pin*2 XH2.54\uff09\uff0cUSB port function selection\uff08UART to USB\uff0cUSB OTG\uff09\uff0cPi-FAN\uff08Controlled by GPIO26\uff09\uff0cFAN4 becomes a 2-wire CNC fan. The 5V and 12V power output ports are added with E-FUSE protection, which has short reaction time, strong protection and realizes over-current protection, short circuit protection and spark protection. M8P V1.1+CB1\uff1a M8P V1.1-Bot\uff1a Hardware Configuration \u00b6 USB Power Supply After the M8P motherboard is powered on, the D32 red light on the left side of the MCU will light up, indicating that the power supply is normal. The VUSB in the middle of the board is the power selection terminal. Only when using USB to supply power to the motherboard or need to supply power through USB, do you need to use the jumper to short it. Hardware Installation \u00b6 Stepper Driver \u00b6 STEP/DIR (STANDALONE) Mode \u00b6 For example, A4988, DRV8825, LV8729, ST820...use the jumper cap to short MS0-MS2 according to the driver subdivision table. Note: If using A4988or DRV8825, RST and SLP must be shorted with jumper caps for normal operation. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html For example, TMC2208, TMC2209, TMC2225... Use a jumper cap for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware. SPI Mode of TMC Driver \u00b6 For example, TMC2130, TMC5160, TMC5161... Use 4 jumper caps for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware. DIAG(Sensorless Homing) of TMC Driver \u00b6 As shown in the figure, plug the jumper cap when using the Sensorless Homing function, and leave it unplugged when it is not used. Driver Voltage Selection \u00b6 Install the Core Board via BTB Connection \u00b6 M8P+CM4: Pay attention to the direction, as shown below. M8P+CB1: Pay attention to the direction, as shown below. Voltage Selection for CNC Fans \u00b6 Set the output voltage to 5V, 12V, or 24V with a jumper cap. Note: Please confirm the fan's operating voltage before choosing a voltage. Our company is not responsible for fan burnout caused by wrong selection. 100K NTC or PT1000 Setting \u00b6 When using a 100K NTC thermistor, there is no need to insert the jumper cap, and the pull-up resistance of TH0-TH3 is 4.7K 0.1%. When using PT1000, you need to use a jumper cap to connect the two pins in the red box in the figure below and connect a 4.12K 0.1% resistor in parallel. At this time, the pull-up resistor of TH0-TH1 is 2.2K (Note: The temperature accuracy read out in this way will be far less accurate than that read out by MAX31865). BLTouch Wiring \u00b6 Auto Shutdown Module(Relay V1.2) Wiring \u00b6 Wiring between LCD Screen and EXP1+EXP2 \u00b6 RGB Wiring \u00b6 Filament Sensor Wiring \u00b6 40 Pins GPIO \u00b6 DSI/CSI Wiring \u00b6 Proximity Switch Wiring \u00b6 Always on (NPN type), no need to short-circuit via a jumper cap, 24V as an example, as shown in the following figure: Always off (PNP type), need to short-circuit via a jumper cap, 24V as an example, as shown in the following figure: Wiring of the 4-wire CNC Fan \u00b6 ADXL345 Accelerometer \u00b6 Refer to here: https://www.klipper3d.org/Measuring_Resonances.html , We can refer to the following wiring and configuration when connecting to the M8P motherboard [adxl345] cs_pin: PC4 # PB15 for V1.0 spi_bus: spi1 #spi_software_sclk_pin: PA5 #spi_software_mosi_pin: PA7 #spi_software_miso_pin: PA6 Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html Software Installation \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html FAQs \u00b6 All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing. Pay attention to the heat dissipation of CM4 and CB1. The CM4/CB1 may become quite hot if the running application consumes too many system resources. Product Purchase Link \u00b6","title":"M8P"},{"location":"M8P.html#m8p","text":"","title":"M8P"},{"location":"M8P.html#introduction","text":"BIGTREETECH MANTA M8P is a 32-bit printer motherboard developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. for Klipper firmware. You can simply plug in the core board to run the Klipper firmware, which greatly simplifies the connection between the motherboard and the Raspberry Pi, and saves a lot of space. Moreover, the BTB connector is designed to install CM4 or other solutions to solve the current expensive problem of CM4.","title":"Introduction"},{"location":"M8P.html#main-features","text":"Adopt 32-bit 64MHz ARM Cortex-M0+ series STM32G0B1VET6 as the main control chip; The power chip, TPS5450-5A, supports DC12/24V power input. The output current of the chip is up to 5A, and the peak value can reach 6A, which perfectly supports the power supply of Raspberry Pi; There is a BOOT button reserved on the motherboard, users can update the bootloader through DFU; The thermistor part includes a protection circuit that protects the main control chip from the possibility of burning caused by leakage of the heated bed or heater cartridge; 24V, 12V, and 5V voltages are available for CNC fans, eliminating the need for an external transformer module, thereby reducing the chance of damage to the motherboard due to improper operation; The thermistor can select the pull-up resistor value through the jumper, in this way, it supports PT1000 without an external module, which is convenient for customers to DIY; The MCU firmware can be updated via an SD card, or through Klipper's make flash command using DFU; The motherboard and the core board use the BTB connection to allow using other solutions other than CM4; On-board TMC-driver SPI and UART working modes, on-board DIAG function pins, can be used by simply plugging and unplugging the jumper cap; Support filament runout detection, auto shutdown, BLTouch, RGB lights... High efficiency MOSFET for less heat generation; Adopt replaceable fuse for easy replacement; Three-way four-wire fan interface is reserved, and can be used to connect the water cooling device; The proximity switch interface is reserved, supports NPN and PNP types, (24V, 12V, 5V) voltage selection is available, common voltage selection with VFAN6; Provide the SPI expansion interface to allow Klipper firmware users to connect an external acceleration sensor for acceleration compensation.","title":"Main Features"},{"location":"M8P.html#basic-parameters","text":"Product Size: 170 x 102.7mm, you can read more details here BIGTREETECH MANTA M8P V1.0-SIZE-top.pdf Installation Size: Please read: BIGTREETECH MANTA M8P V1.0-SIZE-top.pdf Microprocessor: ARM Cortex-M0+ STM32G0B1VET6 64MHz Drive Input Voltage: VIN\uff0812V/24V\uff09 Or HV(\u226456V) Motherboard Input Voltage: VIN=DC12V or DC24V Heated Bed Input Voltage: BED IN=DC12V or DC24V Logic Voltage: DC3.3V Heating Port: Heated Bed(HB), Heater Cartridge(HE0, HE1, HE2, HE3) The maximum output current of the heated bed port: 10A, Peak Value: 12A The maximum output current of the heater cartridge port: 5.5A, Peak Value: 6A Fan Port: Two-wire CNC Fan (FAN0, FAN1, FAN2, FAN3), four-wire CNC Fan fan (FAN4, FAN5, FAN6), Always-on Fan (24V FAN x 2), among which the CNC Fan voltages are 5V, 12V, 24V optional The maximum output current of the fan port: 1A, Peak Value: 1.5A Total current for heater cartridge + driver + fan: \uff1c12A Extended Interface: BLTouch(Servos, Probe), PS-ON, Fil-DET, RGBx2, SPI Motor Driver: Support TMC5160, TMC2209, TMC2225, TMC2226, TMC2208, TMC2130, ST820, LV8729, DRV8825, A4988... Driver Working Mode Support: SPI, UART, STEP/DIR Motor Drive Interface: Motor1, Motor2, Motor3(dual motor interface), Motor4, Motor5, Motor6, Motor7, Motor8, a total of Eight Temperature Sensor Interface: 5-way 100K NTC, of which 4-way 100K NTC and PT1000 are optional Support Screen: SPI Touch Screen, LCD Screen PC Communication Interface: Type-C Functional Interface: USB 2.0 x 3, LAN, DSI, CSI, SPI, 40Pin-GPIO, HDMI0 and HDMI1, SOC-Card, MCU-Card Support Machine Structure: Cartesian, Delta, Kossel, Ultimaker, CoreXY Recommended Software: Cura, Simplify3D, Pronterface, Repetier-host, Makerware","title":"Basic Parameters"},{"location":"M8P.html#dimensions","text":"","title":"Dimensions"},{"location":"M8P.html#pinout","text":"Differences between V1.0 and V1.1 Changes in V1.1 include\uff1aM6\uff0cM7\uff0cM8\uff0cSPI\uff0cMCU-Card\uff0cRGB1&RGB2\uff0cFAN4\uff0cCAN\uff0cPi-FAN","title":"PinOut"},{"location":"M8P.html#interface-diagram","text":"V1.1 added functions CAN interface\uff082Pin*2 XH2.54\uff09\uff0cUSB port function selection\uff08UART to USB\uff0cUSB OTG\uff09\uff0cPi-FAN\uff08Controlled by GPIO26\uff09\uff0cFAN4 becomes a 2-wire CNC fan. The 5V and 12V power output ports are added with E-FUSE protection, which has short reaction time, strong protection and realizes over-current protection, short circuit protection and spark protection. M8P V1.1+CB1\uff1a M8P V1.1-Bot\uff1a","title":"Interface Diagram"},{"location":"M8P.html#hardware-configuration","text":"USB Power Supply After the M8P motherboard is powered on, the D32 red light on the left side of the MCU will light up, indicating that the power supply is normal. The VUSB in the middle of the board is the power selection terminal. Only when using USB to supply power to the motherboard or need to supply power through USB, do you need to use the jumper to short it.","title":"Hardware Configuration"},{"location":"M8P.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"M8P.html#stepper-driver","text":"","title":"Stepper Driver"},{"location":"M8P.html#stepdir-standalone-mode","text":"For example, A4988, DRV8825, LV8729, ST820...use the jumper cap to short MS0-MS2 according to the driver subdivision table. Note: If using A4988or DRV8825, RST and SLP must be shorted with jumper caps for normal operation. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html For example, TMC2208, TMC2209, TMC2225... Use a jumper cap for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware.","title":"STEP/DIR (STANDALONE) Mode"},{"location":"M8P.html#spi-mode-of-tmc-driver","text":"For example, TMC2130, TMC5160, TMC5161... Use 4 jumper caps for each to connect the position of the red box in the figure, and the subdivision and driver current is set by firmware.","title":"SPI Mode of TMC Driver"},{"location":"M8P.html#diagsensorless-homing-of-tmc-driver","text":"As shown in the figure, plug the jumper cap when using the Sensorless Homing function, and leave it unplugged when it is not used.","title":"DIAG(Sensorless Homing) of TMC Driver"},{"location":"M8P.html#driver-voltage-selection","text":"","title":"Driver Voltage Selection"},{"location":"M8P.html#install-the-core-board-via-btb-connection","text":"M8P+CM4: Pay attention to the direction, as shown below. M8P+CB1: Pay attention to the direction, as shown below.","title":"Install the Core Board via BTB Connection"},{"location":"M8P.html#voltage-selection-for-cnc-fans","text":"Set the output voltage to 5V, 12V, or 24V with a jumper cap. Note: Please confirm the fan's operating voltage before choosing a voltage. Our company is not responsible for fan burnout caused by wrong selection.","title":"Voltage Selection for CNC Fans"},{"location":"M8P.html#100k-ntc-or-pt1000-setting","text":"When using a 100K NTC thermistor, there is no need to insert the jumper cap, and the pull-up resistance of TH0-TH3 is 4.7K 0.1%. When using PT1000, you need to use a jumper cap to connect the two pins in the red box in the figure below and connect a 4.12K 0.1% resistor in parallel. At this time, the pull-up resistor of TH0-TH1 is 2.2K (Note: The temperature accuracy read out in this way will be far less accurate than that read out by MAX31865).","title":"100K NTC or PT1000 Setting"},{"location":"M8P.html#bltouch-wiring","text":"","title":"BLTouch Wiring"},{"location":"M8P.html#auto-shutdown-modulerelay-v12-wiring","text":"","title":"Auto Shutdown Module(Relay V1.2) Wiring"},{"location":"M8P.html#wiring-between-lcd-screen-and-exp1exp2","text":"","title":"Wiring between LCD Screen and EXP1+EXP2"},{"location":"M8P.html#rgb-wiring","text":"","title":"RGB Wiring"},{"location":"M8P.html#filament-sensor-wiring","text":"","title":"Filament Sensor Wiring"},{"location":"M8P.html#40-pins-gpio","text":"","title":"40 Pins GPIO"},{"location":"M8P.html#dsicsi-wiring","text":"","title":"DSI/CSI Wiring"},{"location":"M8P.html#proximity-switch-wiring","text":"Always on (NPN type), no need to short-circuit via a jumper cap, 24V as an example, as shown in the following figure: Always off (PNP type), need to short-circuit via a jumper cap, 24V as an example, as shown in the following figure:","title":"Proximity Switch Wiring"},{"location":"M8P.html#wiring-of-the-4-wire-cnc-fan","text":"","title":"Wiring of the 4-wire CNC Fan"},{"location":"M8P.html#adxl345-accelerometer","text":"Refer to here: https://www.klipper3d.org/Measuring_Resonances.html , We can refer to the following wiring and configuration when connecting to the M8P motherboard [adxl345] cs_pin: PC4 # PB15 for V1.0 spi_bus: spi1 #spi_software_sclk_pin: PA5 #spi_software_mosi_pin: PA7 #spi_software_miso_pin: PA6","title":"ADXL345 Accelerometer"},{"location":"M8P.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html","title":"Software Configuration"},{"location":"M8P.html#software-installation","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html","title":"Software Installation"},{"location":"M8P.html#faqs","text":"All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing. Pay attention to the heat dissipation of CM4 and CB1. The CM4/CB1 may become quite hot if the running application consumes too many system resources.","title":"FAQs"},{"location":"M8P.html#product-purchase-link","text":"","title":"Product Purchase Link"},{"location":"Octopus%20Pro.html","text":"Octopus Pro \u00b6 Introduction \u00b6 The BIGTREETECH Octopus-pro V1.0 is a powerful and feature rich, 3D printer motherboard that supports up to 8 60V stepper drivers with 9 stepper driver outputs in total. It is designed and manufactured by the 3D printing team of Shenzhen Bigtree Technology Co. Ltd Main Features \u00b6 Uses a 32-bit ARM Cortex-M4 series. Option A comes with an STM32F446ZET6 main control chip with a core frequency of 180MHz and a flash capacity of 512kB.Option B comes with an STM32F429ZGT6 with a core frequency of 168MHz and a flash capacity of 1MB. For Klipper use, option A is likely sufficient. Supports running Klipper, Marlin and RRF. Voltage selection jumpers for each motor driver allow the user to independentlyselect the voltage routed to that driver. Select between the dedicated motor voltage input (up to 60V) and the main logic input (24V). Interfaces with a Raspberry Pi using emulated serial over USB or direct UART to any of the serial ports on the board. Interfaces with a Raspberry Pi using emulated serial over USB or direct UART to any of the serial ports on the board. Supports up to 4 hotend heaters. Provides separate power inputs for motors, bed heating and logic/fans/hotends. Supports 12V or 24V supply inputs (12V only supported on motor and bed. Logic must be > 14.1V and < 28V) with built in 12V (4A), 5V (8A) and 3.3V (1A) regulators to provide rails for peripheral use. Up to 6 PWM fans and 2 always-on fans with the ability to individually select the voltage rail that will drive each fan. Select from Vin, 12V or 5V. Flyback protection on PWM fan ports \u2013 Many people find that their fan ports become damaged after some time when using larger fans. This is because of the inductance in the fan coils. The octopus includes flyback protection on each fan port which will protect the FETs from damage caused by turning the fans on and off. Includes USB-C interface which supports an emulated serial port that allows printing via USB. Supports all versions of BIGTREETECH TFT screens and LCD12864 screens. Supports multiple languages such as English and Simplified Chinese and can easily switch between different languages (when using the BTT TFT). Includes a bootloader that allows firmware upgrades via the SD card. This offers a simple, efficient, and convenient way to update the firmware. Uses high-performance MOSFETs to increase heating efficiency while also reducing heat generation on the motherboard. Uses easily replaceable fuses Supports \u201cprint from SD card\u201d and \u201cprint via USB OTG\u201d using the integrated USB-A port. Provides two stepper outputs, connected in parallel, to the Z driver allowing for a parallel, dual Z axis drive. Supports firmware update via DFU mode. This is where the firmware is sent to the board directly from the PC and does not require a bootloader however this method is not recommended for novice users as discussed later in this document. Includes an onboard, 32K EEPROM (AT24C32). Provides an RGB LED interface. Provides a WiFi interface for ESP8266 based modules. Provides a built-in PT100/1000 interface using an integrated MAX31865 amplifier. The interface supports 2/3/4 wire connections. Thermistor input protection. This allows you to short a thermistor input directly to a voltage source (not that this makes it a good habit to pick up) up to Vin without causing damage to the motherboard. Supports BL Touch and various other ABL sensors. Provides a dedicated \u201cPROBE\u201d port for bed probes. This port is internally protected via an optocoupler which means that you don\u2019t need to use a BAT85 diode.Additionaly, the octopus-pro includes a pull up resistor on the probe port which can be selected or deactivated using a jumper. This allows it to work with both NPN and PNP type probes. Supports CAN BUS using a 6P6C RJ11 interface, which offers the board the ability to interface with future expansion modules. Supports StallGuard for sensorless homing with TMC drivers Provides an SPI expansion port which can connect the SPI-based expansion modules. Supports the shutdown after printing function. Supports the power loss print resume function Includes inputs for up to 6 endstop switches and 2 filament runout interfaces. Provides an I2C expansion port for peripherals that communicate using that protocol. Includes a short circuit warning buzzer which will provide an audible alert when the current load on the 5V rail is exceeding what the regulator is able to produce. Basic Parameters \u00b6 Edge to edge size: 160*100mm Mounting hole to hole size: 150*90mm Microprocessor: ARM 32-bit Cortex\u2122-M4 CPU: STM32F446ZET6 OR STM32F429ZGT6 Recommended motherboard input voltage: DC15V \u2013 28V Motor input voltage range: DC12-60V Bed input voltage range: DC12-28V Motor drivers: Pluggable drivers supporting all popular driver types. Motor driver sockets: MOTOR0, MOTOR1, MOTOR2_1, MOTOR2_2, MOTOR3, MOTOR4, MOTOR5, MOTOR6, MOTOR7 Temperature sensor interfaces: TB, T0, T1, T2, T3. Display interfaces: BIGTREETECH TFT touch screen, LCD12864, LCD2004, etc. PC communication interfaces: USB Type-C with configurable BAUD. Expansion interfaces: Filament runout, power loss detection, automatic power down, BL Touch and many others. Supported print file format: G-code or whatever the firmware under use supports. Recommended slicing/interface software: Cura, IdeaMaker, Simplify3D, Prusa Slicer, Pronterface, Repetier-host, Makerware, etc\u2026 Dimensions \u00b6 Interface Diagram \u00b6 PinOut \u00b6 The image below is a snippet taken from the PINS.pdf document. For better viewability please consult the PINS.pdf document. Hardware Configuration \u00b6 Note: The octopus-pro packs a ton of features which necessitates many components and connectors. Given the component and connector density it was not possible to include the silk screen for connector labels on the top. We recommend that you snap a picture of the bottom of the board before starting the installation so that you have a label reference on hand. If you forget to do so then you can always make use of the PINS.pdf file available on our github repo . POWER WIRING \u00b6 The octopus pro provides three separate power inputs: motherboard power, motor power, and bed heater power. This allows a user to use several power supplies with common grounds in order to ensure that they are able to provide the required power to each part of their system. The motherboard power is regulated using a number of switch-mode and low dropout power supplies to provide the supply rails of 12V, 5V and 3.3V. The 12V, 5V and 3.3V rails are made available via various pins on the motherboard. Consult the PINS.pdf document to find a breakout header if you plan to use one of these supply rails. Take note that the 12V rail can supply up to 4A, the 5V up to 8A and the 3.3V up to 1A however, in order to prevent overloading the rails it is not recommended to load them to their maximum capacity since there are already various components on the motherboard which also take their supply from them. Power wiring is as shown below (look on the underside of your board to quickly identify the purpose of each input if the pins file is not on hand). The positive (red) wire from the power supply goes to the terminal marked +. The negative (black) wire from the power supply goes to the terminal marked -. The polarity (+ and -) is also silk screened onto the underside of the board. Note: DO NOT alter the board wiring with the power on and be sure to get the polarity correct otherwise you can damage the motherboard. MCU POWER JUMPER \u00b6 The Octopus can be powered using the USB-C port by inserting the jumper as shown below. This can make it easier to compile and download firmware directly to the motherboard using DFU mode. If you do not connect this jumper then you must provide the board with power via the main input supply if you would like to communicate via USB-C. Hardware Installation \u00b6 AUTOMATIC POWER DOWN WIRING \u00b6 When using the BIGTREETECH Relay V1.2 module, the wiring can be performed as shown in the figure below. Note: Since power will still be supplied to the Relay 1.2 module after it has cut power to the motherboard, it is extremely dangerous to touch the it while the printer is still connected to mains. Always remove all mains power when working on this wiring. BL TOUCH WIRING \u00b6 When using a BL Touch, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied. POWER LOSS RECOVERY MODULE WIRING \u00b6 When using the BIGTREETECH mini UPS, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied. RGB LED WIRING \u00b6 When using the motherboard with RGB LEDs you should wire them as shown in the image below. The exact pinout of the connector can be found on the silkscreen on the underside of the motherboard. RASPBERRY PI WIRING \u00b6 The motherboard supports a connection to a Raspberry Pi for printing. There are several connection options available to connect to a raspberry pi. Simplest of all is to connect the raspberry pi directly to the USB-C port which will emulate a virtual serial port on the pi. However, if you have another need for the USB-C port you are still able to connect the raspberry pi to the motherboard using a direct serial connection over UART or SPI. Dedicated UART and SPI pin headers have been made available on the motherboard for this purpose with the pin mappings conveniently printed in silkscreen on the underside of the board for each. It is beyond the scope of this manual to detail exactly how to connect the raspberry pi to either of these headers however there is an abundance of material online that explains how to interface a raspberry pi to an external device over either of these serial busses. 5V power for the raspberry pi is provided via the dedicated Raspberry pi header (UART2). Consult the PINS.pdf document for the exact pinout of this header. PROBE PORT WIRING \u00b6 The probe port has been provided to allow users to interface bed probes directly to the motherboard without the need for a BAT85 diode to act as a protection against high voltages. The probe signal pin connects to an internal optocoupler that in turn triggers the pin connected to the microcontroller. Depending on the type of probe you are using, you may need to add a jumper to activate the internal 12k pull up resistor between the probe positive voltage rail and the probe signal pin. This will be the case if you are using an \u201cNPN\u201d style probe where the output pulls to ground when it is active. You can tell this by checking the output of your probe using a multimeter. If it floats when it is not active (with nothing else connected to it) and then goes to ground when it is active, it is an NPN style probe. If it goes to the positive rail when active then it is a PNP style probe. The image below shows where the jumper to activate the 12k pull up resistor is located. Regardless of the kind of probe you are using, you will need to enable the internal pulldown resistor on the probe input pin in order for it to generate an output signal. Please refer to the pin configuration instructions for the specific firmware that you are using to find out how to enable a pull down resistor on the probe input pin (PC5). Refer to Section 4.2 for further information on how to configure the voltage used by the probe port. STEPPER DRIVER OPERATIONAL MODES \u00b6 STEP/DIR MODE \u00b6 If you are using drivers that do not support configuration over a serial port then you will need to operate them in step/dir mode and set the jumpers beneath the stepper driver according to the microstepping you desire. Each driver will have its own microstepping table so we do not attempt to speak on behalf of the driver manufacturer in our manual. Please consult the datasheet of your driver to determine what signals need to be applied to the microstepping configuration pins in order to achieve the microstepping you desire. Nevertheless, below you will see a figure which will help you to identify which jumpers correspond to the pins that your drivers will use to configure microstepping and we have additionally included a section in appendix A1 which contains the microstepping tables for some of the most common drivers. This should be viewed as a convenience to the user and we still recommend that you consult the datasheet of your driver manufacturer. In the above image the red rectangle isolates the groups of driver pins. For the purpose of running the drivers in step/dir mode the pinout can be described as per the table below. Note that this is not the actual pinout but rather a simplification for step/dir mode. Connecting jumpers between the lower two rows will set the middle pin (MS) to 5V except for the jumpers in the first column where it will connect SLP and RST. Note that if your stepper driver requires 0V to be present on any of the pins then there is actually no need to connect a jumper to that pin when running in step/dir mode and connecting a jumper in this instance could cause interference since those lines are used for the SPI bus. Note that if you use an A4988 or a DRV8825 driver, you must connect RST and SLP. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html UART MODE \u00b6 When using a driver in UART mode, connect the jumpers beneath that driver as show in the image below. SPI MODE \u00b6 When using a driver in SPI mode, connect the jumpers beneath that driver as shown in the image below. MOTHERBOARD JUMPER SETTINGS \u00b6 MOTOR POWER SELECTION JUMPERS \u00b6 Each motor driver on the octopus pro can have the voltage used by it configured via a jumper. Note: Before powering your octopus pro, always double check the driver voltage jumpers to ensure that the correct voltage is being routed to each driver. Sending a high voltage to a driver that is not rated for it is likely to destroy it and may even cause damage to the motherboard. Setting the jumper for any given driver to the right, as shown in the image below, will provide the motherboard input voltage for that driver to use. Generally the motherboard uses 24V. Setting the jumper for any given driver to the left, as shown in the image below, will provide the motor input voltage for that driver to use. This can be up to 60V. Note: Never remove or insert a jumper when power is applied to either the board input or the motor input. FAN AND PROXIMITY SWITCH VOLTAGE SETTINGS \u00b6 The Octopus features 6 PWM fan outputs and two \u201calways on\u201d fan outputs. There is also a dedicated pin header for a proximity sensor or probe. All of the fan outputs and the proximity sensor input can individually have the voltage supplied by their pin header selected by configuring the jumpers associated with each header. Configure the jumpers as below to select 24V (note that all are shown in the same configuration even though they can be individually configured). Configure the jumpers as below to select 12V. Configure the jumpers as below for 5V. Note: Since the jumpers carry a voltage rail directly from one of the regulators or from the input, if you short the jumpers in any way other than the shown connections, you will likely cause damage to the motherboard. When connecting the fan, make sure that you connect the positive terminal to the positive output as shown in the images. STALLGUARD JUMPER SETTINGS \u00b6 The \u201cdiag\u201d jumpers which are used to connect the diagnostic output pin to the endstop inputs for drivers which support the stallguard feature (TMC2209/TMC2226, etc\u2026) can be found in the location shown in the image below. The exact diag numbering can be found by looking at the pins file or the silkscreen beneath the board. PT100/PT1000 DIP SWITCHES \u00b6 The PT100 amplifier supports 2,3 and 4 wire connections to the board. However, the DIP switch needs to be configured for the setup that you are using. You can find the DIP switch in the location shown in the image below. Note that the DIP switch has switch numbers and the \u201con\u201d position printed on it. Select the connection arrangement for your thermistor according to the table below. Bear in mind that you will still need to configure your firmware using the correct sense resistor values which will be 430\uf057 for the PT100 and 4300\uf057 for the PT1000. 1 2 3 4 Sensor model ON ON ON OFF Two-wire PT100 ON ON OFF ON Two-wire PT1000 OFF ON ON OFF Three-wire PT100 OFF ON OFF ON Three-wire PT1000 If you are using a three-wire arrangement, then you will also need to make a small adjustment to an SMD resistor on the board. The image below shows the factory default resistor setting in the blue box (2/4 wire arrangement). Using a 3 wire arrangement will require you to move the resistor from the blue box into the red box and then to leave the pads in the blue box unpopulated. These resistors are 0\uf057 so if you do not feel comfortable soldering them back in place you can always just create a solder bridge between the pads instead, selecting the pads appropriate to your arrangement. Software Installation \u00b6 COMMUNICATING WITH THE MOTHERBOARD \u00b6 After connecting the motherboard to a computer via a USB cable, the driver will be automatically installed (windows, linux and macos). Upon installation of the driver the motherboard should automatically enumerate as a virtual serial device which can be used for data transfer. If it fails to do so, you can visit our GitHub website: https://github.com/bigtreetech?tab=repositories and find the corresponding repository to download the driver. If you would like to confirm that the driver has been installed correctly you can access the device manager in windows and look for a virtual com port when the motherboard is plugged in. In the image below the motherboard has been assigned COM7 however your operating system may assign it any available COM port number. Other operating systems will list serial ports in a different manner. MOTHERBOARD FIRMWARE SUPPORT \u00b6 Marlin, Klipper and RRF (429 variant) all support the Octopus Pro. You can compile and configure you firmware variant of choice according to the methods specified by the developers of that firmware. In time, configuration files for different firmware distributions will be made available on the octopus-pro github . Covering how to compile firmware using VSCode is beyond the scope of this manual however there is an abundance of information online which explains how to set up VSCode on your machine and how to configure Marlin thereafter. Good places to start are provided for your convenience in the links below: \u2022 https://marlinfw.org/docs/basics/install_platformio_vscode.html \u2022 https://www.youtube.com/watch?v=eq_ygvHF29I Once you have either compiled your own version of Marlin or downloaded a pre-compiled version, you can install it by following the steps below: Make sure that the firmware binary is named \u201cfirmware.bin\u201d. Any other name will be rejected by the bootloader. Use an SD card that has been formatted using the SD formatter tool here: https://www.sdcard.org/downloads/formatter/ Copy the firmware binary file to the SD card. Insert the SD card into the motherboard and reset it. Remove the SD card and check that the file has changed name to \u201cFIRMWARE.CUR\u201d. This will confirm that the firmware was successfully installed. If you are using Klipper then please ensure that you have the following settings enabled for the 446 variant. Take careful note of the crystal oscillator frequency which is 12MHz and differs from the 429 variant. The 429 variant of the board makes use of a different frequency crystal oscillator (8MHz) and therefore the klipper configuration needs to be adjusted slightly as show in in the image below. PRECAUTIONS \u00b6 The precautions listed in this section should not be overlooked. They have been included as reminders to prevent damage to your motherboard. Never work on the motherboard with power applied. Always double check all jumpers and wiring before applying power. Improper jumpers or wiring can cause damage to the motherboard and possibly even peripherals that it interfaces with. The motherboard can power heated beds up to 300W. If you are using a bed that operates at a higher power then you will need to use an external MOSFET. Do not connect a voltage source greater than 28V to this input. Never short circuit the 3.3V, 5V, 12V or 24V supplies to each other. Doing so will let out some smoke and BTT will not be able to put it back for you. You cannot power external devices using the USB-C interface. It is designed for data only. Always consult the PIN.pdf diagram when making jumper connections or wiring changes. Assuming a connection order may result in damage to the motherboard. It is recommended to update the firmware using SD card. Using DFU (direct programming via the USB port) will overwrite the bootloader meaning that you will no longer have the option to update via SD card unless you reflash the bootloader.","title":"Octopus Pro"},{"location":"Octopus%20Pro.html#octopus-pro","text":"","title":"Octopus Pro"},{"location":"Octopus%20Pro.html#introduction","text":"The BIGTREETECH Octopus-pro V1.0 is a powerful and feature rich, 3D printer motherboard that supports up to 8 60V stepper drivers with 9 stepper driver outputs in total. It is designed and manufactured by the 3D printing team of Shenzhen Bigtree Technology Co. Ltd","title":"Introduction"},{"location":"Octopus%20Pro.html#main-features","text":"Uses a 32-bit ARM Cortex-M4 series. Option A comes with an STM32F446ZET6 main control chip with a core frequency of 180MHz and a flash capacity of 512kB.Option B comes with an STM32F429ZGT6 with a core frequency of 168MHz and a flash capacity of 1MB. For Klipper use, option A is likely sufficient. Supports running Klipper, Marlin and RRF. Voltage selection jumpers for each motor driver allow the user to independentlyselect the voltage routed to that driver. Select between the dedicated motor voltage input (up to 60V) and the main logic input (24V). Interfaces with a Raspberry Pi using emulated serial over USB or direct UART to any of the serial ports on the board. Interfaces with a Raspberry Pi using emulated serial over USB or direct UART to any of the serial ports on the board. Supports up to 4 hotend heaters. Provides separate power inputs for motors, bed heating and logic/fans/hotends. Supports 12V or 24V supply inputs (12V only supported on motor and bed. Logic must be > 14.1V and < 28V) with built in 12V (4A), 5V (8A) and 3.3V (1A) regulators to provide rails for peripheral use. Up to 6 PWM fans and 2 always-on fans with the ability to individually select the voltage rail that will drive each fan. Select from Vin, 12V or 5V. Flyback protection on PWM fan ports \u2013 Many people find that their fan ports become damaged after some time when using larger fans. This is because of the inductance in the fan coils. The octopus includes flyback protection on each fan port which will protect the FETs from damage caused by turning the fans on and off. Includes USB-C interface which supports an emulated serial port that allows printing via USB. Supports all versions of BIGTREETECH TFT screens and LCD12864 screens. Supports multiple languages such as English and Simplified Chinese and can easily switch between different languages (when using the BTT TFT). Includes a bootloader that allows firmware upgrades via the SD card. This offers a simple, efficient, and convenient way to update the firmware. Uses high-performance MOSFETs to increase heating efficiency while also reducing heat generation on the motherboard. Uses easily replaceable fuses Supports \u201cprint from SD card\u201d and \u201cprint via USB OTG\u201d using the integrated USB-A port. Provides two stepper outputs, connected in parallel, to the Z driver allowing for a parallel, dual Z axis drive. Supports firmware update via DFU mode. This is where the firmware is sent to the board directly from the PC and does not require a bootloader however this method is not recommended for novice users as discussed later in this document. Includes an onboard, 32K EEPROM (AT24C32). Provides an RGB LED interface. Provides a WiFi interface for ESP8266 based modules. Provides a built-in PT100/1000 interface using an integrated MAX31865 amplifier. The interface supports 2/3/4 wire connections. Thermistor input protection. This allows you to short a thermistor input directly to a voltage source (not that this makes it a good habit to pick up) up to Vin without causing damage to the motherboard. Supports BL Touch and various other ABL sensors. Provides a dedicated \u201cPROBE\u201d port for bed probes. This port is internally protected via an optocoupler which means that you don\u2019t need to use a BAT85 diode.Additionaly, the octopus-pro includes a pull up resistor on the probe port which can be selected or deactivated using a jumper. This allows it to work with both NPN and PNP type probes. Supports CAN BUS using a 6P6C RJ11 interface, which offers the board the ability to interface with future expansion modules. Supports StallGuard for sensorless homing with TMC drivers Provides an SPI expansion port which can connect the SPI-based expansion modules. Supports the shutdown after printing function. Supports the power loss print resume function Includes inputs for up to 6 endstop switches and 2 filament runout interfaces. Provides an I2C expansion port for peripherals that communicate using that protocol. Includes a short circuit warning buzzer which will provide an audible alert when the current load on the 5V rail is exceeding what the regulator is able to produce.","title":"Main Features"},{"location":"Octopus%20Pro.html#basic-parameters","text":"Edge to edge size: 160*100mm Mounting hole to hole size: 150*90mm Microprocessor: ARM 32-bit Cortex\u2122-M4 CPU: STM32F446ZET6 OR STM32F429ZGT6 Recommended motherboard input voltage: DC15V \u2013 28V Motor input voltage range: DC12-60V Bed input voltage range: DC12-28V Motor drivers: Pluggable drivers supporting all popular driver types. Motor driver sockets: MOTOR0, MOTOR1, MOTOR2_1, MOTOR2_2, MOTOR3, MOTOR4, MOTOR5, MOTOR6, MOTOR7 Temperature sensor interfaces: TB, T0, T1, T2, T3. Display interfaces: BIGTREETECH TFT touch screen, LCD12864, LCD2004, etc. PC communication interfaces: USB Type-C with configurable BAUD. Expansion interfaces: Filament runout, power loss detection, automatic power down, BL Touch and many others. Supported print file format: G-code or whatever the firmware under use supports. Recommended slicing/interface software: Cura, IdeaMaker, Simplify3D, Prusa Slicer, Pronterface, Repetier-host, Makerware, etc\u2026","title":"Basic Parameters"},{"location":"Octopus%20Pro.html#dimensions","text":"","title":"Dimensions"},{"location":"Octopus%20Pro.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"Octopus%20Pro.html#pinout","text":"The image below is a snippet taken from the PINS.pdf document. For better viewability please consult the PINS.pdf document.","title":"PinOut"},{"location":"Octopus%20Pro.html#hardware-configuration","text":"Note: The octopus-pro packs a ton of features which necessitates many components and connectors. Given the component and connector density it was not possible to include the silk screen for connector labels on the top. We recommend that you snap a picture of the bottom of the board before starting the installation so that you have a label reference on hand. If you forget to do so then you can always make use of the PINS.pdf file available on our github repo .","title":"Hardware Configuration"},{"location":"Octopus%20Pro.html#power-wiring","text":"The octopus pro provides three separate power inputs: motherboard power, motor power, and bed heater power. This allows a user to use several power supplies with common grounds in order to ensure that they are able to provide the required power to each part of their system. The motherboard power is regulated using a number of switch-mode and low dropout power supplies to provide the supply rails of 12V, 5V and 3.3V. The 12V, 5V and 3.3V rails are made available via various pins on the motherboard. Consult the PINS.pdf document to find a breakout header if you plan to use one of these supply rails. Take note that the 12V rail can supply up to 4A, the 5V up to 8A and the 3.3V up to 1A however, in order to prevent overloading the rails it is not recommended to load them to their maximum capacity since there are already various components on the motherboard which also take their supply from them. Power wiring is as shown below (look on the underside of your board to quickly identify the purpose of each input if the pins file is not on hand). The positive (red) wire from the power supply goes to the terminal marked +. The negative (black) wire from the power supply goes to the terminal marked -. The polarity (+ and -) is also silk screened onto the underside of the board. Note: DO NOT alter the board wiring with the power on and be sure to get the polarity correct otherwise you can damage the motherboard.","title":"POWER WIRING"},{"location":"Octopus%20Pro.html#mcu-power-jumper","text":"The Octopus can be powered using the USB-C port by inserting the jumper as shown below. This can make it easier to compile and download firmware directly to the motherboard using DFU mode. If you do not connect this jumper then you must provide the board with power via the main input supply if you would like to communicate via USB-C.","title":"MCU POWER JUMPER"},{"location":"Octopus%20Pro.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"Octopus%20Pro.html#automatic-power-down-wiring","text":"When using the BIGTREETECH Relay V1.2 module, the wiring can be performed as shown in the figure below. Note: Since power will still be supplied to the Relay 1.2 module after it has cut power to the motherboard, it is extremely dangerous to touch the it while the printer is still connected to mains. Always remove all mains power when working on this wiring.","title":"AUTOMATIC POWER DOWN WIRING"},{"location":"Octopus%20Pro.html#bl-touch-wiring","text":"When using a BL Touch, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied.","title":"BL TOUCH WIRING"},{"location":"Octopus%20Pro.html#power-loss-recovery-module-wiring","text":"When using the BIGTREETECH mini UPS, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied.","title":"POWER LOSS RECOVERY MODULE WIRING"},{"location":"Octopus%20Pro.html#rgb-led-wiring","text":"When using the motherboard with RGB LEDs you should wire them as shown in the image below. The exact pinout of the connector can be found on the silkscreen on the underside of the motherboard.","title":"RGB LED WIRING"},{"location":"Octopus%20Pro.html#raspberry-pi-wiring","text":"The motherboard supports a connection to a Raspberry Pi for printing. There are several connection options available to connect to a raspberry pi. Simplest of all is to connect the raspberry pi directly to the USB-C port which will emulate a virtual serial port on the pi. However, if you have another need for the USB-C port you are still able to connect the raspberry pi to the motherboard using a direct serial connection over UART or SPI. Dedicated UART and SPI pin headers have been made available on the motherboard for this purpose with the pin mappings conveniently printed in silkscreen on the underside of the board for each. It is beyond the scope of this manual to detail exactly how to connect the raspberry pi to either of these headers however there is an abundance of material online that explains how to interface a raspberry pi to an external device over either of these serial busses. 5V power for the raspberry pi is provided via the dedicated Raspberry pi header (UART2). Consult the PINS.pdf document for the exact pinout of this header.","title":"RASPBERRY PI WIRING"},{"location":"Octopus%20Pro.html#probe-port-wiring","text":"The probe port has been provided to allow users to interface bed probes directly to the motherboard without the need for a BAT85 diode to act as a protection against high voltages. The probe signal pin connects to an internal optocoupler that in turn triggers the pin connected to the microcontroller. Depending on the type of probe you are using, you may need to add a jumper to activate the internal 12k pull up resistor between the probe positive voltage rail and the probe signal pin. This will be the case if you are using an \u201cNPN\u201d style probe where the output pulls to ground when it is active. You can tell this by checking the output of your probe using a multimeter. If it floats when it is not active (with nothing else connected to it) and then goes to ground when it is active, it is an NPN style probe. If it goes to the positive rail when active then it is a PNP style probe. The image below shows where the jumper to activate the 12k pull up resistor is located. Regardless of the kind of probe you are using, you will need to enable the internal pulldown resistor on the probe input pin in order for it to generate an output signal. Please refer to the pin configuration instructions for the specific firmware that you are using to find out how to enable a pull down resistor on the probe input pin (PC5). Refer to Section 4.2 for further information on how to configure the voltage used by the probe port.","title":"PROBE PORT WIRING"},{"location":"Octopus%20Pro.html#stepper-driver-operational-modes","text":"","title":"STEPPER DRIVER OPERATIONAL MODES"},{"location":"Octopus%20Pro.html#stepdir-mode","text":"If you are using drivers that do not support configuration over a serial port then you will need to operate them in step/dir mode and set the jumpers beneath the stepper driver according to the microstepping you desire. Each driver will have its own microstepping table so we do not attempt to speak on behalf of the driver manufacturer in our manual. Please consult the datasheet of your driver to determine what signals need to be applied to the microstepping configuration pins in order to achieve the microstepping you desire. Nevertheless, below you will see a figure which will help you to identify which jumpers correspond to the pins that your drivers will use to configure microstepping and we have additionally included a section in appendix A1 which contains the microstepping tables for some of the most common drivers. This should be viewed as a convenience to the user and we still recommend that you consult the datasheet of your driver manufacturer. In the above image the red rectangle isolates the groups of driver pins. For the purpose of running the drivers in step/dir mode the pinout can be described as per the table below. Note that this is not the actual pinout but rather a simplification for step/dir mode. Connecting jumpers between the lower two rows will set the middle pin (MS) to 5V except for the jumpers in the first column where it will connect SLP and RST. Note that if your stepper driver requires 0V to be present on any of the pins then there is actually no need to connect a jumper to that pin when running in step/dir mode and connecting a jumper in this instance could cause interference since those lines are used for the SPI bus. Note that if you use an A4988 or a DRV8825 driver, you must connect RST and SLP. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html","title":"STEP/DIR MODE"},{"location":"Octopus%20Pro.html#uart-mode","text":"When using a driver in UART mode, connect the jumpers beneath that driver as show in the image below.","title":"UART MODE"},{"location":"Octopus%20Pro.html#spi-mode","text":"When using a driver in SPI mode, connect the jumpers beneath that driver as shown in the image below.","title":"SPI MODE"},{"location":"Octopus%20Pro.html#motherboard-jumper-settings","text":"","title":"MOTHERBOARD JUMPER SETTINGS"},{"location":"Octopus%20Pro.html#motor-power-selection-jumpers","text":"Each motor driver on the octopus pro can have the voltage used by it configured via a jumper. Note: Before powering your octopus pro, always double check the driver voltage jumpers to ensure that the correct voltage is being routed to each driver. Sending a high voltage to a driver that is not rated for it is likely to destroy it and may even cause damage to the motherboard. Setting the jumper for any given driver to the right, as shown in the image below, will provide the motherboard input voltage for that driver to use. Generally the motherboard uses 24V. Setting the jumper for any given driver to the left, as shown in the image below, will provide the motor input voltage for that driver to use. This can be up to 60V. Note: Never remove or insert a jumper when power is applied to either the board input or the motor input.","title":"MOTOR POWER SELECTION JUMPERS"},{"location":"Octopus%20Pro.html#fan-and-proximity-switch-voltage-settings","text":"The Octopus features 6 PWM fan outputs and two \u201calways on\u201d fan outputs. There is also a dedicated pin header for a proximity sensor or probe. All of the fan outputs and the proximity sensor input can individually have the voltage supplied by their pin header selected by configuring the jumpers associated with each header. Configure the jumpers as below to select 24V (note that all are shown in the same configuration even though they can be individually configured). Configure the jumpers as below to select 12V. Configure the jumpers as below for 5V. Note: Since the jumpers carry a voltage rail directly from one of the regulators or from the input, if you short the jumpers in any way other than the shown connections, you will likely cause damage to the motherboard. When connecting the fan, make sure that you connect the positive terminal to the positive output as shown in the images.","title":"FAN AND PROXIMITY SWITCH VOLTAGE SETTINGS"},{"location":"Octopus%20Pro.html#stallguard-jumper-settings","text":"The \u201cdiag\u201d jumpers which are used to connect the diagnostic output pin to the endstop inputs for drivers which support the stallguard feature (TMC2209/TMC2226, etc\u2026) can be found in the location shown in the image below. The exact diag numbering can be found by looking at the pins file or the silkscreen beneath the board.","title":"STALLGUARD JUMPER SETTINGS"},{"location":"Octopus%20Pro.html#pt100pt1000-dip-switches","text":"The PT100 amplifier supports 2,3 and 4 wire connections to the board. However, the DIP switch needs to be configured for the setup that you are using. You can find the DIP switch in the location shown in the image below. Note that the DIP switch has switch numbers and the \u201con\u201d position printed on it. Select the connection arrangement for your thermistor according to the table below. Bear in mind that you will still need to configure your firmware using the correct sense resistor values which will be 430\uf057 for the PT100 and 4300\uf057 for the PT1000. 1 2 3 4 Sensor model ON ON ON OFF Two-wire PT100 ON ON OFF ON Two-wire PT1000 OFF ON ON OFF Three-wire PT100 OFF ON OFF ON Three-wire PT1000 If you are using a three-wire arrangement, then you will also need to make a small adjustment to an SMD resistor on the board. The image below shows the factory default resistor setting in the blue box (2/4 wire arrangement). Using a 3 wire arrangement will require you to move the resistor from the blue box into the red box and then to leave the pads in the blue box unpopulated. These resistors are 0\uf057 so if you do not feel comfortable soldering them back in place you can always just create a solder bridge between the pads instead, selecting the pads appropriate to your arrangement.","title":"PT100/PT1000 DIP SWITCHES"},{"location":"Octopus%20Pro.html#software-installation","text":"","title":"Software Installation"},{"location":"Octopus%20Pro.html#communicating-with-the-motherboard","text":"After connecting the motherboard to a computer via a USB cable, the driver will be automatically installed (windows, linux and macos). Upon installation of the driver the motherboard should automatically enumerate as a virtual serial device which can be used for data transfer. If it fails to do so, you can visit our GitHub website: https://github.com/bigtreetech?tab=repositories and find the corresponding repository to download the driver. If you would like to confirm that the driver has been installed correctly you can access the device manager in windows and look for a virtual com port when the motherboard is plugged in. In the image below the motherboard has been assigned COM7 however your operating system may assign it any available COM port number. Other operating systems will list serial ports in a different manner.","title":"COMMUNICATING WITH THE MOTHERBOARD"},{"location":"Octopus%20Pro.html#motherboard-firmware-support","text":"Marlin, Klipper and RRF (429 variant) all support the Octopus Pro. You can compile and configure you firmware variant of choice according to the methods specified by the developers of that firmware. In time, configuration files for different firmware distributions will be made available on the octopus-pro github . Covering how to compile firmware using VSCode is beyond the scope of this manual however there is an abundance of information online which explains how to set up VSCode on your machine and how to configure Marlin thereafter. Good places to start are provided for your convenience in the links below: \u2022 https://marlinfw.org/docs/basics/install_platformio_vscode.html \u2022 https://www.youtube.com/watch?v=eq_ygvHF29I Once you have either compiled your own version of Marlin or downloaded a pre-compiled version, you can install it by following the steps below: Make sure that the firmware binary is named \u201cfirmware.bin\u201d. Any other name will be rejected by the bootloader. Use an SD card that has been formatted using the SD formatter tool here: https://www.sdcard.org/downloads/formatter/ Copy the firmware binary file to the SD card. Insert the SD card into the motherboard and reset it. Remove the SD card and check that the file has changed name to \u201cFIRMWARE.CUR\u201d. This will confirm that the firmware was successfully installed. If you are using Klipper then please ensure that you have the following settings enabled for the 446 variant. Take careful note of the crystal oscillator frequency which is 12MHz and differs from the 429 variant. The 429 variant of the board makes use of a different frequency crystal oscillator (8MHz) and therefore the klipper configuration needs to be adjusted slightly as show in in the image below.","title":"MOTHERBOARD FIRMWARE SUPPORT"},{"location":"Octopus%20Pro.html#precautions","text":"The precautions listed in this section should not be overlooked. They have been included as reminders to prevent damage to your motherboard. Never work on the motherboard with power applied. Always double check all jumpers and wiring before applying power. Improper jumpers or wiring can cause damage to the motherboard and possibly even peripherals that it interfaces with. The motherboard can power heated beds up to 300W. If you are using a bed that operates at a higher power then you will need to use an external MOSFET. Do not connect a voltage source greater than 28V to this input. Never short circuit the 3.3V, 5V, 12V or 24V supplies to each other. Doing so will let out some smoke and BTT will not be able to put it back for you. You cannot power external devices using the USB-C interface. It is designed for data only. Always consult the PIN.pdf diagram when making jumper connections or wiring changes. Assuming a connection order may result in damage to the motherboard. It is recommended to update the firmware using SD card. Using DFU (direct programming via the USB port) will overwrite the bootloader meaning that you will no longer have the option to update via SD card unless you reflash the bootloader.","title":"PRECAUTIONS"},{"location":"Octopus.html","text":"Octopus \u00b6 Introduction \u00b6 The BIGTREETECH Octopus V1.0 is a powerful and feature rich, 3D printer motherboard that supports up to 8 stepper drivers with 9 stepper driver outputs in total. It is designed and manufactured by the 3D printing team of Shenzhen Bigtree Technology Co.,Ltd Main Features \u00b6 Uses a 32-bit ARM Cortex-M4 series STM32F446ZET6 main control chip with a core frequency of 180MHz. Supports running Klipper and Marlin. Interfaces with a Raspberry Pi using emulated serial over USB or direct UART to any of the serial ports on the board. Supports up to 4 hotend heaters. Provides separate power inputs for motors, bed heating and logic/fans/hotends. Supports 12V or 24V supply inputs (12V only supported on motor and bed. Logic must be > 14.1V) with built in 12V (4A), 5V (8A) and 3.3V (1A) regulators to provide rails for peripheral use. Up to 6 PWM fans and 2 always-on fans with the ability to individually select the voltage rail that will drive each fan. Select from Vin, 12V or 5V. Flyback protection on PWM fan ports \u2013 Many people find that their fan ports become damaged after some time when using larger fans. This is because of the inductance in the fan coils. The octopus includes flyback protection on each fan port which will protect the FETs from damage caused by turning the fans on and off. Includes USB-C interface which supports an emulated serial port that allows printing via USB. Supports all versions of BIGTREETECH TFT screens and LCD12864 screens. Supports multiple languages such as English and Simplified Chinese and can easily switch between different languages (when using the BTT TFT). Includes a bootloader that allows firmware upgrades via the SD card. This offers a simple, efficient, and convenient way to update the firmware. Uses high-performance MOSFETs to increase heating efficiency while also reducing heat generation on the motherboard. Uses easily replaceable fuses Supports \u201cprint from SD card\u201d and \u201cprint via USB OTG\u201d using the integrated USB-A port. Provides two stepper outputs, connected in parallel, to the Z driver allowing for a parallel, dual Z axis drive. Supports firmware update via DFU mode. This is where the firmware is sent to the board directly from the PC and does not require a bootloader however this method is not recommended for novice users as discussed later in this document. Includes an onboard, 32K EEPROM (AT24C32). Provides an RGB LED interface. Provides a WiFi interface for ESP8266 based modules. Provides a DIY PT100 interface. In order to enable the interface a user would need to purchase an INA826AIDR amplifier in the SPO 8 package separately and solder it in place on the board. The connector and passive circuitry are already provided. All that is required is the amplifier IC. Thermistor input protection. This allows you to short a thermistor input directly to a voltage source (not that this makes it a good habit to pick up) up to Vin without causing damage to the motherboard. Allows unused thermistor inputs to be used as general purpose inputs by providing an input pin for each that bypasses the protection circuit. Supports BL Touch and various other ABL sensors. Provides a dedicated \u201cPROBE\u201d port for bed probes. This port is internally protected via an optocoupler which means that you don\u2019t need to use a BAT85 diode. Supports CAN BUS using a 6P6C RJ11 interface, which offers the board the ability to interface with future expansion modules. Supports StallGuard for sensorless homing with TMC drivers Provides an SPI expansion port which can connect the SPI-based expansion modules such as MAX31865 module. Supports the shutdown after printing function. Supports the power loss print resume function Includes inputs for up to 6 endstop switches and 2 filament runout interfaces. Provides an I2C expansion port for peripherals that communicate using that protocol. Basic Parameters \u00b6 Edge to edge size: 160*100mm Mounting hole to hole size: 150*90mm Microprocessor: ARM 32-bit Cortex\u2122-M4 CPU: STM32F446ZET6 Recommended input voltage: DC24V Motor drivers: Pluggable drivers supporting all popular driver types. Motor driver sockets: MOTOR0, MOTOR1, MOTOR2_1, MOTOR2_2, MOTOR3, MOTOR4, MOTOR5, MOTOR6, MOTOR7 Temperature sensor interfaces: TB, T0, T1, T2, T3 (With direct inputs available that bypass the protection circuit for alternate use). Display interfaces: BIGTREETECH TFT touch screen, LCD12864, LCD2004, etc. PC communication interfaces: USB Type-C with configurable BAUD. Expansion interfaces: Filament runout, power loss detection, automatic power down, BL Touch and many others. Supported print file format: G-code Recommended slicing/interface software: Cura, IdeaMaker, Simplify3D, Prusa Slicer, Pronterface, Repetier-host, Makerware, etc\u2026 Dimensions \u00b6 Interface Diagram \u00b6 PinOut \u00b6 The image below is a snippet taken from the PINS.pdf document. For better viewability please consult the PINS.pdf document. Hardware Configuration \u00b6 POWER WIRING \u00b6 The octopus provides three separate power inputs: motherboard power, motor power, and bed heater power. This allows a user to use several power supplies with common grounds in order to ensure that they are able to provide the required power to each part of their system. The motherboard power is regulated using a number of switch-mode and low dropout power supplies to provide the supply rails of 12V, 5V and 3.3V. The 12V, 5V and 3.3V rails are made available via various pins on the motherboard. Consult the PINS.pdf document to find a breakout header if you plan to use one of these supply rails. Take note that the 12V rail can supply up to 4A, the 5V up to 8A and the 3.3V up to 1A however, in order to prevent overloading the rails it is not recommended to load them to their maximum capacity since there are already various components on the motherboard which also take their supply from them. Power wiring is as shown below (look on the underside of your board to identify the purpose of each input). The positive (red) wire from the power supply goes to the terminal marked +. The negative (black) wire from the power supply goes to the terminal marked -. The polarity (+ and -) is also silk screened onto the underside of the board as a convenience to the user. Note: DO NOT alter the board wiring with the power on and be sure to get the polarity correct, otherwise you can cause damage to the motherboard. MCU POWER JUMPER \u00b6 The Octopus can be powered using the USB-C port by inserting the jumper as shown below. This can make it easier to compile and download firmware directly to the motherboard using DFU mode. If you do not connect this jumper then you must provide the board with power via the main input supply if you would like to communicate via USB-C Hardware Installation \u00b6 AUTOMATIC POWER DOWN WIRING \u00b6 When using the BIGTREETECH Relay V1.2 module, the wiring can be performed as shown in the figure below. Note: Since power will still be supplied to the Relay 1.2 module after it has cut power to the motherboard, it is extremely dangerous to touch the Relay 1.2 module while the printer is still connected to mains. Always remove all mains power when working on this wiring. BL TOUCH WIRING \u00b6 When using a BL Touch, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied. POWER LOSS RECOVERY MODULE WIRING \u00b6 When using the BIGTREETECH mini UPS, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied. RGB LED WIRING \u00b6 When using the motherboard with RGB LEDs you should wire them as shown in the image below. The exact pinout of the connector can be found on the silkscreen on the underside of the motherboard. RASPBERRY PI WIRING \u00b6 Note: The 3.3V and GND pins for the SPI3 port were erroneously swapped on the silkscreen on the underside of some early boards. To be sure of the exact pinout please reference the PIN.pdf document for the SPI3 port. The motherboard supports a connection to a Raspberry Pi for printing. There are several connection options available to connect to a raspberry pi. Simplest of all is to connect the raspberry pi directly to the USB-C port which will emulate a virtual serial port on the pi. However, if you have another need for the USB-C port you are still able to connect the raspberry pi to the motherboard using a direct serial connection over UART or SPI. Dedicated UART and SPI pin headers have been made available on the motherboard for this purpose with the pin mappings conveniently printed in silkscreen on the underside of the board for each. It is beyond the scope of this manual to detail exactly how to connect the raspberry pi to either of these headers however there is an abundance of material online that explains how to interface a raspberry pi to an external device over either of these serial busses. 5V power for the raspberry pi is provided via the dedicated Raspberry pi header. Consult the PINS.pdf document for the exact pinout of this header. PROBE PORT WIRING \u00b6 The probe port has been provided to allow users to interface bed probes directly to the motherboard without the need for a BAT85 diode to act as a protection against high voltages. The probe signal pin connects to an internal optocoupler that in turn triggers the pin connected to the microcontroller. Depending on the type of probe you are using, you may need to add an external 4k7 pull up resistor between the probe positive voltage rail and the probe signal pin in order to get a reading. This will be the case if you are using an \u201cNPN\u201d style probe where the output pulls to ground when it is active. You can tell this by checking the output of your probe using a multimeter. If it floats when it is not active (with nothing else connected to it) and then goes to ground when it is active, it is an NPN style probe. If it goes to the positive rail when active then it is a PNP style probe. The image below shows how to connect the external 4k7 resistor when using an NPN probe. Regardless of the kind of probe you are using, you will need to enable the internal pulldown resistor on the probe input pin in order for it to generate an output signal. Please refer to the pin configuration instructions for the specific firmware that you are using to find out how to enable a pull down resistor on the probe input pin. STEPPER DRIVER OPERATIONAL MODES \u00b6 Note: The octopus packs a ton of features which means there are many connectors and components. In order to keep the board size to a minimum we placed the stepper sockets close to each other. This means that drivers will have a snug fit. STEP/DIR MODE \u00b6 If you are using drivers that do not support configuration over a serial port then you will need to operate them in step/dir mode and set the jumpers beneath the stepper driver according to the microstepping you desire. Each driver will have its own microstepping table so we do not attempt to speak on behalf of the driver manufacturer in our guide. Please consult the datasheet of your driver to determine what signals need to be applied to the microstepping configuration pins in order to achieve the microstepping you desire. Nevertheless, below you will see a figure which will help you to identify which jumpers correspond to the pins that your drivers will use to configure microstepping and we have additionally included a section in appendix A1 which contains the microstepping tables for some of the most common drivers. This should be viewed as a convenience to the user and we still recommend that you consult the datasheet of your driver manufacturer. In the above image the red rectangle isolates one group of driver pins. For the purpose of running the drivers in step/dir mode the pinout can be described as per the table below (note that this is not the actual pinout but rather a simplification for step/dir mode). Connecting jumpers between the upper two rows will set the middle pin (MS) to 0V. Connecting jumpers between the lower two rows will set the middle pin (MS) to 3.3V except for the jumpers in the first column where it will connect SLP and RST. Note that if you are using drivers in step/dir mode that use a microstepping factor other than 16 then you cannot use any other drivers in SPI mode since the pins that are required to set the microstepping to anything other than 16 are also shared with SPI. Note that if you use an A4988 or a DRV8825 driver, you must connect RST and SLP. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html UART MODE \u00b6 When using a driver in UART mode, connect the jumpers beneath that driver as show in the image below. SPI MODE \u00b6 When using a driver in SPI mode, connect the jumpers beneath that driver as shown in the image below. MOTHERBOARD JUMPER SETTINGS \u00b6 FAN AND PROXIMITY SWITCH SETTINGS \u00b6 The Octopus features 6 PWM fan outputs and two \u201calways on\u201d fan outputs. There is also a dedicated pin header for a proximity sensor. These headers are shown in the image below. Note: The polarity of the fan ports was erroneously swapped on the silkscreen on the underside of some early boards. To be sure of the correct polarity, please consult the PINS.pdf document or see the images below. All of the fan outputs and the proximity sensor input can individually have the voltage supplied by their pin header selected by configuring the jumpers associated with each header. Configure the jumpers as below to select 12V. Configure the jumpers as below for 5V. Note: Since the jumpers carry a voltage rail directly from one of the regulators or from the input, if you short the jumpers in any way other than the shown connections, you will likely cause damage to the motherboard. When connecting the fan, make sure that you connect the positive terminal to the positive output as shown in the images. STALLGUARD JUMPER SETTINGS \u00b6 The \u201cdiag\u201d jumpers which are used to connect the diagnostic output pin to the endstop inputs for drivers which support the stallguard feature (TMC2209/TMC2226) can be found in the location shown in the image below. The exact diag numbering can be found by looking at the pins file or the silkscreen beneath the board. SPECIAL NOTE ON EXPANSION INTERFACES \u00b6 Expansion interfaces are provided for SPI, UART and I2C. In the very first production run of the Octopus the silkscreen on the underside of the PCB had two pins that were mislabeled on the SPI3 interface and two on the Raspberry Pi UART interface. To be sure that you are connecting your peripheral correctly, please refer to the PINS.pdf document if using the SPI or UART interface. Software Installation \u00b6 COMMUNICATING WITH THE MOTHERBOARD \u00b6 After connecting the motherboard to a computer via a USB cable, the driver will be automatically installed (windows, linux and macos). Upon installation of the driver the motherboard should automatically enumerate as a virtual serial device which can be used for data transfer. If it fails to do so, you can visit our GitHub website: https://github.com/bigtreetech?tab=repositories and find the corresponding repository to download the driver. If you would like to confirm that the driver has been installed correctly you can access the device manager in windows and look for a virtual com port when the motherboard is plugged in. In the image below the motherboard has been assigned COM7 however your operating system may assign it any available COM port number. Other operating systems will list serial ports in a different manner. MOTHERBOARD FIRMWARE SUPPORT \u00b6 You can find a pre-compiled version of Marlin for the Octopus by visiting https://github.com/bigtreetech?tab=repositories and looking for the Octopus repository. Alternately you can compile your own version using VScode. Covering how to compile firmware using VSCode is beyond the scope of this manual however there is an abundance of information online which explains how to set up VSCode on your machine and how to configure Marlin thereafter. Good places to start are provided for your convenience in the links below: \u2022 https://marlinfw.org/docs/basics/install_platformio_vscode.html \u2022 https://www.youtube.com/watch?v=eq_ygvHF29I Once you have either compiled your own version of Marlin or downloaded a pre-compiled version, you can install it by following the steps below: Make sure that the firmware binary is named \u201cfirmware.bin\u201d. Any other name will be rejected by the bootloader. Use an SD card that has been formatted using the SD formatter tool here: https://www.sdcard.org/downloads/formatter/ Copy the firmware binary file to the SD card. Insert the SD card into the motherboard and reset it. Remove the SD card and check that the file has changed name to \u201cFIRMWARE.CUR\u201d. This will confirm that the firmware was successfully installed. If you are using Klipper then please ensure that you have the following settings enabled in order to download the firmware to the board while preserving the factory bootloader: PRECAUTIONS \u00b6 The precautions listed in this section should not be overlooked. They have been included as reminders to prevent damage to your motherboard. Never work on the motherboard with power applied. Always double check all jumpers and wiring before applying power. Improper jumpers or wiring can cause damage to the motherboard and possibly even peripherals that it interfaces with. The motherboard can power heated beds up to 300W. If you are using a bed that operates at a higher power then you will need to use an external MOSFET. Always consult the PIN.pdf diagram when making jumper connections or wiring changes. Assuming a connection order may result in damage to the motherboard. It is recommended to update the firmware using SD card. Using DFU (direct programming via the USB port) will overwrite the bootloader meaning that you will no longer have the option to update via SD card. The stock Octopus does not come with a INA826AIDR amplifier chip. If you want to use the PT100 interface, you need to purchase a INA826AIDR chip (SOP-8 Package) separately and solder the chip into the correct position as shown below. The silkscreen on the first production run of the octopus had incorrectly labeled pins on the connectors listed below. To be sure that you are wiring on the correct pins please use the PINS.pdf document when using any of these connectors. The silkscreen has been corrected and all subsequent Octopus boards will reflect the correct mapping. a. Fans b. SPI3 c. Raspberry pi UART.","title":"Octopus"},{"location":"Octopus.html#octopus","text":"","title":"Octopus"},{"location":"Octopus.html#introduction","text":"The BIGTREETECH Octopus V1.0 is a powerful and feature rich, 3D printer motherboard that supports up to 8 stepper drivers with 9 stepper driver outputs in total. It is designed and manufactured by the 3D printing team of Shenzhen Bigtree Technology Co.,Ltd","title":"Introduction"},{"location":"Octopus.html#main-features","text":"Uses a 32-bit ARM Cortex-M4 series STM32F446ZET6 main control chip with a core frequency of 180MHz. Supports running Klipper and Marlin. Interfaces with a Raspberry Pi using emulated serial over USB or direct UART to any of the serial ports on the board. Supports up to 4 hotend heaters. Provides separate power inputs for motors, bed heating and logic/fans/hotends. Supports 12V or 24V supply inputs (12V only supported on motor and bed. Logic must be > 14.1V) with built in 12V (4A), 5V (8A) and 3.3V (1A) regulators to provide rails for peripheral use. Up to 6 PWM fans and 2 always-on fans with the ability to individually select the voltage rail that will drive each fan. Select from Vin, 12V or 5V. Flyback protection on PWM fan ports \u2013 Many people find that their fan ports become damaged after some time when using larger fans. This is because of the inductance in the fan coils. The octopus includes flyback protection on each fan port which will protect the FETs from damage caused by turning the fans on and off. Includes USB-C interface which supports an emulated serial port that allows printing via USB. Supports all versions of BIGTREETECH TFT screens and LCD12864 screens. Supports multiple languages such as English and Simplified Chinese and can easily switch between different languages (when using the BTT TFT). Includes a bootloader that allows firmware upgrades via the SD card. This offers a simple, efficient, and convenient way to update the firmware. Uses high-performance MOSFETs to increase heating efficiency while also reducing heat generation on the motherboard. Uses easily replaceable fuses Supports \u201cprint from SD card\u201d and \u201cprint via USB OTG\u201d using the integrated USB-A port. Provides two stepper outputs, connected in parallel, to the Z driver allowing for a parallel, dual Z axis drive. Supports firmware update via DFU mode. This is where the firmware is sent to the board directly from the PC and does not require a bootloader however this method is not recommended for novice users as discussed later in this document. Includes an onboard, 32K EEPROM (AT24C32). Provides an RGB LED interface. Provides a WiFi interface for ESP8266 based modules. Provides a DIY PT100 interface. In order to enable the interface a user would need to purchase an INA826AIDR amplifier in the SPO 8 package separately and solder it in place on the board. The connector and passive circuitry are already provided. All that is required is the amplifier IC. Thermistor input protection. This allows you to short a thermistor input directly to a voltage source (not that this makes it a good habit to pick up) up to Vin without causing damage to the motherboard. Allows unused thermistor inputs to be used as general purpose inputs by providing an input pin for each that bypasses the protection circuit. Supports BL Touch and various other ABL sensors. Provides a dedicated \u201cPROBE\u201d port for bed probes. This port is internally protected via an optocoupler which means that you don\u2019t need to use a BAT85 diode. Supports CAN BUS using a 6P6C RJ11 interface, which offers the board the ability to interface with future expansion modules. Supports StallGuard for sensorless homing with TMC drivers Provides an SPI expansion port which can connect the SPI-based expansion modules such as MAX31865 module. Supports the shutdown after printing function. Supports the power loss print resume function Includes inputs for up to 6 endstop switches and 2 filament runout interfaces. Provides an I2C expansion port for peripherals that communicate using that protocol.","title":"Main Features"},{"location":"Octopus.html#basic-parameters","text":"Edge to edge size: 160*100mm Mounting hole to hole size: 150*90mm Microprocessor: ARM 32-bit Cortex\u2122-M4 CPU: STM32F446ZET6 Recommended input voltage: DC24V Motor drivers: Pluggable drivers supporting all popular driver types. Motor driver sockets: MOTOR0, MOTOR1, MOTOR2_1, MOTOR2_2, MOTOR3, MOTOR4, MOTOR5, MOTOR6, MOTOR7 Temperature sensor interfaces: TB, T0, T1, T2, T3 (With direct inputs available that bypass the protection circuit for alternate use). Display interfaces: BIGTREETECH TFT touch screen, LCD12864, LCD2004, etc. PC communication interfaces: USB Type-C with configurable BAUD. Expansion interfaces: Filament runout, power loss detection, automatic power down, BL Touch and many others. Supported print file format: G-code Recommended slicing/interface software: Cura, IdeaMaker, Simplify3D, Prusa Slicer, Pronterface, Repetier-host, Makerware, etc\u2026","title":"Basic Parameters"},{"location":"Octopus.html#dimensions","text":"","title":"Dimensions"},{"location":"Octopus.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"Octopus.html#pinout","text":"The image below is a snippet taken from the PINS.pdf document. For better viewability please consult the PINS.pdf document.","title":"PinOut"},{"location":"Octopus.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"Octopus.html#power-wiring","text":"The octopus provides three separate power inputs: motherboard power, motor power, and bed heater power. This allows a user to use several power supplies with common grounds in order to ensure that they are able to provide the required power to each part of their system. The motherboard power is regulated using a number of switch-mode and low dropout power supplies to provide the supply rails of 12V, 5V and 3.3V. The 12V, 5V and 3.3V rails are made available via various pins on the motherboard. Consult the PINS.pdf document to find a breakout header if you plan to use one of these supply rails. Take note that the 12V rail can supply up to 4A, the 5V up to 8A and the 3.3V up to 1A however, in order to prevent overloading the rails it is not recommended to load them to their maximum capacity since there are already various components on the motherboard which also take their supply from them. Power wiring is as shown below (look on the underside of your board to identify the purpose of each input). The positive (red) wire from the power supply goes to the terminal marked +. The negative (black) wire from the power supply goes to the terminal marked -. The polarity (+ and -) is also silk screened onto the underside of the board as a convenience to the user. Note: DO NOT alter the board wiring with the power on and be sure to get the polarity correct, otherwise you can cause damage to the motherboard.","title":"POWER WIRING"},{"location":"Octopus.html#mcu-power-jumper","text":"The Octopus can be powered using the USB-C port by inserting the jumper as shown below. This can make it easier to compile and download firmware directly to the motherboard using DFU mode. If you do not connect this jumper then you must provide the board with power via the main input supply if you would like to communicate via USB-C","title":"MCU POWER JUMPER"},{"location":"Octopus.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"Octopus.html#automatic-power-down-wiring","text":"When using the BIGTREETECH Relay V1.2 module, the wiring can be performed as shown in the figure below. Note: Since power will still be supplied to the Relay 1.2 module after it has cut power to the motherboard, it is extremely dangerous to touch the Relay 1.2 module while the printer is still connected to mains. Always remove all mains power when working on this wiring.","title":"AUTOMATIC POWER DOWN WIRING"},{"location":"Octopus.html#bl-touch-wiring","text":"When using a BL Touch, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied.","title":"BL TOUCH WIRING"},{"location":"Octopus.html#power-loss-recovery-module-wiring","text":"When using the BIGTREETECH mini UPS, wire it to the motherboard as shown in the figure below. As always, never perform any work on the motherboard with power applied.","title":"POWER LOSS RECOVERY MODULE WIRING"},{"location":"Octopus.html#rgb-led-wiring","text":"When using the motherboard with RGB LEDs you should wire them as shown in the image below. The exact pinout of the connector can be found on the silkscreen on the underside of the motherboard.","title":"RGB LED WIRING"},{"location":"Octopus.html#raspberry-pi-wiring","text":"Note: The 3.3V and GND pins for the SPI3 port were erroneously swapped on the silkscreen on the underside of some early boards. To be sure of the exact pinout please reference the PIN.pdf document for the SPI3 port. The motherboard supports a connection to a Raspberry Pi for printing. There are several connection options available to connect to a raspberry pi. Simplest of all is to connect the raspberry pi directly to the USB-C port which will emulate a virtual serial port on the pi. However, if you have another need for the USB-C port you are still able to connect the raspberry pi to the motherboard using a direct serial connection over UART or SPI. Dedicated UART and SPI pin headers have been made available on the motherboard for this purpose with the pin mappings conveniently printed in silkscreen on the underside of the board for each. It is beyond the scope of this manual to detail exactly how to connect the raspberry pi to either of these headers however there is an abundance of material online that explains how to interface a raspberry pi to an external device over either of these serial busses. 5V power for the raspberry pi is provided via the dedicated Raspberry pi header. Consult the PINS.pdf document for the exact pinout of this header.","title":"RASPBERRY PI WIRING"},{"location":"Octopus.html#probe-port-wiring","text":"The probe port has been provided to allow users to interface bed probes directly to the motherboard without the need for a BAT85 diode to act as a protection against high voltages. The probe signal pin connects to an internal optocoupler that in turn triggers the pin connected to the microcontroller. Depending on the type of probe you are using, you may need to add an external 4k7 pull up resistor between the probe positive voltage rail and the probe signal pin in order to get a reading. This will be the case if you are using an \u201cNPN\u201d style probe where the output pulls to ground when it is active. You can tell this by checking the output of your probe using a multimeter. If it floats when it is not active (with nothing else connected to it) and then goes to ground when it is active, it is an NPN style probe. If it goes to the positive rail when active then it is a PNP style probe. The image below shows how to connect the external 4k7 resistor when using an NPN probe. Regardless of the kind of probe you are using, you will need to enable the internal pulldown resistor on the probe input pin in order for it to generate an output signal. Please refer to the pin configuration instructions for the specific firmware that you are using to find out how to enable a pull down resistor on the probe input pin.","title":"PROBE PORT WIRING"},{"location":"Octopus.html#stepper-driver-operational-modes","text":"Note: The octopus packs a ton of features which means there are many connectors and components. In order to keep the board size to a minimum we placed the stepper sockets close to each other. This means that drivers will have a snug fit.","title":"STEPPER DRIVER OPERATIONAL MODES"},{"location":"Octopus.html#stepdir-mode","text":"If you are using drivers that do not support configuration over a serial port then you will need to operate them in step/dir mode and set the jumpers beneath the stepper driver according to the microstepping you desire. Each driver will have its own microstepping table so we do not attempt to speak on behalf of the driver manufacturer in our guide. Please consult the datasheet of your driver to determine what signals need to be applied to the microstepping configuration pins in order to achieve the microstepping you desire. Nevertheless, below you will see a figure which will help you to identify which jumpers correspond to the pins that your drivers will use to configure microstepping and we have additionally included a section in appendix A1 which contains the microstepping tables for some of the most common drivers. This should be viewed as a convenience to the user and we still recommend that you consult the datasheet of your driver manufacturer. In the above image the red rectangle isolates one group of driver pins. For the purpose of running the drivers in step/dir mode the pinout can be described as per the table below (note that this is not the actual pinout but rather a simplification for step/dir mode). Connecting jumpers between the upper two rows will set the middle pin (MS) to 0V. Connecting jumpers between the lower two rows will set the middle pin (MS) to 3.3V except for the jumpers in the first column where it will connect SLP and RST. Note that if you are using drivers in step/dir mode that use a microstepping factor other than 16 then you cannot use any other drivers in SPI mode since the pins that are required to set the microstepping to anything other than 16 are also shared with SPI. Note that if you use an A4988 or a DRV8825 driver, you must connect RST and SLP. For details, please click: https://z1996xm.github.io/BIGTREETECH/Tutorials.html","title":"STEP/DIR MODE"},{"location":"Octopus.html#uart-mode","text":"When using a driver in UART mode, connect the jumpers beneath that driver as show in the image below.","title":"UART MODE"},{"location":"Octopus.html#spi-mode","text":"When using a driver in SPI mode, connect the jumpers beneath that driver as shown in the image below.","title":"SPI MODE"},{"location":"Octopus.html#motherboard-jumper-settings","text":"","title":"MOTHERBOARD JUMPER SETTINGS"},{"location":"Octopus.html#fan-and-proximity-switch-settings","text":"The Octopus features 6 PWM fan outputs and two \u201calways on\u201d fan outputs. There is also a dedicated pin header for a proximity sensor. These headers are shown in the image below. Note: The polarity of the fan ports was erroneously swapped on the silkscreen on the underside of some early boards. To be sure of the correct polarity, please consult the PINS.pdf document or see the images below. All of the fan outputs and the proximity sensor input can individually have the voltage supplied by their pin header selected by configuring the jumpers associated with each header. Configure the jumpers as below to select 12V. Configure the jumpers as below for 5V. Note: Since the jumpers carry a voltage rail directly from one of the regulators or from the input, if you short the jumpers in any way other than the shown connections, you will likely cause damage to the motherboard. When connecting the fan, make sure that you connect the positive terminal to the positive output as shown in the images.","title":"FAN AND PROXIMITY SWITCH SETTINGS"},{"location":"Octopus.html#stallguard-jumper-settings","text":"The \u201cdiag\u201d jumpers which are used to connect the diagnostic output pin to the endstop inputs for drivers which support the stallguard feature (TMC2209/TMC2226) can be found in the location shown in the image below. The exact diag numbering can be found by looking at the pins file or the silkscreen beneath the board.","title":"STALLGUARD JUMPER SETTINGS"},{"location":"Octopus.html#special-note-on-expansion-interfaces","text":"Expansion interfaces are provided for SPI, UART and I2C. In the very first production run of the Octopus the silkscreen on the underside of the PCB had two pins that were mislabeled on the SPI3 interface and two on the Raspberry Pi UART interface. To be sure that you are connecting your peripheral correctly, please refer to the PINS.pdf document if using the SPI or UART interface.","title":"SPECIAL NOTE ON EXPANSION INTERFACES"},{"location":"Octopus.html#software-installation","text":"","title":"Software Installation"},{"location":"Octopus.html#communicating-with-the-motherboard","text":"After connecting the motherboard to a computer via a USB cable, the driver will be automatically installed (windows, linux and macos). Upon installation of the driver the motherboard should automatically enumerate as a virtual serial device which can be used for data transfer. If it fails to do so, you can visit our GitHub website: https://github.com/bigtreetech?tab=repositories and find the corresponding repository to download the driver. If you would like to confirm that the driver has been installed correctly you can access the device manager in windows and look for a virtual com port when the motherboard is plugged in. In the image below the motherboard has been assigned COM7 however your operating system may assign it any available COM port number. Other operating systems will list serial ports in a different manner.","title":"COMMUNICATING WITH THE MOTHERBOARD"},{"location":"Octopus.html#motherboard-firmware-support","text":"You can find a pre-compiled version of Marlin for the Octopus by visiting https://github.com/bigtreetech?tab=repositories and looking for the Octopus repository. Alternately you can compile your own version using VScode. Covering how to compile firmware using VSCode is beyond the scope of this manual however there is an abundance of information online which explains how to set up VSCode on your machine and how to configure Marlin thereafter. Good places to start are provided for your convenience in the links below: \u2022 https://marlinfw.org/docs/basics/install_platformio_vscode.html \u2022 https://www.youtube.com/watch?v=eq_ygvHF29I Once you have either compiled your own version of Marlin or downloaded a pre-compiled version, you can install it by following the steps below: Make sure that the firmware binary is named \u201cfirmware.bin\u201d. Any other name will be rejected by the bootloader. Use an SD card that has been formatted using the SD formatter tool here: https://www.sdcard.org/downloads/formatter/ Copy the firmware binary file to the SD card. Insert the SD card into the motherboard and reset it. Remove the SD card and check that the file has changed name to \u201cFIRMWARE.CUR\u201d. This will confirm that the firmware was successfully installed. If you are using Klipper then please ensure that you have the following settings enabled in order to download the firmware to the board while preserving the factory bootloader:","title":"MOTHERBOARD FIRMWARE SUPPORT"},{"location":"Octopus.html#precautions","text":"The precautions listed in this section should not be overlooked. They have been included as reminders to prevent damage to your motherboard. Never work on the motherboard with power applied. Always double check all jumpers and wiring before applying power. Improper jumpers or wiring can cause damage to the motherboard and possibly even peripherals that it interfaces with. The motherboard can power heated beds up to 300W. If you are using a bed that operates at a higher power then you will need to use an external MOSFET. Always consult the PIN.pdf diagram when making jumper connections or wiring changes. Assuming a connection order may result in damage to the motherboard. It is recommended to update the firmware using SD card. Using DFU (direct programming via the USB port) will overwrite the bootloader meaning that you will no longer have the option to update via SD card. The stock Octopus does not come with a INA826AIDR amplifier chip. If you want to use the PT100 interface, you need to purchase a INA826AIDR chip (SOP-8 Package) separately and solder the chip into the correct position as shown below. The silkscreen on the first production run of the octopus had incorrectly labeled pins on the connectors listed below. To be sure that you are wiring on the correct pins please use the PINS.pdf document when using any of these connectors. The silkscreen has been corrected and all subsequent Octopus boards will reflect the correct mapping. a. Fans b. SPI3 c. Raspberry pi UART.","title":"PRECAUTIONS"},{"location":"PI4B.html","text":"PI4B \u00b6 Introduction \u00b6 BIGTREETECH PI4B Adapter V1.0 is a Raspberry Pi CM4 carrier board launched by Shenzhen Big Tree Technology Co., Ltd., when the Raspberry Pi CM4 is plugged in, it can be used as a Raspberry Pi 4, which brings convenience for customers to use the CM4. Main Features \u00b6 Use Raspberry Pi 4B board outline, the same mounting hole dia; Support various versions of CM4 modules; Designed with Gigabit Ethernet interface, HDMI0 interface, HDMI1 interface, CAM interface, CSI interface; Equipped with ESD protection at the USB and network interfaces; 40 pin double-row pin header with the same function as Raspberry Pi; Adopting Type-C interface, which can be used to write CM4 with eMMC, and can supply power to the whole system at the same time; A 5V power interface is reserved, which can be connected to a 5V fan for CM4 heat dissipation. Basic Parameters \u00b6 Product Size: 85 x 54.29mm Installation Size: 58 x 49mm Power Input: Type-C 5\u00b10.25V Module Type Support: various versions of Raspberry Pi CM4 modules. Interface Support: Micro HDMI x 2\uff0cUSB 2.0x4\uff0cRJ45\uff0cCAM\uff0cCSI\uff0cMicro SD... Dimensions \u00b6 Interface Diagram \u00b6 Warning: The voltage of the Type-C port is 5V, and 12/24V is not allowed\uff0cotherwise, it will cause irreversible damage. Hardware Configuration \u00b6 Onboard Indicator Light \u00b6 Onboard 2 indicator lights. When powering on, the PWR (red) light will be on when the Raspberry Pi power supply is successfully started, and the ACT (green) light will flash when the system is running. Hardware Installation \u00b6 CM4 Installation \u00b6 The installation direction of CM4 to BIGTREETECH PI4B Adapter V1.0 is shown below: Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html Software Installation \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html eMMC Version \u00b6 Note: the eMMC version will not run the system from the SD card. 1.Install rpiboot For Windows: http://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe For Maca and Linux: https://github.com/raspberrypi/usbboot#building 2.Push the DIP switch 1 (USB OTG) and 2 (RPI BOOT) to ON to enter BOOT mode. 3.Plug the Type-C into the USB port of the computer (in order to avoid problems caused by the insufficient USB power supply of the computer, it is best to use a USB-Hub with an external power supply, or use an external power supply to power the CM4 via the 5V port of the 40 pin pin header). Run sudo ./rpiboot (Mac/Linux) or rpiboot.exe on Windows, then the eMMC of CM4 will be recognized as a mass storage device by the computer (if rpiboot reports an error at this time, you can try to re-plug the USB). 4.The step of using the Raspberry Pi Imager to write the OS image is exactly the same as the LITE version. Note: the SSH function should also be enabled. 5.When the writing is completed, push the DIP switch 1 (USB OTG) and 2 (RPIBOOT) back to OFF to enter the normal working mode. Precautions \u00b6 All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing function. Pay attention to the heat dissipation of CM4. If the running application consumes too many system resources, the CM4 will get hot quite seriously. Handle the board gently to prevent damage.","title":"PI4B"},{"location":"PI4B.html#pi4b","text":"","title":"PI4B"},{"location":"PI4B.html#introduction","text":"BIGTREETECH PI4B Adapter V1.0 is a Raspberry Pi CM4 carrier board launched by Shenzhen Big Tree Technology Co., Ltd., when the Raspberry Pi CM4 is plugged in, it can be used as a Raspberry Pi 4, which brings convenience for customers to use the CM4.","title":"Introduction"},{"location":"PI4B.html#main-features","text":"Use Raspberry Pi 4B board outline, the same mounting hole dia; Support various versions of CM4 modules; Designed with Gigabit Ethernet interface, HDMI0 interface, HDMI1 interface, CAM interface, CSI interface; Equipped with ESD protection at the USB and network interfaces; 40 pin double-row pin header with the same function as Raspberry Pi; Adopting Type-C interface, which can be used to write CM4 with eMMC, and can supply power to the whole system at the same time; A 5V power interface is reserved, which can be connected to a 5V fan for CM4 heat dissipation.","title":"Main Features"},{"location":"PI4B.html#basic-parameters","text":"Product Size: 85 x 54.29mm Installation Size: 58 x 49mm Power Input: Type-C 5\u00b10.25V Module Type Support: various versions of Raspberry Pi CM4 modules. Interface Support: Micro HDMI x 2\uff0cUSB 2.0x4\uff0cRJ45\uff0cCAM\uff0cCSI\uff0cMicro SD...","title":"Basic Parameters"},{"location":"PI4B.html#dimensions","text":"","title":"Dimensions"},{"location":"PI4B.html#interface-diagram","text":"Warning: The voltage of the Type-C port is 5V, and 12/24V is not allowed\uff0cotherwise, it will cause irreversible damage.","title":"Interface Diagram"},{"location":"PI4B.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"PI4B.html#onboard-indicator-light","text":"Onboard 2 indicator lights. When powering on, the PWR (red) light will be on when the Raspberry Pi power supply is successfully started, and the ACT (green) light will flash when the system is running.","title":"Onboard Indicator Light"},{"location":"PI4B.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"PI4B.html#cm4-installation","text":"The installation direction of CM4 to BIGTREETECH PI4B Adapter V1.0 is shown below:","title":"CM4 Installation"},{"location":"PI4B.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Configuration.html","title":"Software Configuration"},{"location":"PI4B.html#software-installation","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/Software%20Installation.html","title":"Software Installation"},{"location":"PI4B.html#emmc-version","text":"Note: the eMMC version will not run the system from the SD card. 1.Install rpiboot For Windows: http://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe For Maca and Linux: https://github.com/raspberrypi/usbboot#building 2.Push the DIP switch 1 (USB OTG) and 2 (RPI BOOT) to ON to enter BOOT mode. 3.Plug the Type-C into the USB port of the computer (in order to avoid problems caused by the insufficient USB power supply of the computer, it is best to use a USB-Hub with an external power supply, or use an external power supply to power the CM4 via the 5V port of the 40 pin pin header). Run sudo ./rpiboot (Mac/Linux) or rpiboot.exe on Windows, then the eMMC of CM4 will be recognized as a mass storage device by the computer (if rpiboot reports an error at this time, you can try to re-plug the USB). 4.The step of using the Raspberry Pi Imager to write the OS image is exactly the same as the LITE version. Note: the SSH function should also be enabled. 5.When the writing is completed, push the DIP switch 1 (USB OTG) and 2 (RPIBOOT) back to OFF to enter the normal working mode.","title":"eMMC Version"},{"location":"PI4B.html#precautions","text":"All unplugging and plugging operations should be performed under the condition of power off, including enabling the eMMC writing function. Pay attention to the heat dissipation of CM4. If the running application consumes too many system resources, the CM4 will get hot quite seriously. Handle the board gently to prevent damage.","title":"Precautions"},{"location":"SKR%20MINI%20E3.html","text":"SKR MINI E3 \u00b6 Introduction \u00b6 BTT SKR MINI E3 V3.0 is a motherboard designed for Ender3, which launched by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. It is the perfect replacement of the original motherboard of Ender3. Main Features \u00b6 Redesigned motherboard ID(Industrial Design) make it good-looking Adopts STMicroelectronics G0 series MCU STM32G0B1RET6 Upgraded heat sink improves heat dissipation Thermistor inputs are protected from short circuit to Vin Added a third PWM controlled cooling fan output Adopt MicroUSB instead of MiniUSB interface Added +3.3V power supply for SPI output header Basic Parameters \u00b6 Product size: 103.75*70.25mm Mounting size: Please refer to BTT SKR MINI E3 V3.0-SIZE.pdf for more Board layer: 4 MCU: ARM Cortex-M0+ STM32G0B1RET6 Power input: DC 12/24V Logic voltage: 3.3V Motor driver: UART mode of on-board TMC2209 Interfaces of motor driver: XM, YM, ZAM, ZBM, EM Interface of temperature sensor: TH0, THB, 2-way 100K NTC (RTD) Display screen: 2.4-inch TFT, 3.5-inch TFT, Ender3 original LCD12864 screen, etc. PC communication interface: USB Micro B type, easy to plug, communication baud rate 115200 File format: G-code Recommended software: Cura, Simplify3D, Pronterface, Repetier-host, Makerware Dimensions \u00b6 Interface Diagram \u00b6 Hardware Configuration \u00b6 Motherboard LED meanings \u00b6 When the motherboard is powered on: Power LED = Red. Solid on = Normal power supply. Status LED = Red. Blinking during a firmware update. Controlled by firmware otherwise. D8 green light for the hot bed HB status indicator: always on when heating, off when not heating. D6 green light for the heating rod E0 status indicator: always on when heating, off when not heating. D10 green light for the CNC fan FAN0 status indicator: on when open, off when closed. D7 green light for the CNC fan FAN1 status indicator: on when open, off when closed. D3 green light for the CNC fan FAN2 status indicator: on when open, off when closed. D9 green light for the SD card status indicator: light up when inserted into the SD, off when pulled out. Hardware Installation \u00b6 Sensorless homing function \u00b6 As shown, connect the corresponding axes with the jump caps to choose Sensorless homing function. NOTE: If you choose this function, you cannot use external ENDSTOP! 5V power supply for BLtouch, TFT, RGB interfaces \u00b6 1\u3001 To use the onboard 5V PSU, short the pins shown in the above image using a jumper 2\u3001To use an external BIGTREETECH DCDC5V V1.0 module, short the pins shown in the above image using a jumper. Connection of cooling fan \u00b6 Connect the fan by FAN2 to realize the whole machine cooling. Pleast note that the operating voltage is the same with the input power supply voltage to avoid damage. Connection to BIGTREETECH Relay V1.2 \u00b6 Connection to BTT UPS 24V V1.0 \u00b6 Connection to Neopixel light \u00b6 Connection to BL touch \u00b6 Software Configuration \u00b6 Communication of Motherboard and PC \u00b6 The motherboard can communicate with a PC using the USB interface. The same USB interface can be used to communicate with a Raspberry pi or any other host device. Firmware of motherboard \u00b6 The package contains the fifirmware for testing (Ender3), which can be used directly or changed according to your needs. How to get the fifirmware Contact our customer service or technical support; Login to our website to download: https://github.com/bigtreetech Motherboard fifirmware update Copy fifirmware.bin fifile to the root directory of SD card NOTE: Do not change fifile name! Insert the SD card into the slot, re-power on or reset, the update will complete after 10S, And you should see the status LED blinking red during the update.. Please refer to the BTT SKR MINI E3 V3.0-PIN.pdf for motherboard fifirmware DIY. PRECAUTIONS \u00b6 The text form and file name of firmware in the SD card cannot be changed from \u201cfirmware.bin\u201d. The wiring must be done before powering on. The LCD screen only supports the LCD12864 screen with CR10_STOCKDISPLAY interface.","title":"SKR MINI E3"},{"location":"SKR%20MINI%20E3.html#skr-mini-e3","text":"","title":"SKR MINI E3"},{"location":"SKR%20MINI%20E3.html#introduction","text":"BTT SKR MINI E3 V3.0 is a motherboard designed for Ender3, which launched by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. It is the perfect replacement of the original motherboard of Ender3.","title":"Introduction"},{"location":"SKR%20MINI%20E3.html#main-features","text":"Redesigned motherboard ID(Industrial Design) make it good-looking Adopts STMicroelectronics G0 series MCU STM32G0B1RET6 Upgraded heat sink improves heat dissipation Thermistor inputs are protected from short circuit to Vin Added a third PWM controlled cooling fan output Adopt MicroUSB instead of MiniUSB interface Added +3.3V power supply for SPI output header","title":"Main Features"},{"location":"SKR%20MINI%20E3.html#basic-parameters","text":"Product size: 103.75*70.25mm Mounting size: Please refer to BTT SKR MINI E3 V3.0-SIZE.pdf for more Board layer: 4 MCU: ARM Cortex-M0+ STM32G0B1RET6 Power input: DC 12/24V Logic voltage: 3.3V Motor driver: UART mode of on-board TMC2209 Interfaces of motor driver: XM, YM, ZAM, ZBM, EM Interface of temperature sensor: TH0, THB, 2-way 100K NTC (RTD) Display screen: 2.4-inch TFT, 3.5-inch TFT, Ender3 original LCD12864 screen, etc. PC communication interface: USB Micro B type, easy to plug, communication baud rate 115200 File format: G-code Recommended software: Cura, Simplify3D, Pronterface, Repetier-host, Makerware","title":"Basic Parameters"},{"location":"SKR%20MINI%20E3.html#dimensions","text":"","title":"Dimensions"},{"location":"SKR%20MINI%20E3.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"SKR%20MINI%20E3.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"SKR%20MINI%20E3.html#motherboard-led-meanings","text":"When the motherboard is powered on: Power LED = Red. Solid on = Normal power supply. Status LED = Red. Blinking during a firmware update. Controlled by firmware otherwise. D8 green light for the hot bed HB status indicator: always on when heating, off when not heating. D6 green light for the heating rod E0 status indicator: always on when heating, off when not heating. D10 green light for the CNC fan FAN0 status indicator: on when open, off when closed. D7 green light for the CNC fan FAN1 status indicator: on when open, off when closed. D3 green light for the CNC fan FAN2 status indicator: on when open, off when closed. D9 green light for the SD card status indicator: light up when inserted into the SD, off when pulled out.","title":"Motherboard LED meanings"},{"location":"SKR%20MINI%20E3.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"SKR%20MINI%20E3.html#sensorless-homing-function","text":"As shown, connect the corresponding axes with the jump caps to choose Sensorless homing function. NOTE: If you choose this function, you cannot use external ENDSTOP!","title":"Sensorless homing function"},{"location":"SKR%20MINI%20E3.html#5v-power-supply-for-bltouch-tft-rgb-interfaces","text":"1\u3001 To use the onboard 5V PSU, short the pins shown in the above image using a jumper 2\u3001To use an external BIGTREETECH DCDC5V V1.0 module, short the pins shown in the above image using a jumper.","title":"5V power supply for BLtouch, TFT, RGB interfaces"},{"location":"SKR%20MINI%20E3.html#connection-of-cooling-fan","text":"Connect the fan by FAN2 to realize the whole machine cooling. Pleast note that the operating voltage is the same with the input power supply voltage to avoid damage.","title":"Connection of cooling fan"},{"location":"SKR%20MINI%20E3.html#connection-to-bigtreetech-relay-v12","text":"","title":"Connection to BIGTREETECH Relay V1.2"},{"location":"SKR%20MINI%20E3.html#connection-to-btt-ups-24v-v10","text":"","title":"Connection to BTT UPS 24V V1.0"},{"location":"SKR%20MINI%20E3.html#connection-to-neopixel-light","text":"","title":"Connection to Neopixel light"},{"location":"SKR%20MINI%20E3.html#connection-to-bl-touch","text":"","title":"Connection to BL touch"},{"location":"SKR%20MINI%20E3.html#software-configuration","text":"","title":"Software Configuration"},{"location":"SKR%20MINI%20E3.html#communication-of-motherboard-and-pc","text":"The motherboard can communicate with a PC using the USB interface. The same USB interface can be used to communicate with a Raspberry pi or any other host device.","title":"Communication of Motherboard and PC"},{"location":"SKR%20MINI%20E3.html#firmware-of-motherboard","text":"The package contains the fifirmware for testing (Ender3), which can be used directly or changed according to your needs. How to get the fifirmware Contact our customer service or technical support; Login to our website to download: https://github.com/bigtreetech Motherboard fifirmware update Copy fifirmware.bin fifile to the root directory of SD card NOTE: Do not change fifile name! Insert the SD card into the slot, re-power on or reset, the update will complete after 10S, And you should see the status LED blinking red during the update.. Please refer to the BTT SKR MINI E3 V3.0-PIN.pdf for motherboard fifirmware DIY.","title":"Firmware of motherboard"},{"location":"SKR%20MINI%20E3.html#precautions","text":"The text form and file name of firmware in the SD card cannot be changed from \u201cfirmware.bin\u201d. The wiring must be done before powering on. The LCD screen only supports the LCD12864 screen with CR10_STOCKDISPLAY interface.","title":"PRECAUTIONS"},{"location":"Software%20Configuration.html","text":"Software Configuration \u00b6 \u00b7 System Settings (CM4) \u00b6 \u00b7 USB 2.0 Hub Ports \u00b6 \u200b M4P is designed with a USB 2.0 Hub, in order to save power consumption, the USB port of CM4 is disabled by default. If you want to enable it, you need to add the following content to the config.txt file: dtoverlay=dwc2,dr_mode=host \u00b7 DSI1 Display Interface \u00b6 \u200b The default display interface is HDMI. The onboard DSI port of M4P uses the DSI1 \u200b interface. You need to download the DSI1 driver and enter the following sentence in \u200b the command line: sudo wget https://datasheets.raspberrypi.com/cmio/dt-blob-disp1-cam1.bin -O /boot/dt-blob.bin \u200b After downloading this driver and restarting, the screen of DSI1 will work normally. If you want to use the HDMI interface, you need to delete the downloaded /boot/dt-blob.bin driver and restart, then the HDMI can output normally. \u00b7 CSI1 Camera \u00b6 \u200b The DSI1 driver downloaded in 4.4.2 DSI1 Display Interface also includes the CSI1 driver. If you just want to install the CSI1 driver, not DSI1, please find the driver you want to use at https://datasheets.raspberrypi.com/licence.html and download it in the boot folder of CM4 and rename it to dt-blob.bin, and then refer to the settings here. https://projects.raspberrypi.org/en/projects/getting-started-with-picamera/ \u00b7 WIFI Setting \u00b6 \u200b Note: This step can be skipped if you are using a network cable connection.CB1 cannot directly use the Raspberry Pi Imager to set the WiFi name and password like CM4. After the OS image writing is completed, the MicroSD card will have a FAT32 partition recognized by the computer, find\"system.cfg\" Open it with Notepad, replace WIFI-SSID with your WiFi name, and PASSWORD with your password. \u00b7 Configure the motherboard \u00b6 \u00b7 ssh connect to device \u00b6 Install the ssh application Mobaxterm: https://mobaxterm.mobatek.net/downloadhome-edition.html Insert Micro SD card to M4P, wait for system to load after power on, aprox. 1-2min The device will automatically be assigned a IP address after successfully connected to the network Find the device IP address in your router page Or use the https://angryip.org/ tool\uff0cscan all IP address in the current network organize by names, findthe IP named Fluidd, Mailsail (CM4) or Hurakan (CB1) like shown below Open Mobaxtermand click \u201cSession\u201d, and click \u201cSSH\u201d\uff0cinset the device IP into Remote host and click \u201cOK\u201d (note: your computer and the device needs to be in the same network) Input the login name and password to enter the SSH terminal interface CM4: login as: pi password: raspberry CB1: login as: biqu password: biqu \u00b7 Compile firmware \u00b6 After ssh successfully connected to the device, enter in terminal: cd ~/klipper/ make menuconfig Compile with the configuration shown below(if the options below is not available, please update you Klipper source code to the newest version) [*] Enable extra low-level configuration options Micro-controller Architecture (STMicroelectronics STM32) ---> Processor model (STM32G0B1) ---> Bootloader offset (8KiB bootloader) ---> Clock Reference (8 MHz crystal) ---> Communication interface (USB (on PA11/PA12)) ---> Run make to compile firmware\uff0c\u201dklipper.bin\u201d file will be generated in home/pi/kliiper/out folder when make is finished, download it onto your computer using the ssh application. \u00b7 Firmware update \u00b6 \u00b7 Update using SD Card \u00b6 Rename klipper.bin to \u201dfirmware.bin\u201d, Copy to the SD card root directory, insert the SD card into the SD card slot of the M4P, click the \u201creset\u201d button or power on again. The firmware will be updated automatically. After the update, the \"firmware.bin\" in the SD card will be renamed as \"FIRMWARE.CUR\". Enter: ls /dev/serial/by-id/ in terminal to check motherboad ID to confirm whether firmware is updated successfully like showm below. ls /dev/serial/by-id/ \u00b7 Update using DFU \u00b6 \u200b If the MCU klipper device ID can be found by ls /dev/serial/by-id/ , we can input: make flash FLASH_DEVICE= /dev/serial/by-id/usb-Klipper_stm32g0b1xx_190028000D50415833323520-if00 \u200b to update firmware (NOTE: Replace /dev/serial/by-id/xxx with the actual ID found in the previous step) \u200b There will be an error message \u201cdfu-util: Error during download get_status\u201d after update. Just ignore it. \u00b7 Configure Klipper \u00b6 Enter your device IP address into your browser to open the webUI\uff0cfind the reference config for motherboard in the directory shown below\uff0cif there is no such config available, update your klipper source code to the newest version or download from github: https://github.com/bigtreetech/Manta-M4P Upload your finished config file into Configuration Files, and rename to \u201cprinter.cfg\u201d Insert the correct motherboad ID \u200b Refer to https://www.klipper3d.org/Overview.html for detailed configuration guide according to your machine type.","title":"Software Configuration"},{"location":"Software%20Configuration.html#software-configuration","text":"","title":"Software Configuration"},{"location":"Software%20Configuration.html#system-settings-cm4","text":"","title":"\u00b7 System Settings (CM4)"},{"location":"Software%20Configuration.html#usb-20-hub-ports","text":"\u200b M4P is designed with a USB 2.0 Hub, in order to save power consumption, the USB port of CM4 is disabled by default. If you want to enable it, you need to add the following content to the config.txt file: dtoverlay=dwc2,dr_mode=host","title":"\u00b7 USB 2.0 Hub Ports"},{"location":"Software%20Configuration.html#dsi1-display-interface","text":"\u200b The default display interface is HDMI. The onboard DSI port of M4P uses the DSI1 \u200b interface. You need to download the DSI1 driver and enter the following sentence in \u200b the command line: sudo wget https://datasheets.raspberrypi.com/cmio/dt-blob-disp1-cam1.bin -O /boot/dt-blob.bin \u200b After downloading this driver and restarting, the screen of DSI1 will work normally. If you want to use the HDMI interface, you need to delete the downloaded /boot/dt-blob.bin driver and restart, then the HDMI can output normally.","title":"\u00b7 DSI1 Display Interface"},{"location":"Software%20Configuration.html#csi1-camera","text":"\u200b The DSI1 driver downloaded in 4.4.2 DSI1 Display Interface also includes the CSI1 driver. If you just want to install the CSI1 driver, not DSI1, please find the driver you want to use at https://datasheets.raspberrypi.com/licence.html and download it in the boot folder of CM4 and rename it to dt-blob.bin, and then refer to the settings here. https://projects.raspberrypi.org/en/projects/getting-started-with-picamera/","title":"\u00b7 CSI1 Camera"},{"location":"Software%20Configuration.html#wifi-setting","text":"\u200b Note: This step can be skipped if you are using a network cable connection.CB1 cannot directly use the Raspberry Pi Imager to set the WiFi name and password like CM4. After the OS image writing is completed, the MicroSD card will have a FAT32 partition recognized by the computer, find\"system.cfg\" Open it with Notepad, replace WIFI-SSID with your WiFi name, and PASSWORD with your password.","title":"\u00b7 WIFI Setting"},{"location":"Software%20Configuration.html#configure-the-motherboard","text":"","title":"\u00b7 Configure the motherboard"},{"location":"Software%20Configuration.html#ssh-connect-to-device","text":"Install the ssh application Mobaxterm: https://mobaxterm.mobatek.net/downloadhome-edition.html Insert Micro SD card to M4P, wait for system to load after power on, aprox. 1-2min The device will automatically be assigned a IP address after successfully connected to the network Find the device IP address in your router page Or use the https://angryip.org/ tool\uff0cscan all IP address in the current network organize by names, findthe IP named Fluidd, Mailsail (CM4) or Hurakan (CB1) like shown below Open Mobaxtermand click \u201cSession\u201d, and click \u201cSSH\u201d\uff0cinset the device IP into Remote host and click \u201cOK\u201d (note: your computer and the device needs to be in the same network) Input the login name and password to enter the SSH terminal interface CM4: login as: pi password: raspberry CB1: login as: biqu password: biqu","title":"\u00b7 ssh connect to device"},{"location":"Software%20Configuration.html#compile-firmware","text":"After ssh successfully connected to the device, enter in terminal: cd ~/klipper/ make menuconfig Compile with the configuration shown below(if the options below is not available, please update you Klipper source code to the newest version) [*] Enable extra low-level configuration options Micro-controller Architecture (STMicroelectronics STM32) ---> Processor model (STM32G0B1) ---> Bootloader offset (8KiB bootloader) ---> Clock Reference (8 MHz crystal) ---> Communication interface (USB (on PA11/PA12)) ---> Run make to compile firmware\uff0c\u201dklipper.bin\u201d file will be generated in home/pi/kliiper/out folder when make is finished, download it onto your computer using the ssh application.","title":"\u00b7 Compile firmware"},{"location":"Software%20Configuration.html#firmware-update","text":"","title":"\u00b7 Firmware update"},{"location":"Software%20Configuration.html#update-using-sd-card","text":"Rename klipper.bin to \u201dfirmware.bin\u201d, Copy to the SD card root directory, insert the SD card into the SD card slot of the M4P, click the \u201creset\u201d button or power on again. The firmware will be updated automatically. After the update, the \"firmware.bin\" in the SD card will be renamed as \"FIRMWARE.CUR\". Enter: ls /dev/serial/by-id/ in terminal to check motherboad ID to confirm whether firmware is updated successfully like showm below. ls /dev/serial/by-id/","title":"\u00b7 Update using SD Card"},{"location":"Software%20Configuration.html#update-using-dfu","text":"\u200b If the MCU klipper device ID can be found by ls /dev/serial/by-id/ , we can input: make flash FLASH_DEVICE= /dev/serial/by-id/usb-Klipper_stm32g0b1xx_190028000D50415833323520-if00 \u200b to update firmware (NOTE: Replace /dev/serial/by-id/xxx with the actual ID found in the previous step) \u200b There will be an error message \u201cdfu-util: Error during download get_status\u201d after update. Just ignore it.","title":"\u00b7 Update using DFU"},{"location":"Software%20Configuration.html#configure-klipper","text":"Enter your device IP address into your browser to open the webUI\uff0cfind the reference config for motherboard in the directory shown below\uff0cif there is no such config available, update your klipper source code to the newest version or download from github: https://github.com/bigtreetech/Manta-M4P Upload your finished config file into Configuration Files, and rename to \u201cprinter.cfg\u201d Insert the correct motherboad ID \u200b Refer to https://www.klipper3d.org/Overview.html for detailed configuration guide according to your machine type.","title":"\u00b7 Configure Klipper"},{"location":"Software%20Installation.html","text":"Software Installation \u00b6 \u00b7 Raspberry PI CM4 Setup steps \u00b6 \u00b7 Download OS Image \u00b6 If CM4 core board is used, You can directly download the images of Fluidd or Mainsail, also can download the OS image from the official website of Raspberry Pi Fluidd: https://github.com/fluidd-core/FluiddPI/releases Mainsail: https://github.com/mainsail-crew/MainsailOS/releases Raspberry Pi official OS: https://www.raspberrypi.com/software/operating-systems (CM4 needs to refer to the following system settings to enable the system's USB, DSI and other interfaces, whose operation is slightly different from the standard Raspberry Pi 3B, 4B, etc.) Raspberry_Pi_OS \u200b Install the official Raspberry Pi Imager: https://www.raspberrypi.com/software/ \u00b7 Write OS \u00b6 \u00b7 CM4 LITE Version (Micro SD Card) \u00b6 Plug the Micro SD card into the computer via a card reader Select Operating System Select \"Use Custom\", then select a custom.img from your computer Click the setting icon in the lower right corner \u201cEnable SSH\u201dand click\u201cSAVE\u201d\uff0c There are other features that can be set in this menu. Please modify them according to your own needs. Details are as follows\uff1a Set hostname: raspberrypi.local //Custom hostname Default:raspberrypi.local Enable SSH Set username and password // Custom username and password\uff0cDefault username: pi password\uff1araspberry Configure wireless LAN // Custom the SSID and password of WLAN Select the Micro SD card and click \"WRITE\" (Writing the image will format the Micro SD card. Be careful not to select the wrong storage device, otherwise, the data will be formatted). Wait for the writing to finish. \u00b7 CM4 eMMC Version \u00b6 \u200b (Note: eMMC version will not tun the system from the Micro SD card.) Install rpiboot For Windows: http://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe For Mac and Linux: https://github.com/raspberrypi/usbboot#building Push the DIP switch 4 (USB OTG) and 3 (BOOT) to ON to enter BOOT mode. Plug the Type-C into the USB port of the computer(in order to avoid problems caused by the insufficient USB power supply of the computer, it is best to use an external 24V power supply to power the motherboard). Run sudo ./rpiboot (Mac/Linux) or rpiboot.exe on Windows, then the eMMC of CM4 will be recognized as a mass storage device by the computer (if rpiboot reports an error at this time, you can try to re-plug the USB). The step of using the Raspberry Pi Imager to write the OS image is exactly the same as the LITE version. Note: the SSH function should also be enabled. When the writing is completed, push the DIP switch 4 (USB OTG) and 3 (BOOT) back to OFF after power off, and power on again to enter the normal working mode. \u00b7 BIGTREETECH CB1 Setup steps \u00b6 \u00b7 Download OS Image \u00b6 \u200b If BIGTREETECH CB1 core board is used, You can only download and install the system image provided by BIGTREETECH: https://github.com/bigtreetech/CB1/releases \u00b7 Download and Install Raspberry Pi Imager \u00b6 \u200b Install the official Raspberry Pi Imager: https://www.raspberrypi.com/software/ .The system image of CB1 can also be written with this software. \u00b7 Write OS Image \u00b6 Plug the Micro SD card into the computer via a card reader. Select Operating System. Select \"Use Custom\", then select a custom.img from your computer. Select the Micro SD card and click \"WRITE\" (Writing the image will format the Micro SD card. Be careful not to select the wrong storage device, otherwise, the data will be formatted). Wait for the writing to finish.","title":"Software Installation"},{"location":"Software%20Installation.html#software-installation","text":"","title":"Software Installation"},{"location":"Software%20Installation.html#raspberry-pi-cm4-setup-steps","text":"","title":"\u00b7 Raspberry PI CM4 Setup steps"},{"location":"Software%20Installation.html#download-os-image","text":"If CM4 core board is used, You can directly download the images of Fluidd or Mainsail, also can download the OS image from the official website of Raspberry Pi Fluidd: https://github.com/fluidd-core/FluiddPI/releases Mainsail: https://github.com/mainsail-crew/MainsailOS/releases Raspberry Pi official OS: https://www.raspberrypi.com/software/operating-systems (CM4 needs to refer to the following system settings to enable the system's USB, DSI and other interfaces, whose operation is slightly different from the standard Raspberry Pi 3B, 4B, etc.) Raspberry_Pi_OS \u200b Install the official Raspberry Pi Imager: https://www.raspberrypi.com/software/","title":"\u00b7 Download OS Image"},{"location":"Software%20Installation.html#write-os","text":"","title":"\u00b7 Write OS"},{"location":"Software%20Installation.html#cm4-lite-version-micro-sd-card","text":"Plug the Micro SD card into the computer via a card reader Select Operating System Select \"Use Custom\", then select a custom.img from your computer Click the setting icon in the lower right corner \u201cEnable SSH\u201dand click\u201cSAVE\u201d\uff0c There are other features that can be set in this menu. Please modify them according to your own needs. Details are as follows\uff1a Set hostname: raspberrypi.local //Custom hostname Default:raspberrypi.local Enable SSH Set username and password // Custom username and password\uff0cDefault username: pi password\uff1araspberry Configure wireless LAN // Custom the SSID and password of WLAN Select the Micro SD card and click \"WRITE\" (Writing the image will format the Micro SD card. Be careful not to select the wrong storage device, otherwise, the data will be formatted). Wait for the writing to finish.","title":"\u00b7 CM4 LITE Version (Micro SD Card)"},{"location":"Software%20Installation.html#cm4-emmc-version","text":"\u200b (Note: eMMC version will not tun the system from the Micro SD card.) Install rpiboot For Windows: http://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe For Mac and Linux: https://github.com/raspberrypi/usbboot#building Push the DIP switch 4 (USB OTG) and 3 (BOOT) to ON to enter BOOT mode. Plug the Type-C into the USB port of the computer(in order to avoid problems caused by the insufficient USB power supply of the computer, it is best to use an external 24V power supply to power the motherboard). Run sudo ./rpiboot (Mac/Linux) or rpiboot.exe on Windows, then the eMMC of CM4 will be recognized as a mass storage device by the computer (if rpiboot reports an error at this time, you can try to re-plug the USB). The step of using the Raspberry Pi Imager to write the OS image is exactly the same as the LITE version. Note: the SSH function should also be enabled. When the writing is completed, push the DIP switch 4 (USB OTG) and 3 (BOOT) back to OFF after power off, and power on again to enter the normal working mode.","title":"\u00b7 CM4 eMMC Version"},{"location":"Software%20Installation.html#bigtreetech-cb1-setup-steps","text":"","title":"\u00b7 BIGTREETECH CB1 Setup steps"},{"location":"Software%20Installation.html#download-os-image_1","text":"\u200b If BIGTREETECH CB1 core board is used, You can only download and install the system image provided by BIGTREETECH: https://github.com/bigtreetech/CB1/releases","title":"\u00b7 Download OS Image"},{"location":"Software%20Installation.html#download-and-install-raspberry-pi-imager","text":"\u200b Install the official Raspberry Pi Imager: https://www.raspberrypi.com/software/ .The system image of CB1 can also be written with this software.","title":"\u00b7 Download and Install Raspberry Pi Imager"},{"location":"Software%20Installation.html#write-os-image","text":"Plug the Micro SD card into the computer via a card reader. Select Operating System. Select \"Use Custom\", then select a custom.img from your computer. Select the Micro SD card and click \"WRITE\" (Writing the image will format the Micro SD card. Be careful not to select the wrong storage device, otherwise, the data will be formatted). Wait for the writing to finish.","title":"\u00b7 Write OS Image"},{"location":"TFT24.html","text":"TFT24 \u00b6 Introduction \u00b6 BIGTREETECH TFT24-V1.1 is a small volume ultra-clear 3D printer display board. It can work in two modes. The board is launched by the 3D printing team of Shenzhen BIGTREETechnology co., LTD. This board can replace LCD12864 for use. Main Features \u00b6 ARM Cortex-M3 series STM32F105RCT6 chip with 32-bit CPU 72MHz; Upgrade the firmware by SD card. It is easy and convenient to operate. his display board has higher compatibility. Users can select two work modes, they are UART serial port screen mode and 12864 screen mode. Serial port screen mode supports two printing modes: SD card and U disk. Basic Parameters \u00b6 Appearance size: 105*46mm Installation size: detail information in TFT24-V1.1-SI Microprocessor\uff1aSTM32F105RCT6 Power Input\uff1aDC5V NOTE: After the board is powered on, the red power indicator light D3 will light up, indicating that the power supply is normal. The red light D1 is SD card detection indicator. D1 often shines on when SD card is inserted, and the light goes out when the SD card is pulled out. Dimensions \u00b6 Interface Diagram \u00b6 When using 12864 screen mode, connect the port EXP1 and EXP2 to the motherboard. There is no touch function in this mode. When using serial port screen mode, connect with TFT or aux-2 on the motherboard via RS232. In this mode, there is touch function. The two modes correspond to two different firmwares, please connect wires according to the mode type of the flashed firmware. Software Configuration \u00b6 Factory board will be equipped with test firmware, it can be used directly. User can also change the firmware according to their own need. Ways to obtain the firmware of motherboard \u200b Get it from customer service or technical staff \u200b Log in the open source website of our company to download: https://github.com/bigtreetech Firmware update Firmware file name\uff1a BIGTREE_TFT24_12864_(version code).bin BIGTREE_TFT24_Serial_(version code).bin First copy the above firmware to SD root directory, and then insert the card into the SD card slot of the board. Next please re-power the board or press the reset key, and wait for about 10 seconds before the update is completed. For DIY board firmware, please refer to the file TFT24-V1.1-PIN. PRECAUTIONS \u00b6 The name of the firmware file in the SD card cannot be changed. (including capital and small letters) Wiring process must be under the precondition of power outages.Users must check the correct connection of the circuit and the correct insertion of the drive before turning on electricity.Pay attention to the wiring sequence and do not insert the wire inversely. Please refer to PIN file for detailed line order.","title":"TFT24"},{"location":"TFT24.html#tft24","text":"","title":"TFT24"},{"location":"TFT24.html#introduction","text":"BIGTREETECH TFT24-V1.1 is a small volume ultra-clear 3D printer display board. It can work in two modes. The board is launched by the 3D printing team of Shenzhen BIGTREETechnology co., LTD. This board can replace LCD12864 for use.","title":"Introduction"},{"location":"TFT24.html#main-features","text":"ARM Cortex-M3 series STM32F105RCT6 chip with 32-bit CPU 72MHz; Upgrade the firmware by SD card. It is easy and convenient to operate. his display board has higher compatibility. Users can select two work modes, they are UART serial port screen mode and 12864 screen mode. Serial port screen mode supports two printing modes: SD card and U disk.","title":"Main Features"},{"location":"TFT24.html#basic-parameters","text":"Appearance size: 105*46mm Installation size: detail information in TFT24-V1.1-SI Microprocessor\uff1aSTM32F105RCT6 Power Input\uff1aDC5V NOTE: After the board is powered on, the red power indicator light D3 will light up, indicating that the power supply is normal. The red light D1 is SD card detection indicator. D1 often shines on when SD card is inserted, and the light goes out when the SD card is pulled out.","title":"Basic Parameters"},{"location":"TFT24.html#dimensions","text":"","title":"Dimensions"},{"location":"TFT24.html#interface-diagram","text":"When using 12864 screen mode, connect the port EXP1 and EXP2 to the motherboard. There is no touch function in this mode. When using serial port screen mode, connect with TFT or aux-2 on the motherboard via RS232. In this mode, there is touch function. The two modes correspond to two different firmwares, please connect wires according to the mode type of the flashed firmware.","title":"Interface Diagram"},{"location":"TFT24.html#software-configuration","text":"Factory board will be equipped with test firmware, it can be used directly. User can also change the firmware according to their own need. Ways to obtain the firmware of motherboard \u200b Get it from customer service or technical staff \u200b Log in the open source website of our company to download: https://github.com/bigtreetech Firmware update Firmware file name\uff1a BIGTREE_TFT24_12864_(version code).bin BIGTREE_TFT24_Serial_(version code).bin First copy the above firmware to SD root directory, and then insert the card into the SD card slot of the board. Next please re-power the board or press the reset key, and wait for about 10 seconds before the update is completed. For DIY board firmware, please refer to the file TFT24-V1.1-PIN.","title":"Software Configuration"},{"location":"TFT24.html#precautions","text":"The name of the firmware file in the SD card cannot be changed. (including capital and small letters) Wiring process must be under the precondition of power outages.Users must check the correct connection of the circuit and the correct insertion of the drive before turning on electricity.Pay attention to the wiring sequence and do not insert the wire inversely. Please refer to PIN file for detailed line order.","title":"PRECAUTIONS"},{"location":"TFT35%20E3.html","text":"TFT35 E3 \u00b6 Introduction \u00b6 BIGTREETECH TFT35-E3 V3.0 is a medium size, dual-mode,ultra-clear 3D printing machine display launched by the 3D printing team of Shenzhen BIGTREE Technology CO., LTD., which can perfectly replace the original LCD screen of Ender3 printer. Main Features \u00b6 ARM Cortex-M3 series STM32F207VCT6 chip with 32-bit CPU 120MHz; Upgrade the firmware by SD card. It is easy and convenient to operate. his display board has higher compatibility. Users can select two work modes: UART serial port screen mode and 12864 screen mode. Serial port screen mode supports two printing modes: SD card and U disk. Reserve WIFI port, and WIFI function is realized by external WIFI module\uff1b Reserve the extension port of filament breaking detection (FIL-DET)\uff1b Reserve the extension port of automatic shutdown after printing (PS-ON);\uff1b LCD12864 mode uses EXP1, EXP2 and EXP3. EXP1 and EXP2 are LCD screen ports of normal motherboard. EXP3 is the LCD interface used by E3 series motherboard (such as SKR MINI E3 V1.2, SKR E3 DIP V1.1, etc.) \uff1b TFT touch screen mode\uff1aserial port screen RS232 port\uff1b 2 sets of UART serial port extension ports are reserved for DIY use. Basic Parameters \u00b6 Appearance size\uff1a93*87mm Installation size\uff1aPerfectly replace the original LCD screen of Ender3 printer\uff0cdetail information please check TFT35-E3 V3.0 SIZE Microprocessor\uff1aSTM32F207VCT6 Power Input\uff1aDC 5V SD card logic voltage\uff1a3.3V and 5V\uff08Such as: support MEGA2560 main control chip motherboard, higher compatibility) NOTE: After the board is powered on\uff1a Red light D6 is the power indicator: the red light is on, indicating normal power supply; Green light D3 is SD card detection indicator: D3 is always on when the SD card inserted, and then off when SD card pulled out. Dimensions \u00b6 Interface Diagram \u00b6 Notes\uff1a 1.When using 12864 screen mode, connect the port EXP1 and EXP2 to the motherboard. There is no touch function in this mode. 2.When using serial port screen mode, connect with TFT or AUX-1 on the motherboard via RS232. This mode has touch function\uff1b 3.Two work modes can be changed by one key. Press the encoder about 3 seconds until the mode selection page appears, then press the encoder after selecting the mode. Software Configuration \u00b6 Factory board will be equipped with test firmware, it can be used directly.It can also be upgraded according to our company's open source website. Ways to obtain the firmware of motherboard Get it from customer service or technical staff\uff1b Log in the open source website of our company to download \uff1a https://github.com/bigtreetech Firmware update Firmware file name\uff1a\uff1a BIGTREE_TFT35_V3.0. (version number).bin First copy the above firmware to SD root directory, and then insert the card into the SD card slot of the board. Next please re-power the board or press the reset key, and wait for about 10 seconds before the update is completed.\uff1b For DIY board firmware, please refer to the file TFT35-E3 V3.0PIN. PRECAUTIONS \u00b6 The name of the firmware file in the SD card cannot be changed. (including capital and small letters). The wiring process must be carried out under the premise of power failure. The power can be put on after checking the correct connection of the circuit and the correct insertion of the drive. This prevents boards and screens from burning up due to faulty wiring, causing unnecessary damage. Pay attention to the wiring sequence and do not insert the wire inversely. Please refer to PIN file for detailed line order.","title":"TFT35 E3"},{"location":"TFT35%20E3.html#tft35-e3","text":"","title":"TFT35 E3"},{"location":"TFT35%20E3.html#introduction","text":"BIGTREETECH TFT35-E3 V3.0 is a medium size, dual-mode,ultra-clear 3D printing machine display launched by the 3D printing team of Shenzhen BIGTREE Technology CO., LTD., which can perfectly replace the original LCD screen of Ender3 printer.","title":"Introduction"},{"location":"TFT35%20E3.html#main-features","text":"ARM Cortex-M3 series STM32F207VCT6 chip with 32-bit CPU 120MHz; Upgrade the firmware by SD card. It is easy and convenient to operate. his display board has higher compatibility. Users can select two work modes: UART serial port screen mode and 12864 screen mode. Serial port screen mode supports two printing modes: SD card and U disk. Reserve WIFI port, and WIFI function is realized by external WIFI module\uff1b Reserve the extension port of filament breaking detection (FIL-DET)\uff1b Reserve the extension port of automatic shutdown after printing (PS-ON);\uff1b LCD12864 mode uses EXP1, EXP2 and EXP3. EXP1 and EXP2 are LCD screen ports of normal motherboard. EXP3 is the LCD interface used by E3 series motherboard (such as SKR MINI E3 V1.2, SKR E3 DIP V1.1, etc.) \uff1b TFT touch screen mode\uff1aserial port screen RS232 port\uff1b 2 sets of UART serial port extension ports are reserved for DIY use.","title":"Main Features"},{"location":"TFT35%20E3.html#basic-parameters","text":"Appearance size\uff1a93*87mm Installation size\uff1aPerfectly replace the original LCD screen of Ender3 printer\uff0cdetail information please check TFT35-E3 V3.0 SIZE Microprocessor\uff1aSTM32F207VCT6 Power Input\uff1aDC 5V SD card logic voltage\uff1a3.3V and 5V\uff08Such as: support MEGA2560 main control chip motherboard, higher compatibility) NOTE: After the board is powered on\uff1a Red light D6 is the power indicator: the red light is on, indicating normal power supply; Green light D3 is SD card detection indicator: D3 is always on when the SD card inserted, and then off when SD card pulled out.","title":"Basic Parameters"},{"location":"TFT35%20E3.html#dimensions","text":"","title":"Dimensions"},{"location":"TFT35%20E3.html#interface-diagram","text":"Notes\uff1a 1.When using 12864 screen mode, connect the port EXP1 and EXP2 to the motherboard. There is no touch function in this mode. 2.When using serial port screen mode, connect with TFT or AUX-1 on the motherboard via RS232. This mode has touch function\uff1b 3.Two work modes can be changed by one key. Press the encoder about 3 seconds until the mode selection page appears, then press the encoder after selecting the mode.","title":"Interface Diagram"},{"location":"TFT35%20E3.html#software-configuration","text":"Factory board will be equipped with test firmware, it can be used directly.It can also be upgraded according to our company's open source website. Ways to obtain the firmware of motherboard Get it from customer service or technical staff\uff1b Log in the open source website of our company to download \uff1a https://github.com/bigtreetech Firmware update Firmware file name\uff1a\uff1a BIGTREE_TFT35_V3.0. (version number).bin First copy the above firmware to SD root directory, and then insert the card into the SD card slot of the board. Next please re-power the board or press the reset key, and wait for about 10 seconds before the update is completed.\uff1b For DIY board firmware, please refer to the file TFT35-E3 V3.0PIN.","title":"Software Configuration"},{"location":"TFT35%20E3.html#precautions","text":"The name of the firmware file in the SD card cannot be changed. (including capital and small letters). The wiring process must be carried out under the premise of power failure. The power can be put on after checking the correct connection of the circuit and the correct insertion of the drive. This prevents boards and screens from burning up due to faulty wiring, causing unnecessary damage. Pay attention to the wiring sequence and do not insert the wire inversely. Please refer to PIN file for detailed line order.","title":"PRECAUTIONS"},{"location":"TFT35%20SPI.html","text":"TFT35 SPI \u00b6 Introduction \u00b6 BIGTREETECH TFT35 SPI V2.1 is a medium-size and clear 3D printer display developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd. Main Features \u00b6 SPI is used for LCD display, and I2C is used for touch. The touch screen is controlled by the chip on the motherboard, which significantly reduces its cost. It is connected to the motherboard through the FPC cable, simple and convenient. Designed with XH2.54 terminal, which can communicate with the board through the terminal. Basic Parameters \u00b6 Product Dimensions: 98 x 56mm Mounting Dimensions: 98 x 56mm, you can read more details here: BIGTREETECH TFT35 SPI V2.1_SIZE Input Voltage: DC 5V Logic Voltage: DC 3.3V Screen Size: 3.5-inch Resolution: 480x320 Driver IC for SPI Display: ILI9488 Driver IC for Touch: NS2009 Dimensions \u00b6 Interface Diagram \u00b6 Pin Out \u00b6 Software Installation \u00b6 Currently, it only supports CB1. V2.2.0 and earlier OS do not support TFT35 SPI. Please use V2.2.1 and later OS. CB1 OS Image: https://github.com/bigtreetech/CB1/releases After the OS writes to the SD card, there is a FAT32 partition named BOOT, open \"BoardEnv.txt\" file with Notpad, Notpad++ or VSCode. Uncomment overlays=tft35_spi to enable TFT35 SPI screen (Delete '#' at the beginning of the line). NOTE: If the OS image of v2.2.1 version is used. Set to overlays=tft35_spi25 instead of overlays=tft35_spi Use the SPI speed of 25Mhz instead of the default 50Mhz to avoid display confusion. If the OS image after V2.2.1 is used, The OS will use a lower and more stable speed by default.","title":"TFT35 SPI"},{"location":"TFT35%20SPI.html#tft35-spi","text":"","title":"TFT35 SPI"},{"location":"TFT35%20SPI.html#introduction","text":"BIGTREETECH TFT35 SPI V2.1 is a medium-size and clear 3D printer display developed by the 3D printing team of Shenzhen Big Tree Technology Co., Ltd.","title":"Introduction"},{"location":"TFT35%20SPI.html#main-features","text":"SPI is used for LCD display, and I2C is used for touch. The touch screen is controlled by the chip on the motherboard, which significantly reduces its cost. It is connected to the motherboard through the FPC cable, simple and convenient. Designed with XH2.54 terminal, which can communicate with the board through the terminal.","title":"Main Features"},{"location":"TFT35%20SPI.html#basic-parameters","text":"Product Dimensions: 98 x 56mm Mounting Dimensions: 98 x 56mm, you can read more details here: BIGTREETECH TFT35 SPI V2.1_SIZE Input Voltage: DC 5V Logic Voltage: DC 3.3V Screen Size: 3.5-inch Resolution: 480x320 Driver IC for SPI Display: ILI9488 Driver IC for Touch: NS2009","title":"Basic Parameters"},{"location":"TFT35%20SPI.html#dimensions","text":"","title":"Dimensions"},{"location":"TFT35%20SPI.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"TFT35%20SPI.html#pin-out","text":"","title":"Pin Out"},{"location":"TFT35%20SPI.html#software-installation","text":"Currently, it only supports CB1. V2.2.0 and earlier OS do not support TFT35 SPI. Please use V2.2.1 and later OS. CB1 OS Image: https://github.com/bigtreetech/CB1/releases After the OS writes to the SD card, there is a FAT32 partition named BOOT, open \"BoardEnv.txt\" file with Notpad, Notpad++ or VSCode. Uncomment overlays=tft35_spi to enable TFT35 SPI screen (Delete '#' at the beginning of the line). NOTE: If the OS image of v2.2.1 version is used. Set to overlays=tft35_spi25 instead of overlays=tft35_spi Use the SPI speed of 25Mhz instead of the default 50Mhz to avoid display confusion. If the OS image after V2.2.1 is used, The OS will use a lower and more stable speed by default.","title":"Software Installation"},{"location":"TFT35.html","text":"TFT35 \u00b6 Introduction \u00b6 TFT35 V3.0 is a medium size, dual-mode, ultra-clear 3D printer display. It is an excellent replacement for the standard 12864 LCD displays. Main Features \u00b6 ARM Cortex-M3 series STM32F207VCT6 chip with 32-bit CPU 120 MHz. Users can select two work modes, they are UART serial port screen mode and 12864 screen mode. Upgrade the firmware by SD card. It is easy and convenient to operate. Serial port screen mode supports two printing modes: SD card and USB stick. Dedicated WIFI port. WIFI function is realized by external WIFI module. Dedicated filament breaking detection port, FIL-DET pin. Dedicated port for automatic shutdown after printing module, PS-ON pin. LCD12864 mode uses EXP1, EXP2 and EXP3. EXP1 and EXP2 are LCD screen ports of normal motherboard, EXP3 is the LCD screen port used by SKR MINI E3 and SKR E3 DIP. TFT touch screen mode uses serial port screen RS232 port. Two sets of UART serial port extension ports are reserved for DIY use. Basic Parameters \u00b6 Size: 110x58mm Input voltage: 5V DC Installation size:103.76 * 49.43 mm SD card logic voltage: 3.3V or 5V, supports MEGA2560 motherboard, with higher compatibility Notes\uff1a Red light D2 is the power indicator; it is on when the board is powered. Red light D1 is SD card detection indicator; it is on when a SD card isinserted. Dimensions \u00b6 Interface Diagram \u00b6 Notes\uff1a 1.When using 12864 screen mode, connect the port EXP1 and EXP2 to the motherboard. There is no touch function in this mode. (If you want to use the SKR MINI E3 or SKR E3 DIP, just connect EXP3 to the motherboard.) 2.When using serial port screen mode, connect with TFT or aux-2 on the motherboard via RS232. This mode has touch function. 3.Two work modes can be changed by one key. Press the rotary encoder for about 3 seconds until the mode selection page appears, then press the encoder after selecting the mode. Software Configuration \u00b6 The screen will be shipped with a test firmware, it can be used directly. The firmware is customizable according to your needs. You can find the needed firmware files on our Github page: http://github.com/bigtreetech Firmware update method: Firmware file name\uff1a BIGTREE_TFT35_V3.0.(version number).bin Fonts & icons folder name: TFT35 First copy the above firmware and TFT35 folder to SD root directory, and then insert the card into the SD card slot of the board. Next, boot the board or press the reset key, then wait for firmware, fonts and icons update is completed. For customizable firmware, please refer to the file TFT35-V3.0-PIN. PRECAUTIONS \u00b6 The firmware file name in the SD card cannot be changed, including capitalization. Ensure that all wires and connectors are correctly plugged in beforepower-on.","title":"TFT35"},{"location":"TFT35.html#tft35","text":"","title":"TFT35"},{"location":"TFT35.html#introduction","text":"TFT35 V3.0 is a medium size, dual-mode, ultra-clear 3D printer display. It is an excellent replacement for the standard 12864 LCD displays.","title":"Introduction"},{"location":"TFT35.html#main-features","text":"ARM Cortex-M3 series STM32F207VCT6 chip with 32-bit CPU 120 MHz. Users can select two work modes, they are UART serial port screen mode and 12864 screen mode. Upgrade the firmware by SD card. It is easy and convenient to operate. Serial port screen mode supports two printing modes: SD card and USB stick. Dedicated WIFI port. WIFI function is realized by external WIFI module. Dedicated filament breaking detection port, FIL-DET pin. Dedicated port for automatic shutdown after printing module, PS-ON pin. LCD12864 mode uses EXP1, EXP2 and EXP3. EXP1 and EXP2 are LCD screen ports of normal motherboard, EXP3 is the LCD screen port used by SKR MINI E3 and SKR E3 DIP. TFT touch screen mode uses serial port screen RS232 port. Two sets of UART serial port extension ports are reserved for DIY use.","title":"Main Features"},{"location":"TFT35.html#basic-parameters","text":"Size: 110x58mm Input voltage: 5V DC Installation size:103.76 * 49.43 mm SD card logic voltage: 3.3V or 5V, supports MEGA2560 motherboard, with higher compatibility Notes\uff1a Red light D2 is the power indicator; it is on when the board is powered. Red light D1 is SD card detection indicator; it is on when a SD card isinserted.","title":"Basic Parameters"},{"location":"TFT35.html#dimensions","text":"","title":"Dimensions"},{"location":"TFT35.html#interface-diagram","text":"Notes\uff1a 1.When using 12864 screen mode, connect the port EXP1 and EXP2 to the motherboard. There is no touch function in this mode. (If you want to use the SKR MINI E3 or SKR E3 DIP, just connect EXP3 to the motherboard.) 2.When using serial port screen mode, connect with TFT or aux-2 on the motherboard via RS232. This mode has touch function. 3.Two work modes can be changed by one key. Press the rotary encoder for about 3 seconds until the mode selection page appears, then press the encoder after selecting the mode.","title":"Interface Diagram"},{"location":"TFT35.html#software-configuration","text":"The screen will be shipped with a test firmware, it can be used directly. The firmware is customizable according to your needs. You can find the needed firmware files on our Github page: http://github.com/bigtreetech Firmware update method: Firmware file name\uff1a BIGTREE_TFT35_V3.0.(version number).bin Fonts & icons folder name: TFT35 First copy the above firmware and TFT35 folder to SD root directory, and then insert the card into the SD card slot of the board. Next, boot the board or press the reset key, then wait for firmware, fonts and icons update is completed. For customizable firmware, please refer to the file TFT35-V3.0-PIN.","title":"Software Configuration"},{"location":"TFT35.html#precautions","text":"The firmware file name in the SD card cannot be changed, including capitalization. Ensure that all wires and connectors are correctly plugged in beforepower-on.","title":"PRECAUTIONS"},{"location":"TFT43-DIP.html","text":"TFT43-DIP \u00b6 TFT43-DIP is an display for the Raspberry Pi with capacitive touchscreen. Note \u00b6 The Raspberry Pi OS after 2022-04-04 has a built-in DPI driver, so we only need a simple configuration in /boot/config.txt file to use this screen. The OS of 2022-09-22 displays that the 180 degree rotation function is abnormal, please do not use it. Display function \u00b6 Add the following configuration to the [all] section of the /boot/config.txt file. (Generally, it can be added to the bottom of the /boot/config.txt file) dtoverlay=vc4-kms-dpi-generic dtparam=rgb666-padhi,clock-frequency=32000000 dtparam=hactive=800,hfp=16,hsync=1,hbp=46 dtparam=vactive=480,vfp=7,vsync=3,vbp=23 dtparam=backlight-gpio=19 dtparam=rotate=0 rotate = Display rotation, The values that can be set include 0 , 90 , 180 , 270 . The default value is 0 Touch function \u00b6 Copy gt911_btt_tft43_dip.dtbo (./gt911_btt_tft43_dip.dtbo) file to /boot/overlays path. (We can copy the file to the boot path of the SD card on the computer, or execute the following command on the ssh of the Raspberry Pi to download it directly) sudo wget https://raw.githubusercontent.com/bigtreetech/TFT43-DIP/master/gt911_btt_tft43_dip.dtbo -O /boot/overlays/gt911_btt_tft43_dip.dtbo And add the following configuration to the [all] section of the /boot/config.txt file. dtoverlay=gt911_btt_tft43_dip dtparam=rotate_0 rotate_* = Touch rotation, This dtparam can be set to rotate_0 , rotate_90 , rotate_180 , rotate_270 . Corresponding to display rotation. For example \u00b6 Normal display \u00b6 Copy gt911_btt_tft43_dip.dtbo (./gt911_btt_tft43_dip.dtbo) file Add the following configuration to the [all] section of the /boot/config.txt file dtoverlay=vc4-kms-dpi-generic dtparam=rgb666-padhi,clock-frequency=32000000 dtparam=hactive=800,hfp=16,hsync=1,hbp=46 dtparam=vactive=480,vfp=7,vsync=3,vbp=23 dtparam=backlight-gpio=19 dtparam=rotate=0 dtoverlay=gt911_btt_tft43_dip dtparam=rotate_0 Rotate 90 degrees display \u00b6 Copy gt911_btt_tft43_dip.dtbo (./gt911_btt_tft43_dip.dtbo) file Add the following configuration to the [all] section of the /boot/config.txt file dtoverlay=vc4-kms-dpi-generic dtparam=rgb666-padhi,clock-frequency=32000000 dtparam=hactive=800,hfp=16,hsync=1,hbp=46 dtparam=vactive=480,vfp=7,vsync=3,vbp=23 dtparam=backlight-gpio=19 dtparam=rotate=90 dtoverlay=gt911_btt_tft43_dip dtparam=rotate_90","title":"TFT43-DIP"},{"location":"TFT43-DIP.html#tft43-dip","text":"TFT43-DIP is an display for the Raspberry Pi with capacitive touchscreen.","title":"TFT43-DIP"},{"location":"TFT43-DIP.html#note","text":"The Raspberry Pi OS after 2022-04-04 has a built-in DPI driver, so we only need a simple configuration in /boot/config.txt file to use this screen. The OS of 2022-09-22 displays that the 180 degree rotation function is abnormal, please do not use it.","title":"Note"},{"location":"TFT43-DIP.html#display-function","text":"Add the following configuration to the [all] section of the /boot/config.txt file. (Generally, it can be added to the bottom of the /boot/config.txt file) dtoverlay=vc4-kms-dpi-generic dtparam=rgb666-padhi,clock-frequency=32000000 dtparam=hactive=800,hfp=16,hsync=1,hbp=46 dtparam=vactive=480,vfp=7,vsync=3,vbp=23 dtparam=backlight-gpio=19 dtparam=rotate=0 rotate = Display rotation, The values that can be set include 0 , 90 , 180 , 270 . The default value is 0","title":"Display function"},{"location":"TFT43-DIP.html#touch-function","text":"Copy gt911_btt_tft43_dip.dtbo (./gt911_btt_tft43_dip.dtbo) file to /boot/overlays path. (We can copy the file to the boot path of the SD card on the computer, or execute the following command on the ssh of the Raspberry Pi to download it directly) sudo wget https://raw.githubusercontent.com/bigtreetech/TFT43-DIP/master/gt911_btt_tft43_dip.dtbo -O /boot/overlays/gt911_btt_tft43_dip.dtbo And add the following configuration to the [all] section of the /boot/config.txt file. dtoverlay=gt911_btt_tft43_dip dtparam=rotate_0 rotate_* = Touch rotation, This dtparam can be set to rotate_0 , rotate_90 , rotate_180 , rotate_270 . Corresponding to display rotation.","title":"Touch function"},{"location":"TFT43-DIP.html#for-example","text":"","title":"For example"},{"location":"TFT43-DIP.html#normal-display","text":"Copy gt911_btt_tft43_dip.dtbo (./gt911_btt_tft43_dip.dtbo) file Add the following configuration to the [all] section of the /boot/config.txt file dtoverlay=vc4-kms-dpi-generic dtparam=rgb666-padhi,clock-frequency=32000000 dtparam=hactive=800,hfp=16,hsync=1,hbp=46 dtparam=vactive=480,vfp=7,vsync=3,vbp=23 dtparam=backlight-gpio=19 dtparam=rotate=0 dtoverlay=gt911_btt_tft43_dip dtparam=rotate_0","title":"Normal display"},{"location":"TFT43-DIP.html#rotate-90-degrees-display","text":"Copy gt911_btt_tft43_dip.dtbo (./gt911_btt_tft43_dip.dtbo) file Add the following configuration to the [all] section of the /boot/config.txt file dtoverlay=vc4-kms-dpi-generic dtparam=rgb666-padhi,clock-frequency=32000000 dtparam=hactive=800,hfp=16,hsync=1,hbp=46 dtparam=vactive=480,vfp=7,vsync=3,vbp=23 dtparam=backlight-gpio=19 dtparam=rotate=90 dtoverlay=gt911_btt_tft43_dip dtparam=rotate_90","title":"Rotate 90 degrees display"},{"location":"TMC2130.html","text":"TMC2130 \u00b6 Introduction \u00b6 TMC2130 is a high-performance two-phase stepper motor driver chip with a standard SPI interface and a simple step/dir interface. Very low noise, high load driver does not lose step. Main Features \u00b6 Up to 256 subdivisions; Support SPI interface control; Do not lose step when driving under high load; Logic voltage: 3.3V/5V; Input voltage range: 12V/24V DC; Motor operating current 1.2a (peak 2A) can be adjusted; Spreadcycle ensures that the stepper motor has a smooth transition without dead zone current when passing zero.TMC2130 stepper motor driver chip has almost no jitter; StealthChop can drive the motor to work under extremely quiet sound, so it can be controlled the noise of the motor is below 10dB, which is much lower than that of the traditional current controllerType; SpreadCycle PWM chopped mode is automatically divided between slow and fast attenuators setting up a hysteresis attenuation function, the average current reflects the configured normal current in sine there will be no transition period at the zero crossing of the sine, which reduces the current and torque fluctuations that make the current waveform more similar to the sine wave. Compared with the traditional constant chopper mode of SpreadCycle PWM, the motor operates more smoothly and stably; Basic Parameters \u00b6 Highest Resolution 256 microsteps per full step Step/Dir Interface with microstep interpolation microPlyer\u2122 SPI Interface stealthChop\u2122 for extremely quiet operation and smooth motion spreadCycle\u2122 highly dynamic motor control chopper coolStep\u2122 current control for energy savings up to 75% Voltage Range 12V/24VDC Passive Braking and freewheeling mode Full Protection & Diagnostics Dimensions \u00b6 Hardware Configuration \u00b6 Working mode \u00b6 STEP/DIR mode \u00b6 1.SPI position welding 0\u03a9 resistor, making the driver work in STEP/DIR mode. 2.Working mode selection: SDI (CFG1), SCK (CFG2) SPI working mode wiring instructions \u00b6 Before wiring, it is necessary to select the hardware operation mode of the driver module: 1.Solder CFG4 and CFG5 as shown in the purple area (CFG4 is connected to GND, CFG5 is connected to VCC); (Welding is correct to enable spreadcycle mode) 2.Remove the resistor at the SPI position to put the driver in SPI mode. Wiring diagram is as follows: Wiring diagram: Potentiometer adjustment instructions \u00b6 Rotate the potentiometer clockwise: reduce Vref to reduce the driver current; Turn the potentiometer counterclockwise: Increase Vref to increase the driver current. The exact voltage of Vref must be measured when the main board is supplied with 12V or 24V. Range of Vref values: default: 1V (\u00b10.2); MAX: 2.4V; MIN: 0V; Do not use too much force when rotating the potentiometer to prevent irreversible damage to the potentiometer; when it is rotated counterclockwise to the maximum value, it will become the minimum value if it continues to rotate; similarly, when it is rotated clockwise to the minimum value, If you continue to rotate, it will become the maximum value; Software Configuration \u00b6 SPI mode firmware change instructions: \u00b6 For example\uff0c(Marlin-2.0)BIGTREETECH SKR V1.3 \uff1a Configuration.h file\uff1a Configuration_adv.h file: pins_BIGTREE_SKR_V1.3.h file: After firmware debugging, compile and upload to the motherboard, open e pronterface online Print software, connected to the motherboard can view the SPI mode 2130 drive Dynamic running state. Precautions \u00b6 1.When selecting SPI operation mode for hardware, please use soldering iron carefully to avoid burns. After processing, observe carefully whether there is residual tin residue in the module, and clean it up to prevent short-circuit and burning of the module; 2.Please pay attention to the wire sequence and IO port when wiring. If the wrong wire is connected,the drive will not work. Connect them as shown above carefully . 3.When the driver is inserted into the motherboard, please pay attention to see the direction of the drive, can not be inserted in reverse, to prevent the drive from burning; 4.Be sure to do a good job before driving heat dissipation work (heat sink + fan), to prevent the drive is not working properly If you have problems in use, welcome to contact us, we will be careful to answer for you; If you have any good comments or suggestions on our products, please feel free to give us your feedback. We will also carefully consider your comments or Suggestions, thank you for choosing BIGTREETECH Product, thank you!","title":"TMC2130"},{"location":"TMC2130.html#tmc2130","text":"","title":"TMC2130"},{"location":"TMC2130.html#introduction","text":"TMC2130 is a high-performance two-phase stepper motor driver chip with a standard SPI interface and a simple step/dir interface. Very low noise, high load driver does not lose step.","title":"Introduction"},{"location":"TMC2130.html#main-features","text":"Up to 256 subdivisions; Support SPI interface control; Do not lose step when driving under high load; Logic voltage: 3.3V/5V; Input voltage range: 12V/24V DC; Motor operating current 1.2a (peak 2A) can be adjusted; Spreadcycle ensures that the stepper motor has a smooth transition without dead zone current when passing zero.TMC2130 stepper motor driver chip has almost no jitter; StealthChop can drive the motor to work under extremely quiet sound, so it can be controlled the noise of the motor is below 10dB, which is much lower than that of the traditional current controllerType; SpreadCycle PWM chopped mode is automatically divided between slow and fast attenuators setting up a hysteresis attenuation function, the average current reflects the configured normal current in sine there will be no transition period at the zero crossing of the sine, which reduces the current and torque fluctuations that make the current waveform more similar to the sine wave. Compared with the traditional constant chopper mode of SpreadCycle PWM, the motor operates more smoothly and stably;","title":"Main Features"},{"location":"TMC2130.html#basic-parameters","text":"Highest Resolution 256 microsteps per full step Step/Dir Interface with microstep interpolation microPlyer\u2122 SPI Interface stealthChop\u2122 for extremely quiet operation and smooth motion spreadCycle\u2122 highly dynamic motor control chopper coolStep\u2122 current control for energy savings up to 75% Voltage Range 12V/24VDC Passive Braking and freewheeling mode Full Protection & Diagnostics","title":"Basic Parameters"},{"location":"TMC2130.html#dimensions","text":"","title":"Dimensions"},{"location":"TMC2130.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"TMC2130.html#working-mode","text":"","title":"Working mode"},{"location":"TMC2130.html#stepdir-mode","text":"1.SPI position welding 0\u03a9 resistor, making the driver work in STEP/DIR mode. 2.Working mode selection: SDI (CFG1), SCK (CFG2)","title":"STEP/DIR mode"},{"location":"TMC2130.html#spi-working-mode-wiring-instructions","text":"Before wiring, it is necessary to select the hardware operation mode of the driver module: 1.Solder CFG4 and CFG5 as shown in the purple area (CFG4 is connected to GND, CFG5 is connected to VCC); (Welding is correct to enable spreadcycle mode) 2.Remove the resistor at the SPI position to put the driver in SPI mode. Wiring diagram is as follows: Wiring diagram:","title":"SPI working mode wiring instructions"},{"location":"TMC2130.html#potentiometer-adjustment-instructions","text":"Rotate the potentiometer clockwise: reduce Vref to reduce the driver current; Turn the potentiometer counterclockwise: Increase Vref to increase the driver current. The exact voltage of Vref must be measured when the main board is supplied with 12V or 24V. Range of Vref values: default: 1V (\u00b10.2); MAX: 2.4V; MIN: 0V; Do not use too much force when rotating the potentiometer to prevent irreversible damage to the potentiometer; when it is rotated counterclockwise to the maximum value, it will become the minimum value if it continues to rotate; similarly, when it is rotated clockwise to the minimum value, If you continue to rotate, it will become the maximum value;","title":"Potentiometer adjustment instructions"},{"location":"TMC2130.html#software-configuration","text":"","title":"Software Configuration"},{"location":"TMC2130.html#spi-mode-firmware-change-instructions","text":"For example\uff0c(Marlin-2.0)BIGTREETECH SKR V1.3 \uff1a Configuration.h file\uff1a Configuration_adv.h file: pins_BIGTREE_SKR_V1.3.h file: After firmware debugging, compile and upload to the motherboard, open e pronterface online Print software, connected to the motherboard can view the SPI mode 2130 drive Dynamic running state.","title":"SPI mode firmware change instructions:"},{"location":"TMC2130.html#precautions","text":"1.When selecting SPI operation mode for hardware, please use soldering iron carefully to avoid burns. After processing, observe carefully whether there is residual tin residue in the module, and clean it up to prevent short-circuit and burning of the module; 2.Please pay attention to the wire sequence and IO port when wiring. If the wrong wire is connected,the drive will not work. Connect them as shown above carefully . 3.When the driver is inserted into the motherboard, please pay attention to see the direction of the drive, can not be inserted in reverse, to prevent the drive from burning; 4.Be sure to do a good job before driving heat dissipation work (heat sink + fan), to prevent the drive is not working properly If you have problems in use, welcome to contact us, we will be careful to answer for you; If you have any good comments or suggestions on our products, please feel free to give us your feedback. We will also carefully consider your comments or Suggestions, thank you for choosing BIGTREETECH Product, thank you!","title":"Precautions"},{"location":"TMC2208.html","text":"TMC2208 \u00b6 Introduction \u00b6 The TMC2208 is ultra-silent motor driver ICs for two phase stepper motors. Its pinning is compatible to a number of legacy drivers. TRINAMICs sophisticated stealthChop2 chopper ensures noiseless operation, maximum efficiency and best motor torque. Its fast current regulation and optional combination with spreadCycle allow for highly dynamic motion. Integrated power-MOSFETs handle motor current up to 1.4A RMS. Protection and diagnostic features support robust and reliable operation. A simple to use UART interface opens up more tuning and control options. Application specific tuning can be stored to OTP memory. Industries\u2019 most advanced STEP/DIR stepper motor driver family upgrades designs to noiseless and most precise operation for costeffective and highly competitive solutions. Basic Parameters \u00b6 power tube built-in drive current 1.2A ,peak current 2A 256 microsteps per fullstep interpolation from lower input resolutions stealthChop2 - for quiet positioning spreadCycle - for high speed and high dynamics Low RDSon LS 280m\u2126 & HS 290m\u2126 (typ. at 25\u00b0C) Voltage Range 12V/24VDC Single Wire UART for advanced configuration options Integrated Pulse Generator for standalone motion Dimensions \u00b6 Hardware Configuration \u00b6 Working mode and potentiometer description \u00b6 STEP/DIR mode \u00b6 Choice of working mode\uff1aMS1\u3001MS2\uff1a Working Current Reference: UART mode \u00b6 Note: TMC2208 v3.0 has two modes from our factory : step / dir and UART mode. Customers can choose according to your own needs. The user who purchases the step / dir mode driver shall perform the following hardware operations on the driver module before wiring (the user who purchases the UART mode driver does not need any welding operations): Weld J2 as shown in the purple area, and put the driver in UART mode The benefits of UART mode: 1.Motor current can be set arbitrarily by firmware. 2.Micro-steps can be set arbitrarily by firmware (up to 256 actual micro-steps); 3.The actual and interpolated microsteps can be combined to achieve maximum torque. 4.Firmware can dynamically switch stepper motors between stealthChop2 and spreadCycle modes through UART. 5.When the motor is not moving, the standby current of the motor can be reduced dynamically (through UART). Potentiometer regulation instructions: Clockwise Rotating Potentiometer - Reduces Vref, thereby reducing drive current; Counterclockwise rotating potentiometer - Increase Vref, thereby increasing the driving current. The accurate voltage of Vref can only be measured when the main board is supplied with 12V or 24V voltage. The range of Vref value: default value: 1V (+0.2); MAX: 2V; MIN: 0V;Rotating potentiometer must not use too much force to prevent irreversible damage to the potentiometer; when the counter-clockwise rotation reaches the maximum, if it continues to rotate, it will become the minimum; similarly, when the clockwise rotation reaches the minimum, if it continues to rotate, it will become the maximum. Software Configuration \u00b6 For example\uff0c(Marlin-2.0)BIGTREETECH SKR V1.3 \uff1a Configuration.h files TMC2208 - means you want to control SilentStepStick through UART. TMC2208_STANDALONE - does not use UART control but STEP/DIR . TMC2208 SilentStepStick\uff0cIn other words plug and play. Configuration_adv.h files Pins_BIGTREE_SKR_V1.3.h file After the firmware is changed, burned the firmware and check whether the driver is correctly installed is detected. Precautions \u00b6 1. When hardware chooses UART working mode, cautiously use soldering iron to prevent scalding hands. After treatment, carefully observe whether there is residual tin slag in the module. It must be cleaned up to prevent short circuit burning of the module. 2.Pay attention to the line sequence and IO port when wiring. If the wrong line is connected, the drive will not work. 3.When inserting drive into the main board, pay attention to see the direction of drive, can not insert backward, to prevent drive from burning. 4.Make sure to do a good job in heat dissipation (heat sink + heat dissipation fan) before driving to prevent abnormal operation of the drive. If you encounter problems in use, welcome to contact us, we will be answer to you ASAP . If you have any good comments or suggestions on our products, please tell us , we will carefully consider your comments or Suggestions. Thank you for choosing BIGTREETECH products, thank you!","title":"TMC2208"},{"location":"TMC2208.html#tmc2208","text":"","title":"TMC2208"},{"location":"TMC2208.html#introduction","text":"The TMC2208 is ultra-silent motor driver ICs for two phase stepper motors. Its pinning is compatible to a number of legacy drivers. TRINAMICs sophisticated stealthChop2 chopper ensures noiseless operation, maximum efficiency and best motor torque. Its fast current regulation and optional combination with spreadCycle allow for highly dynamic motion. Integrated power-MOSFETs handle motor current up to 1.4A RMS. Protection and diagnostic features support robust and reliable operation. A simple to use UART interface opens up more tuning and control options. Application specific tuning can be stored to OTP memory. Industries\u2019 most advanced STEP/DIR stepper motor driver family upgrades designs to noiseless and most precise operation for costeffective and highly competitive solutions.","title":"Introduction"},{"location":"TMC2208.html#basic-parameters","text":"power tube built-in drive current 1.2A ,peak current 2A 256 microsteps per fullstep interpolation from lower input resolutions stealthChop2 - for quiet positioning spreadCycle - for high speed and high dynamics Low RDSon LS 280m\u2126 & HS 290m\u2126 (typ. at 25\u00b0C) Voltage Range 12V/24VDC Single Wire UART for advanced configuration options Integrated Pulse Generator for standalone motion","title":"Basic Parameters"},{"location":"TMC2208.html#dimensions","text":"","title":"Dimensions"},{"location":"TMC2208.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"TMC2208.html#working-mode-and-potentiometer-description","text":"","title":"Working mode and potentiometer description"},{"location":"TMC2208.html#stepdir-mode","text":"Choice of working mode\uff1aMS1\u3001MS2\uff1a Working Current Reference:","title":"STEP/DIR mode"},{"location":"TMC2208.html#uart-mode","text":"Note: TMC2208 v3.0 has two modes from our factory : step / dir and UART mode. Customers can choose according to your own needs. The user who purchases the step / dir mode driver shall perform the following hardware operations on the driver module before wiring (the user who purchases the UART mode driver does not need any welding operations): Weld J2 as shown in the purple area, and put the driver in UART mode The benefits of UART mode: 1.Motor current can be set arbitrarily by firmware. 2.Micro-steps can be set arbitrarily by firmware (up to 256 actual micro-steps); 3.The actual and interpolated microsteps can be combined to achieve maximum torque. 4.Firmware can dynamically switch stepper motors between stealthChop2 and spreadCycle modes through UART. 5.When the motor is not moving, the standby current of the motor can be reduced dynamically (through UART). Potentiometer regulation instructions: Clockwise Rotating Potentiometer - Reduces Vref, thereby reducing drive current; Counterclockwise rotating potentiometer - Increase Vref, thereby increasing the driving current. The accurate voltage of Vref can only be measured when the main board is supplied with 12V or 24V voltage. The range of Vref value: default value: 1V (+0.2); MAX: 2V; MIN: 0V;Rotating potentiometer must not use too much force to prevent irreversible damage to the potentiometer; when the counter-clockwise rotation reaches the maximum, if it continues to rotate, it will become the minimum; similarly, when the clockwise rotation reaches the minimum, if it continues to rotate, it will become the maximum.","title":"UART mode"},{"location":"TMC2208.html#software-configuration","text":"For example\uff0c(Marlin-2.0)BIGTREETECH SKR V1.3 \uff1a Configuration.h files TMC2208 - means you want to control SilentStepStick through UART. TMC2208_STANDALONE - does not use UART control but STEP/DIR . TMC2208 SilentStepStick\uff0cIn other words plug and play. Configuration_adv.h files Pins_BIGTREE_SKR_V1.3.h file After the firmware is changed, burned the firmware and check whether the driver is correctly installed is detected.","title":"Software Configuration"},{"location":"TMC2208.html#precautions","text":"1. When hardware chooses UART working mode, cautiously use soldering iron to prevent scalding hands. After treatment, carefully observe whether there is residual tin slag in the module. It must be cleaned up to prevent short circuit burning of the module. 2.Pay attention to the line sequence and IO port when wiring. If the wrong line is connected, the drive will not work. 3.When inserting drive into the main board, pay attention to see the direction of drive, can not insert backward, to prevent drive from burning. 4.Make sure to do a good job in heat dissipation (heat sink + heat dissipation fan) before driving to prevent abnormal operation of the drive. If you encounter problems in use, welcome to contact us, we will be answer to you ASAP . If you have any good comments or suggestions on our products, please tell us , we will carefully consider your comments or Suggestions. Thank you for choosing BIGTREETECH products, thank you!","title":"Precautions"},{"location":"TMC2209.html","text":"TMC2209 \u00b6 Introduction \u00b6 TMC2209 is an ultra-silent motor driver IC for two-phase stepper motors. Its continuous drive current is 2A and peak current is 2.8A. Compared with TMC2208, the driving current of this IC is not only improved by 0.6a-0.8a, but also this IC increases the function of locked-motor test. Voltage Range : 4.75V - 28V DC This IC have some patent technologies: SpreadCycle\u2122 (highly dynamic motor control chopper) StealthChop2\u2122 (ultra-quiet technology) MicroPlyer\u2122 (microstep control) StallGuard4\u2122 (locked-motor test) CoolStep\u2122 (current dynamic control) The Flexible microPlyer interpolation unit can provide 256 microsteps. Stallguard4\u2122locked-motor test can provide an abnormal signal when the motor rotates abnormally. CoolStep\u2122 current dynamic control can save 75% energy. The sinusoidal control can be perfectly realized even in the system with limited pulse frequency. Since stealthChop2 \u2122 ultra-quiet technology is widely used in 3D printing, the design of these components is also compatible with existing 3D printer electronic devices, and it eliminates the expensive cost of redesigning.The module has a standard step/dir interface, it's easy to use. Main Features \u00b6 The motor is difficult to lose steps. Ultra-quiet mode\uff1b The module has a large-area cooling pad\uff0cit can lower the temperature when drive is working. The module can prevent the motor from shaking. The module support locked-motor test. The module support STEP/DIR and UART mode. Basic Parameters \u00b6 Product size\uff1a15.24mm*20.32mm\uff1b Power voltage\uff08VM\uff09\uff1a4.75V---28V DC\uff1b Peak current\uff1a2.8A\uff1b Current RMS\uff1a2A\uff1b Microstep setting\uff1a2\u30014\u30018\u300116\uff08can be divided into 256 parts\uff09 Max microstep\uff1a256 Operating mode\uff1a STEP/DIR or UART Dimensions \u00b6 Pin Out/Function \u00b6 J1 MODE J2 Mode 1 \uff08EN\uff09Enable 1 \uff08VM\uff09Power voltage 2 \uff08MS1\uff09Microstep setting 2 \uff08GND\uff09Ground 3 \uff08MS2\uff09Microstep setting 3 \uff08A2\uff09Phase A 4 \uff08PDN\uff09UART 4 \uff08A1\uff09Phase A 5 \uff08PDN\uff09UART 5 \uff08B1\uff09Phase B 6 \uff08CLK\uff09clock 6 \uff08B2\uff09Phase B 7 \uff08STEP\uff09Pulse input 7 \uff08VCC_IO\uff09Logic voltage 8 \uff08DIR\uff09Direction input 8 \uff08GND\uff09Ground DIAG Diagnostic and StallGuard output. High level upon stall detection or driver error. Reset error condition by ENN=high. VREF Analog reference voltage for current scaling or reference current for use of internal sense resistors (optional mode). INDEX Configurable index output. Provides index pulse. Hardware Installation \u00b6 Microstep Setting \u00b6 Drive Current Formula \u00b6 Vref\uff1a0.2V \u2013 2.2V Factory default Vref: 1.2V \u00b10.1V Factory default current\uff1a0.9A Potentiometer regulation instructions Rotate the potentiometer clockwise to reduce the Vref voltage and the drive current can be reduced. Rotate the potentiometer counterclockwise to increase the Vref voltage and the drive current can be increased. Operating Mode \u00b6 Pin setting of UART mode \u00b6 The factory has connected the UART Pin to the fourth Pin, namely the PDN_UART Pin shown on the left side of the figure below. If the fifthPin is used as the UART Pin, the resistance shall be removed and welded to the following two pads, as shown on the right side of the figure below. PDN is welded to select pins corresponding to UART mode\uff1b UART mode wiring diagram \u00b6 Mute mode and anti-shake mode selection \u00b6 The default mode used by the factory is mute mode, as shown in the picture on the left of the following figure.If anti-shake mode is needed,remove the resistance and weld it to the following two pads, as shown in the picture on the right of the picture below. Software Configuration \u00b6 For details, please click: https://z1996xm.github.io/BIGTREETECH/TMC2208.html#software-configuration Precautions \u00b6 1\u3001Before installing the drive, make sure disconnect the power supply to prevent the drive from burning out. 2\u3001Before installing the drive, user must confirm the drive direction, to prevent back connection caused by the drive burning. 3\u3001Pay attention to the wiring sequence and I/O port when wiring. If the wrong line is connected, the driver will not work directly, please connect carefully as shown above. 4\u3001Do not plug and unplug the drive module when the device is working in order to avoid damage. 5\u3001When user install the heat sink, make sure the heat sink is not connected to the pin. We need prevent driving short circuit. 6\u3001The product is sensitive to static electricity, please handle it carefully. It is better that remove the package before using. 7\u3001Make sure to do heat dissipation treatment for the drive before using. (cooling pad, cooling fan)","title":"TMC2209"},{"location":"TMC2209.html#tmc2209","text":"","title":"TMC2209"},{"location":"TMC2209.html#introduction","text":"TMC2209 is an ultra-silent motor driver IC for two-phase stepper motors. Its continuous drive current is 2A and peak current is 2.8A. Compared with TMC2208, the driving current of this IC is not only improved by 0.6a-0.8a, but also this IC increases the function of locked-motor test. Voltage Range : 4.75V - 28V DC This IC have some patent technologies: SpreadCycle\u2122 (highly dynamic motor control chopper) StealthChop2\u2122 (ultra-quiet technology) MicroPlyer\u2122 (microstep control) StallGuard4\u2122 (locked-motor test) CoolStep\u2122 (current dynamic control) The Flexible microPlyer interpolation unit can provide 256 microsteps. Stallguard4\u2122locked-motor test can provide an abnormal signal when the motor rotates abnormally. CoolStep\u2122 current dynamic control can save 75% energy. The sinusoidal control can be perfectly realized even in the system with limited pulse frequency. Since stealthChop2 \u2122 ultra-quiet technology is widely used in 3D printing, the design of these components is also compatible with existing 3D printer electronic devices, and it eliminates the expensive cost of redesigning.The module has a standard step/dir interface, it's easy to use.","title":"Introduction"},{"location":"TMC2209.html#main-features","text":"The motor is difficult to lose steps. Ultra-quiet mode\uff1b The module has a large-area cooling pad\uff0cit can lower the temperature when drive is working. The module can prevent the motor from shaking. The module support locked-motor test. The module support STEP/DIR and UART mode.","title":"Main Features"},{"location":"TMC2209.html#basic-parameters","text":"Product size\uff1a15.24mm*20.32mm\uff1b Power voltage\uff08VM\uff09\uff1a4.75V---28V DC\uff1b Peak current\uff1a2.8A\uff1b Current RMS\uff1a2A\uff1b Microstep setting\uff1a2\u30014\u30018\u300116\uff08can be divided into 256 parts\uff09 Max microstep\uff1a256 Operating mode\uff1a STEP/DIR or UART","title":"Basic Parameters"},{"location":"TMC2209.html#dimensions","text":"","title":"Dimensions"},{"location":"TMC2209.html#pin-outfunction","text":"J1 MODE J2 Mode 1 \uff08EN\uff09Enable 1 \uff08VM\uff09Power voltage 2 \uff08MS1\uff09Microstep setting 2 \uff08GND\uff09Ground 3 \uff08MS2\uff09Microstep setting 3 \uff08A2\uff09Phase A 4 \uff08PDN\uff09UART 4 \uff08A1\uff09Phase A 5 \uff08PDN\uff09UART 5 \uff08B1\uff09Phase B 6 \uff08CLK\uff09clock 6 \uff08B2\uff09Phase B 7 \uff08STEP\uff09Pulse input 7 \uff08VCC_IO\uff09Logic voltage 8 \uff08DIR\uff09Direction input 8 \uff08GND\uff09Ground DIAG Diagnostic and StallGuard output. High level upon stall detection or driver error. Reset error condition by ENN=high. VREF Analog reference voltage for current scaling or reference current for use of internal sense resistors (optional mode). INDEX Configurable index output. Provides index pulse.","title":"Pin Out/Function"},{"location":"TMC2209.html#hardware-installation","text":"","title":"Hardware Installation"},{"location":"TMC2209.html#microstep-setting","text":"","title":"Microstep Setting"},{"location":"TMC2209.html#drive-current-formula","text":"Vref\uff1a0.2V \u2013 2.2V Factory default Vref: 1.2V \u00b10.1V Factory default current\uff1a0.9A Potentiometer regulation instructions Rotate the potentiometer clockwise to reduce the Vref voltage and the drive current can be reduced. Rotate the potentiometer counterclockwise to increase the Vref voltage and the drive current can be increased.","title":"Drive Current Formula"},{"location":"TMC2209.html#operating-mode","text":"","title":"Operating Mode"},{"location":"TMC2209.html#pin-setting-of-uart-mode","text":"The factory has connected the UART Pin to the fourth Pin, namely the PDN_UART Pin shown on the left side of the figure below. If the fifthPin is used as the UART Pin, the resistance shall be removed and welded to the following two pads, as shown on the right side of the figure below. PDN is welded to select pins corresponding to UART mode\uff1b","title":"Pin setting of UART mode"},{"location":"TMC2209.html#uart-mode-wiring-diagram","text":"","title":"UART mode wiring diagram"},{"location":"TMC2209.html#mute-mode-and-anti-shake-mode-selection","text":"The default mode used by the factory is mute mode, as shown in the picture on the left of the following figure.If anti-shake mode is needed,remove the resistance and weld it to the following two pads, as shown in the picture on the right of the picture below.","title":"Mute mode and anti-shake mode selection"},{"location":"TMC2209.html#software-configuration","text":"For details, please click: https://z1996xm.github.io/BIGTREETECH/TMC2208.html#software-configuration","title":"Software Configuration"},{"location":"TMC2209.html#precautions","text":"1\u3001Before installing the drive, make sure disconnect the power supply to prevent the drive from burning out. 2\u3001Before installing the drive, user must confirm the drive direction, to prevent back connection caused by the drive burning. 3\u3001Pay attention to the wiring sequence and I/O port when wiring. If the wrong line is connected, the driver will not work directly, please connect carefully as shown above. 4\u3001Do not plug and unplug the drive module when the device is working in order to avoid damage. 5\u3001When user install the heat sink, make sure the heat sink is not connected to the pin. We need prevent driving short circuit. 6\u3001The product is sensitive to static electricity, please handle it carefully. It is better that remove the package before using. 7\u3001Make sure to do heat dissipation treatment for the drive before using. (cooling pad, cooling fan)","title":"Precautions"},{"location":"TMC5160.html","text":"TMC5160 \u00b6 Introduction \u00b6 TMC5160 is a high-power stepper motor driving control chip, which has externally expanded power MOS tube, the maximum current can reach 20A, low heat when working. Supporting TRINAMICS unique stealthChop2 mode eliminates motor noise by reducing resonance and achieves a silent effect.StallGuard2 \u2122 blocking rotation detection is a safe stop to detect the motor and replaces a mechanical stop switch.It can achieve stepping motor torque control or sensorless back to the origin. dcStep \u2122 can let the motor run near its limit load and speed limit, can be achieved in the absence of any step 10 times or more dynamic range. spreadCycle \u2122 chopper algorithm has high precision, used for high dynamic motor sports and current wave absolutely clean. Low noise, low resonance and low vibration chopper. coolStep \u2122 current control function, optimize the drive performance, balance the speed and motor torque and optimize energy efficiency, drive smoothly and no noise, energy consumption can be reduced by 75%. TMC5160 is an expansion of the TMC2100, TMC2130 and TMC5130 series to higher voltages and higher motor currents. Main Features \u00b6 External power MOS tube can support larger current, the maximum current can reach 20A (because the module is limited by area, the current cannot exceed) Super-mute mode Low calorific value can prevent motor shake(5)not easy to lose step can drive 57 stepper motor Basic Parameters \u00b6 Driver chip: TMC5160-WA; Product size: 15.3mm*20.4mm; Power supply voltage (VM) : 8V-- -40v; Maximum current: 4.4A (the sense resistor determines the maximum current); Maximum subdivision: 256; Working mode: SPI mode Interface Diagram \u00b6 Pin Out/Function \u00b6 Hardware Configuration \u00b6 Driver Current Description \u00b6 The range of driver current depends on the value of the sense resistor. The relationship between the effective value and maximum value of the driver current and the magnitude of the sense-resistor, please see the following picture: The sense resistors used in the TMC5160-V1.0 is 0.075R, so the effective value of the driver current of this driver is 3.1A, and the maximum current is 4.4A. If you need to use a larger current, you need to replace the value of the sense resistor yourself (you need to prepare the components and soldering yourself). Replace the resistor not less than 0.05R (subject to module size limit). Note: It is not recommended to replace the resistor. If it must be replaced,the driver will be damaged during the replacement process is at your own risk. Hardware Installation \u00b6 The pins with white block diagram on the driver are enabled (EN) pins as shown in the red box below. Software Configuration \u00b6 Special note : Currently only firmware of Marlin 2.0 and above supports the SPI mode of TMC5160. Find and open \u201cConfiguration.h\u201d in Marlin 2.0 firmware File, and then find \"# define MOTHERBOARD XXXXXX\" and \"XXXXX\"Represents the type of board used. Confirm the motherboard you use. Find the \"pins_xxxxxx.h\" file (xxxx represents the model of the board) in the Marlin \\src \\pins directory, and then find \"X_CS_PIN\", \"Y_CS_PIN\", \"Z_CS_PIN\", \"EO_CS_PIN\" under the file.Finally modify the following pin name to the pin you use. Find \"#define TMC_SW_MOSI XXX\", \"#define TMC_SW_MISO XXX\", \"#define TMC_SW_SCK XXX\" under the file in Step 2. Modify \"XXX\" to the pin you want to use. Find and open \"Configuration_adv.h\" and then find \" define TMC_USE_SW_SPI\" to remove the shield \"//\". Under the \"Configuration_adv.h\" file, find \"# define X_CURRENT\", \"#define X_MICROSTEPS\", \"#define X_RSENSE\". After modification of the parameters (the axes used need to be modified), the RSENE of the axes used should be changed to \"0.075\" After the modification of Step 5 is completed, find and open \"Configuration. h\" and then find \"# define\" DEFAULT_AXIS_STEPS_PER_UNIT\" modifies the following parameters to set the subdivision, which must correspond to the subdivision of step 5. Subdivision calculation method, \"80, 80, 400, 96\" represents 16 subdivisions. If modified to 32 subdivisions, it will be \"80 (32/16), 80 (32/16), 400 (32/16), 96 (32/16). Precautions \u00b6 Always disconnect the power supply before installing the driver to prevent the driver from burning. Be sure to confirm the direction of the driver before installing the driver. Prevent the driver from burning due to reverse connection. Please do not plug and unplug the driver module when power is on to avoid damage. When installing the heat sink, please be careful not to contact the heat sink and the pin header to prevent short circuit. The product is sensitive to static electricity, please handle it carefully when using, it is best to remove the package when using.","title":"TMC5160"},{"location":"TMC5160.html#tmc5160","text":"","title":"TMC5160"},{"location":"TMC5160.html#introduction","text":"TMC5160 is a high-power stepper motor driving control chip, which has externally expanded power MOS tube, the maximum current can reach 20A, low heat when working. Supporting TRINAMICS unique stealthChop2 mode eliminates motor noise by reducing resonance and achieves a silent effect.StallGuard2 \u2122 blocking rotation detection is a safe stop to detect the motor and replaces a mechanical stop switch.It can achieve stepping motor torque control or sensorless back to the origin. dcStep \u2122 can let the motor run near its limit load and speed limit, can be achieved in the absence of any step 10 times or more dynamic range. spreadCycle \u2122 chopper algorithm has high precision, used for high dynamic motor sports and current wave absolutely clean. Low noise, low resonance and low vibration chopper. coolStep \u2122 current control function, optimize the drive performance, balance the speed and motor torque and optimize energy efficiency, drive smoothly and no noise, energy consumption can be reduced by 75%. TMC5160 is an expansion of the TMC2100, TMC2130 and TMC5130 series to higher voltages and higher motor currents.","title":"Introduction"},{"location":"TMC5160.html#main-features","text":"External power MOS tube can support larger current, the maximum current can reach 20A (because the module is limited by area, the current cannot exceed) Super-mute mode Low calorific value can prevent motor shake(5)not easy to lose step can drive 57 stepper motor","title":"Main Features"},{"location":"TMC5160.html#basic-parameters","text":"Driver chip: TMC5160-WA; Product size: 15.3mm*20.4mm; Power supply voltage (VM) : 8V-- -40v; Maximum current: 4.4A (the sense resistor determines the maximum current); Maximum subdivision: 256; Working mode: SPI mode","title":"Basic Parameters"},{"location":"TMC5160.html#interface-diagram","text":"","title":"Interface Diagram"},{"location":"TMC5160.html#pin-outfunction","text":"","title":"Pin Out/Function"},{"location":"TMC5160.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"TMC5160.html#driver-current-description","text":"The range of driver current depends on the value of the sense resistor. The relationship between the effective value and maximum value of the driver current and the magnitude of the sense-resistor, please see the following picture: The sense resistors used in the TMC5160-V1.0 is 0.075R, so the effective value of the driver current of this driver is 3.1A, and the maximum current is 4.4A. If you need to use a larger current, you need to replace the value of the sense resistor yourself (you need to prepare the components and soldering yourself). Replace the resistor not less than 0.05R (subject to module size limit). Note: It is not recommended to replace the resistor. If it must be replaced,the driver will be damaged during the replacement process is at your own risk.","title":"Driver Current Description"},{"location":"TMC5160.html#hardware-installation","text":"The pins with white block diagram on the driver are enabled (EN) pins as shown in the red box below.","title":"Hardware Installation"},{"location":"TMC5160.html#software-configuration","text":"Special note : Currently only firmware of Marlin 2.0 and above supports the SPI mode of TMC5160. Find and open \u201cConfiguration.h\u201d in Marlin 2.0 firmware File, and then find \"# define MOTHERBOARD XXXXXX\" and \"XXXXX\"Represents the type of board used. Confirm the motherboard you use. Find the \"pins_xxxxxx.h\" file (xxxx represents the model of the board) in the Marlin \\src \\pins directory, and then find \"X_CS_PIN\", \"Y_CS_PIN\", \"Z_CS_PIN\", \"EO_CS_PIN\" under the file.Finally modify the following pin name to the pin you use. Find \"#define TMC_SW_MOSI XXX\", \"#define TMC_SW_MISO XXX\", \"#define TMC_SW_SCK XXX\" under the file in Step 2. Modify \"XXX\" to the pin you want to use. Find and open \"Configuration_adv.h\" and then find \" define TMC_USE_SW_SPI\" to remove the shield \"//\". Under the \"Configuration_adv.h\" file, find \"# define X_CURRENT\", \"#define X_MICROSTEPS\", \"#define X_RSENSE\". After modification of the parameters (the axes used need to be modified), the RSENE of the axes used should be changed to \"0.075\" After the modification of Step 5 is completed, find and open \"Configuration. h\" and then find \"# define\" DEFAULT_AXIS_STEPS_PER_UNIT\" modifies the following parameters to set the subdivision, which must correspond to the subdivision of step 5. Subdivision calculation method, \"80, 80, 400, 96\" represents 16 subdivisions. If modified to 32 subdivisions, it will be \"80 (32/16), 80 (32/16), 400 (32/16), 96 (32/16).","title":"Software Configuration"},{"location":"TMC5160.html#precautions","text":"Always disconnect the power supply before installing the driver to prevent the driver from burning. Be sure to confirm the direction of the driver before installing the driver. Prevent the driver from burning due to reverse connection. Please do not plug and unplug the driver module when power is on to avoid damage. When installing the heat sink, please be careful not to contact the heat sink and the pin header to prevent short circuit. The product is sensitive to static electricity, please handle it carefully when using, it is best to remove the package when using.","title":"Precautions"},{"location":"Tutorials.html","text":"Tutorials \u00b6 COMMON DRIVER JUMPER TABLES \u00b6 These tables are provided as a convenience to the user. Since we cannot speak on behalf of the manufacturer of your drivers it is recommended that you still find the datasheet for your drivers and reference the pin settings required for the microstepping factor that you desire. Note that the pin naming and ordering in the tables below is not consistent but the lowest number pin will always map to the pin named MS1 on the octopus and the numbering follows from there. Driver Chips MODE2 MODE1 MODE0 Microsteps Excitation Mode DRV8825 Maximum 32 microsteps 8.2V-45V 2.5A at 24V T=25\u2103 L L L Full Step 2 Phase L L H 1/2 1-2 Phase L H L 1/4 W1-2 Phase L H H 1/8 H L L 1/16 H L H 1/32 H H L 1/32 H H H 1/32 Current R ISENSE =0.1\u03a9 I CHOP = V (xREF) / 5 / R ISENSE Driver Chips MS1 MS2 MS3 Microsteps Excitation Mode A4988 16 microstep max 35V 2A L L L Full Step 2 Phase H L L 1/2 1-2 Phase L H L 1/4 W1-2 Phase H H L 1/8 2W1-2 Phase H H H 1/16 4W1-2 Phase Current R S =0.1\u03a9 I TripMAX = V REF / 8 / R S Driver Chips MD3 MD2 MD1 Microsteps Excitation Mode LV8729 Maximum 128 microsteps 36V 1.8A L L L Full Step 2 Phase L L H 1/2 1-2 Phase L H L 1/4 W1-2 Phase L H H 1/8 2W1-2 Phase H L L 1/16 4W1-2 Phase H L H 1/32 8W1-2 Phase H H L 1/64 16W1-2 Phase H H H 1/128 32W1-2 Phase Current RF1=0.22\u03a9 I OUT = (V REF / 5) / RF1 Driver Chips MS3 MS2 MS1 Microsteps ST820 Maximum 256 microsteps 45V 1.5A L L L Full Step L L H 1/2 L H L 1/4 L H H 1/8 H L L 1/16 H L H 1/32 H H L 1/64 H H H 1/128 Current R S =0.15\u03a9 I peak = (V REF * V DD ) / (5 * R S )","title":"Tutorials"},{"location":"Tutorials.html#tutorials","text":"","title":"Tutorials"},{"location":"Tutorials.html#common-driver-jumper-tables","text":"These tables are provided as a convenience to the user. Since we cannot speak on behalf of the manufacturer of your drivers it is recommended that you still find the datasheet for your drivers and reference the pin settings required for the microstepping factor that you desire. Note that the pin naming and ordering in the tables below is not consistent but the lowest number pin will always map to the pin named MS1 on the octopus and the numbering follows from there. Driver Chips MODE2 MODE1 MODE0 Microsteps Excitation Mode DRV8825 Maximum 32 microsteps 8.2V-45V 2.5A at 24V T=25\u2103 L L L Full Step 2 Phase L L H 1/2 1-2 Phase L H L 1/4 W1-2 Phase L H H 1/8 H L L 1/16 H L H 1/32 H H L 1/32 H H H 1/32 Current R ISENSE =0.1\u03a9 I CHOP = V (xREF) / 5 / R ISENSE Driver Chips MS1 MS2 MS3 Microsteps Excitation Mode A4988 16 microstep max 35V 2A L L L Full Step 2 Phase H L L 1/2 1-2 Phase L H L 1/4 W1-2 Phase H H L 1/8 2W1-2 Phase H H H 1/16 4W1-2 Phase Current R S =0.1\u03a9 I TripMAX = V REF / 8 / R S Driver Chips MD3 MD2 MD1 Microsteps Excitation Mode LV8729 Maximum 128 microsteps 36V 1.8A L L L Full Step 2 Phase L L H 1/2 1-2 Phase L H L 1/4 W1-2 Phase L H H 1/8 2W1-2 Phase H L L 1/16 4W1-2 Phase H L H 1/32 8W1-2 Phase H H L 1/64 16W1-2 Phase H H H 1/128 32W1-2 Phase Current RF1=0.22\u03a9 I OUT = (V REF / 5) / RF1 Driver Chips MS3 MS2 MS1 Microsteps ST820 Maximum 256 microsteps 45V 1.5A L L L Full Step L L H 1/2 L H L 1/4 L H H 1/8 H L L 1/16 H L H 1/32 H H L 1/64 H H H 1/128 Current R S =0.15\u03a9 I peak = (V REF * V DD ) / (5 * R S )","title":"COMMON DRIVER JUMPER TABLES"},{"location":"U2C.html","text":"U2C \u00b6 Introduction \u00b6 BIGTREETECH U2C is a USB to CAN bus module, which can convert the USB port of Raspberry Pi to the CAN bus, and connect 3D printing motherboard, BIGTREETECH EBB35/36/42 CAN and other products through CAN bus. There are many different forms of CAN interfaces on the board, which are helpful to connect to different boards. CAN bus has many advantages in the field of industrial control, so our company has launched this USB to CAN module. The CAN bus has a long transmission distance, and a large number of nodes can be mounted on it, so the motherboard, EBB, and other expansion boards can be mounted on the same CAN bus at the same time. Main Features \u00b6 Support CAN bus connection, long data transmission, strong anti-noise ability, strong real-time performance and high reliability. The surface of the PCB adopts the ENIG process. The TYPE-C port is equipped with ESD protection to prevent static electricity from damaging the hardware. Support firmware update for the motherboard through SWD or hardware DFU. More than on CAN interface. Dimensions \u00b6 Interface Diagram \u00b6 CAN_IN: USB to CAN interface for connecting to Raspberry Pi. CAN_OUT*: It is used to connect an interface without CAN transceiver but with CAN function, such as connecting to the USB port of the motherboard, where the pin connecting the USB port of the motherboard to the main controller must have CAN function. E. g.: CAN_OUT: Used to connect BIGTREETECH EBB CAN or other boards with CAN transceivers. Power: Power Supply. Pinout \u00b6 Product Display \u00b6 Hardware Configuration \u00b6 Optional Wiring Diagram \u00b6 Software Configuration \u00b6 Firmware Source Code \u00b6 V1.0/1.1 use the open source CandleLight firmware: https://github.com/candle-usb/candleLight_fw MCU Model: STM32F072C8 V2.0/2.1 STM32G0 support is added on the basis of open source CandleLight: https://github.com/bigtreetech/candleLight_fw/tree/stm32g0_support MCU Model: STM32G0B1C8 Firmware Update \u00b6 After the module is completely powered off, press and hold the Boot button, plug the Type-C data cable to power the module, enter the DFU mode, and use the STM32CubeProgrammer software to update the firmware. Klipper Configuration \u00b6 Firmware Configuration Reference: https://www.klipper3d.org/CANBUS.html 1.Enter command in ssh terminal sudo nano /etc/network/interfaces.d/can0 and execute auto can0 iface can0 can static bitrate 500000 up ifconfig $IFACE txqueuelen 1024 Set the CANBus speed to 500K (must be the same as the speed set in the firmware (500000) CAN bus speed), save after modification (Ctrl + S) and exit (Ctrl + X), enter sudo reboot to restart the Raspberry Pi. 2.Every device on CANBus generates a canbus_uuid based on the MCU's UID, to find each microcontroller device ID, make sure the hardware is powered on and wired correctly, then run: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 3.If an uninitialized CAN device is detected, the above command will report the device's canbus_uuid: Found canbus_uuid=0e0d81e4210c 4.If Klipper is already running and connected to this device, the canbus_uuid will not be reported, which is normal. Precautions \u00b6 12/24V and GND should be connected correctly. When using CAN communication, you need to see which CAN node is used as a terminal. If using a terminal, you must plug the jumper cap at the 120R position.","title":"U2C"},{"location":"U2C.html#u2c","text":"","title":"U2C"},{"location":"U2C.html#introduction","text":"BIGTREETECH U2C is a USB to CAN bus module, which can convert the USB port of Raspberry Pi to the CAN bus, and connect 3D printing motherboard, BIGTREETECH EBB35/36/42 CAN and other products through CAN bus. There are many different forms of CAN interfaces on the board, which are helpful to connect to different boards. CAN bus has many advantages in the field of industrial control, so our company has launched this USB to CAN module. The CAN bus has a long transmission distance, and a large number of nodes can be mounted on it, so the motherboard, EBB, and other expansion boards can be mounted on the same CAN bus at the same time.","title":"Introduction"},{"location":"U2C.html#main-features","text":"Support CAN bus connection, long data transmission, strong anti-noise ability, strong real-time performance and high reliability. The surface of the PCB adopts the ENIG process. The TYPE-C port is equipped with ESD protection to prevent static electricity from damaging the hardware. Support firmware update for the motherboard through SWD or hardware DFU. More than on CAN interface.","title":"Main Features"},{"location":"U2C.html#dimensions","text":"","title":"Dimensions"},{"location":"U2C.html#interface-diagram","text":"CAN_IN: USB to CAN interface for connecting to Raspberry Pi. CAN_OUT*: It is used to connect an interface without CAN transceiver but with CAN function, such as connecting to the USB port of the motherboard, where the pin connecting the USB port of the motherboard to the main controller must have CAN function. E. g.: CAN_OUT: Used to connect BIGTREETECH EBB CAN or other boards with CAN transceivers. Power: Power Supply.","title":"Interface Diagram"},{"location":"U2C.html#pinout","text":"","title":"Pinout"},{"location":"U2C.html#product-display","text":"","title":"Product Display"},{"location":"U2C.html#hardware-configuration","text":"","title":"Hardware Configuration"},{"location":"U2C.html#optional-wiring-diagram","text":"","title":"Optional Wiring Diagram"},{"location":"U2C.html#software-configuration","text":"","title":"Software Configuration"},{"location":"U2C.html#firmware-source-code","text":"V1.0/1.1 use the open source CandleLight firmware: https://github.com/candle-usb/candleLight_fw MCU Model: STM32F072C8 V2.0/2.1 STM32G0 support is added on the basis of open source CandleLight: https://github.com/bigtreetech/candleLight_fw/tree/stm32g0_support MCU Model: STM32G0B1C8","title":"Firmware Source Code"},{"location":"U2C.html#firmware-update","text":"After the module is completely powered off, press and hold the Boot button, plug the Type-C data cable to power the module, enter the DFU mode, and use the STM32CubeProgrammer software to update the firmware.","title":"Firmware Update"},{"location":"U2C.html#klipper-configuration","text":"Firmware Configuration Reference: https://www.klipper3d.org/CANBUS.html 1.Enter command in ssh terminal sudo nano /etc/network/interfaces.d/can0 and execute auto can0 iface can0 can static bitrate 500000 up ifconfig $IFACE txqueuelen 1024 Set the CANBus speed to 500K (must be the same as the speed set in the firmware (500000) CAN bus speed), save after modification (Ctrl + S) and exit (Ctrl + X), enter sudo reboot to restart the Raspberry Pi. 2.Every device on CANBus generates a canbus_uuid based on the MCU's UID, to find each microcontroller device ID, make sure the hardware is powered on and wired correctly, then run: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 3.If an uninitialized CAN device is detected, the above command will report the device's canbus_uuid: Found canbus_uuid=0e0d81e4210c 4.If Klipper is already running and connected to this device, the canbus_uuid will not be reported, which is normal.","title":"Klipper Configuration"},{"location":"U2C.html#precautions","text":"12/24V and GND should be connected correctly. When using CAN communication, you need to see which CAN node is used as a terminal. If using a terminal, you must plug the jumper cap at the 120R position.","title":"Precautions"}]}